/*! For license information please see main.ea181360.js.LICENSE.txt */
!function(){var t={5318:function(t){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports},7757:function(t,e,n){t.exports=n(9727)},8174:function(t){t.exports=function(){for(var t=arguments.length,e=[],n=0;n<t;n++)e[n]=arguments[n];if(0!==(e=e.filter((function(t){return null!=t}))).length)return 1===e.length?e[0]:e.reduce((function(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}))}},8354:function(t,e,n){"use strict";var r=n(5318);e.__esModule=!0,e.default=function(t,e){t.classList?t.classList.add(e):(0,i.default)(t,e)||("string"===typeof t.className?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))};var i=r(n(3812));t.exports=e.default},3812:function(t,e){"use strict";e.__esModule=!0,e.default=function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")},t.exports=e.default},2910:function(t){"use strict";function e(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}t.exports=function(t,n){t.classList?t.classList.remove(n):"string"===typeof t.className?t.className=e(t.className,n):t.setAttribute("class",e(t.className&&t.className.baseVal||"",n))}},2232:function(t,e,n){"use strict";var r=n(5318);e.__esModule=!0,e.default=e.animationEnd=e.animationDelay=e.animationTiming=e.animationDuration=e.animationName=e.transitionEnd=e.transitionDuration=e.transitionDelay=e.transitionTiming=e.transitionProperty=e.transform=void 0;var i,a,o,s,c,u,l,f,h,d,p,g=r(n(4071)),y="transform";if(e.transform=y,e.animationEnd=o,e.transitionEnd=a,e.transitionDelay=l,e.transitionTiming=u,e.transitionDuration=c,e.transitionProperty=s,e.animationDelay=p,e.animationTiming=d,e.animationDuration=h,e.animationName=f,g.default){var v=function(){for(var t,e,n=document.createElement("div").style,r={O:function(t){return"o"+t.toLowerCase()},Moz:function(t){return t.toLowerCase()},Webkit:function(t){return"webkit"+t},ms:function(t){return"MS"+t}},i=Object.keys(r),a="",o=0;o<i.length;o++){var s=i[o];if(s+"TransitionProperty"in n){a="-"+s.toLowerCase(),t=r[s]("TransitionEnd"),e=r[s]("AnimationEnd");break}}!t&&"transitionProperty"in n&&(t="transitionend");!e&&"animationName"in n&&(e="animationend");return n=null,{animationEnd:e,transitionEnd:t,prefix:a}}();i=v.prefix,e.transitionEnd=a=v.transitionEnd,e.animationEnd=o=v.animationEnd,e.transform=y=i+"-"+y,e.transitionProperty=s=i+"-transition-property",e.transitionDuration=c=i+"-transition-duration",e.transitionDelay=l=i+"-transition-delay",e.transitionTiming=u=i+"-transition-timing-function",e.animationName=f=i+"-animation-name",e.animationDuration=h=i+"-animation-duration",e.animationTiming=d=i+"-animation-delay",e.animationDelay=p=i+"-animation-timing-function"}var m={transform:y,end:a,property:s,timing:u,delay:l,duration:c};e.default=m},4071:function(t,e){"use strict";e.__esModule=!0,e.default=void 0;var n=!("undefined"===typeof window||!window.document||!window.document.createElement);e.default=n,t.exports=e.default},7584:function(t,e,n){"use strict";var r=n(5318);e.__esModule=!0,e.default=void 0;var i,a=r(n(4071)),o="clearTimeout",s=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-u)),r=setTimeout(t,n);return u=e,r},c=function(t,e){return t+(t?e[0].toUpperCase()+e.substr(1):e)+"AnimationFrame"};a.default&&["","webkit","moz","o","ms"].some((function(t){var e=c(t,"request");if(e in window)return o=c(t,"cancel"),s=function(t){return window[e](t)}}));var u=(new Date).getTime();(i=function(t){return s(t)}).cancel=function(t){window[o]&&"function"===typeof window[o]&&window[o](t)};var l=i;e.default=l,t.exports=e.default},1845:function(t,e,n){var r;!function(){"use strict";var i=function(){this.init()};i.prototype={init:function(){var t=this||a;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!==typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var e=this||a;if(t=parseFloat(t),e.ctx||d(),"undefined"!==typeof t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t,a.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var r=e._howls[n]._getSoundIds(),i=0;i<r.length;i++){var o=e._howls[n]._soundById(r[i]);o&&o._node&&(o._node.volume=o._volume*t)}return e}return e._volume},mute:function(t){var e=this||a;e.ctx||d(),e._muted=t,e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t?0:e._volume,a.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var r=e._howls[n]._getSoundIds(),i=0;i<r.length;i++){var o=e._howls[n]._soundById(r[i]);o&&o._node&&(o._node.muted=!!t||o._muted)}return e},unload:function(){for(var t=this||a,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&"undefined"!==typeof t.ctx.close&&(t.ctx.close(),t.ctx=null,d()),t},codecs:function(t){return(this||a)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||a;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if("undefined"!==typeof Audio)try{"undefined"===typeof(new Audio).oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{(new Audio).muted&&(t.noAudio=!0)}catch(e){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||a,e=null;try{e="undefined"!==typeof Audio?new Audio:null}catch(o){return t}if(!e||"function"!==typeof e.canPlayType)return t;var n=e.canPlayType("audio/mpeg;").replace(/^no$/,""),r=t._navigator&&t._navigator.userAgent.match(/OPR\/([0-6].)/g),i=r&&parseInt(r[0].split("/")[1],10)<33;return t._codecs={mp3:!(i||!n&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var t=this||a;if(!t._audioUnlocked&&t.ctx){t._audioUnlocked=!1,t.autoUnlock=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var e=function e(n){for(var r=0;r<t.html5PoolSize;r++)try{var i=new Audio;i._unlocked=!0,t._releaseHtml5Audio(i)}catch(n){t.noAudio=!0}for(r=0;r<t._howls.length;r++)if(!t._howls[r]._webAudio)for(var a=t._howls[r]._getSoundIds(),o=0;o<a.length;o++){var s=t._howls[r]._soundById(a[o]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}t._autoResume();var c=t.ctx.createBufferSource();c.buffer=t._scratchBuffer,c.connect(t.ctx.destination),"undefined"===typeof c.start?c.noteOn(0):c.start(0),"function"===typeof t.ctx.resume&&t.ctx.resume(),c.onended=function(){c.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",e,!0),document.removeEventListener("touchend",e,!0),document.removeEventListener("click",e,!0);for(var n=0;n<t._howls.length;n++)t._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",e,!0),document.addEventListener("touchend",e,!0),document.addEventListener("click",e,!0),t}},_obtainHtml5Audio:function(){var t=this||a;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var e=(new Audio).play();return e&&"undefined"!==typeof Promise&&(e instanceof Promise||"function"===typeof e.then)&&e.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(t){var e=this||a;return t._unlocked&&e._html5AudioPool.push(t),e},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&"undefined"!==typeof t.ctx.suspend&&a.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var n=0;n<t._howls[e]._sounds.length;n++)if(!t._howls[e]._sounds[n]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout((function(){t.autoSuspend&&(t._suspendTimer=null,t.state="suspending",t.ctx.suspend().then((function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())})))}),3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&"undefined"!==typeof t.ctx.resume&&a.usingWebAudio)return"running"===t.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state?(t.ctx.resume().then((function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")})),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var a=new i,o=function(t){t.src&&0!==t.src.length?this.init(t):console.error("An array of source files must be passed with any new Howl.")};o.prototype={init:function(t){var e=this;return a.ctx||d(),e._autoplay=t.autoplay||!1,e._format="string"!==typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!==typeof t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!==typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._xhrWithCredentials=t.xhrWithCredentials||!1,e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._playLock=!1,e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onunlock=t.onunlock?[{fn:t.onunlock}]:[],e._onresume=[],e._webAudio=a.usingWebAudio&&!e._html5,"undefined"!==typeof a.ctx&&a.ctx&&a.autoUnlock&&a._unlockAudio(),a._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&e.load(),e},load:function(){var t=this,e=null;if(a.noAudio)t._emit("loaderror",null,"No audio support.");else{"string"===typeof t._src&&(t._src=[t._src]);for(var n=0;n<t._src.length;n++){var r,i;if(t._format&&t._format[n])r=t._format[n];else{if("string"!==typeof(i=t._src[n])){t._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(r=/^data:audio\/([^;,]+);/i.exec(i))||(r=/\.([^.]+)$/.exec(i.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),r&&a.codecs(r)){e=t._src[n];break}}if(e)return t._src=e,t._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(t._html5=!0,t._webAudio=!1),new s(t),t._webAudio&&u(t),t;t._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(t,e){var n=this,r=null;if("number"===typeof t)r=t,t=null;else{if("string"===typeof t&&"loaded"===n._state&&!n._sprite[t])return null;if("undefined"===typeof t&&(t="__default",!n._playLock)){for(var i=0,o=0;o<n._sounds.length;o++)n._sounds[o]._paused&&!n._sounds[o]._ended&&(i++,r=n._sounds[o]._id);1===i?t=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!t&&(t=s._sprite||"__default"),"loaded"!==n._state){s._sprite=t,s._ended=!1;var c=s._id;return n._queue.push({event:"play",action:function(){n.play(c)}}),c}if(r&&!s._paused)return e||n._loadQueue("play"),s._id;n._webAudio&&a._autoResume();var u=Math.max(0,s._seek>0?s._seek:n._sprite[t][0]/1e3),l=Math.max(0,(n._sprite[t][0]+n._sprite[t][1])/1e3-u),f=1e3*l/Math.abs(s._rate),h=n._sprite[t][0]/1e3,d=(n._sprite[t][0]+n._sprite[t][1])/1e3;s._sprite=t,s._ended=!1;var p=function(){s._paused=!1,s._seek=u,s._start=h,s._stop=d,s._loop=!(!s._loop&&!n._sprite[t][2])};if(!(u>=d)){var g=s._node;if(n._webAudio){var y=function(){n._playLock=!1,p(),n._refreshBuffer(s);var t=s._muted||n._muted?0:s._volume;g.gain.setValueAtTime(t,a.ctx.currentTime),s._playStart=a.ctx.currentTime,"undefined"===typeof g.bufferSource.start?s._loop?g.bufferSource.noteGrainOn(0,u,86400):g.bufferSource.noteGrainOn(0,u,l):s._loop?g.bufferSource.start(0,u,86400):g.bufferSource.start(0,u,l),f!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),f)),e||setTimeout((function(){n._emit("play",s._id),n._loadQueue()}),0)};"running"===a.state?y():(n._playLock=!0,n.once("resume",y),n._clearTimer(s._id))}else{var v=function(){g.currentTime=u,g.muted=s._muted||n._muted||a._muted||g.muted,g.volume=s._volume*a.volume(),g.playbackRate=s._rate;try{var r=g.play();if(r&&"undefined"!==typeof Promise&&(r instanceof Promise||"function"===typeof r.then)?(n._playLock=!0,p(),r.then((function(){n._playLock=!1,g._unlocked=!0,e||(n._emit("play",s._id),n._loadQueue())})).catch((function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0}))):e||(n._playLock=!1,p(),n._emit("play",s._id),n._loadQueue()),g.playbackRate=s._rate,g.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==t||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),f):(n._endTimers[s._id]=function(){n._ended(s),g.removeEventListener("ended",n._endTimers[s._id],!1)},g.addEventListener("ended",n._endTimers[s._id],!1))}catch(i){n._emit("playerror",s._id,i)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===g.src&&(g.src=n._src,g.load());var m=window&&window.ejecta||!g.readyState&&a._navigator.isCocoonJS;if(g.readyState>=3||m)v();else{n._playLock=!0;g.addEventListener(a._canPlayEvent,(function t(){v(),g.removeEventListener(a._canPlayEvent,t,!1)}),!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(t){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var n=e._getSoundIds(t),r=0;r<n.length;r++){e._clearTimer(n[r]);var i=e._soundById(n[r]);if(i&&!i._paused&&(i._seek=e.seek(n[r]),i._rateSeek=0,i._paused=!0,e._stopFade(n[r]),i._node))if(e._webAudio){if(!i._node.bufferSource)continue;"undefined"===typeof i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),e._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause();arguments[1]||e._emit("pause",i?i._id:null)}return e},stop:function(t,e){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(t)}}),n;for(var r=n._getSoundIds(t),i=0;i<r.length;i++){n._clearTimer(r[i]);var a=n._soundById(r[i]);a&&(a._seek=a._start||0,a._rateSeek=0,a._paused=!0,a._ended=!0,n._stopFade(r[i]),a._node&&(n._webAudio?a._node.bufferSource&&("undefined"===typeof a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),n._cleanBuffer(a._node)):isNaN(a._node.duration)&&a._node.duration!==1/0||(a._node.currentTime=a._start||0,a._node.pause(),a._node.duration===1/0&&n._clearSound(a._node))),e||n._emit("stop",a._id))}return n},mute:function(t,e){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(t,e)}}),n;if("undefined"===typeof e){if("boolean"!==typeof t)return n._muted;n._muted=t}for(var r=n._getSoundIds(e),i=0;i<r.length;i++){var o=n._soundById(r[i]);o&&(o._muted=t,o._interval&&n._stopFade(o._id),n._webAudio&&o._node?o._node.gain.setValueAtTime(t?0:o._volume,a.ctx.currentTime):o._node&&(o._node.muted=!!a._muted||t),n._emit("mute",o._id))}return n},volume:function(){var t,e,n,r=this,i=arguments;if(0===i.length)return r._volume;if(1===i.length||2===i.length&&"undefined"===typeof i[1]){var o=r._getSoundIds(),s=o.indexOf(i[0]);s>=0?e=parseInt(i[0],10):t=parseFloat(i[0])}else i.length>=2&&(t=parseFloat(i[0]),e=parseInt(i[1],10));if(!("undefined"!==typeof t&&t>=0&&t<=1))return(n=e?r._soundById(e):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,i)}}),r;"undefined"===typeof e&&(r._volume=t),e=r._getSoundIds(e);for(var c=0;c<e.length;c++)(n=r._soundById(e[c]))&&(n._volume=t,i[2]||r._stopFade(e[c]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(t,a.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=t*a.volume()),r._emit("volume",n._id));return r},fade:function(t,e,n,r){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"fade",action:function(){i.fade(t,e,n,r)}}),i;t=parseFloat(t),e=parseFloat(e),n=parseFloat(n),i.volume(t,r);for(var o=i._getSoundIds(r),s=0;s<o.length;s++){var c=i._soundById(o[s]);if(c){if(r||i._stopFade(o[s]),i._webAudio&&!c._muted){var u=a.ctx.currentTime,l=u+n/1e3;c._volume=t,c._node.gain.setValueAtTime(t,u),c._node.gain.linearRampToValueAtTime(e,l)}i._startFadeInterval(c,t,e,n,o[s],"undefined"===typeof r)}}return i},_startFadeInterval:function(t,e,n,r,i,a){var o=this,s=e,c=n-e,u=Math.abs(c/.01),l=Math.max(4,u>0?r/u:r),f=Date.now();t._fadeTo=n,t._interval=setInterval((function(){var i=(Date.now()-f)/r;f=Date.now(),s+=c*i,s=Math.max(0,s),s=Math.min(1,s),s=Math.round(100*s)/100,o._webAudio?t._volume=s:o.volume(s,t._id,!0),a&&(o._volume=s),(n<e&&s<=n||n>e&&s>=n)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,o.volume(n,t._id),o._emit("fade",t._id))}),l)},_stopFade:function(t){var e=this,n=e._soundById(t);return n&&n._interval&&(e._webAudio&&n._node.gain.cancelScheduledValues(a.ctx.currentTime),clearInterval(n._interval),n._interval=null,e.volume(n._fadeTo,t),n._fadeTo=null,e._emit("fade",t)),e},loop:function(){var t,e,n,r=this,i=arguments;if(0===i.length)return r._loop;if(1===i.length){if("boolean"!==typeof i[0])return!!(n=r._soundById(parseInt(i[0],10)))&&n._loop;t=i[0],r._loop=t}else 2===i.length&&(t=i[0],e=parseInt(i[1],10));for(var a=r._getSoundIds(e),o=0;o<a.length;o++)(n=r._soundById(a[o]))&&(n._loop=t,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=t,t&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop)));return r},rate:function(){var t,e,n,r=this,i=arguments;if(0===i.length)e=r._sounds[0]._id;else if(1===i.length){var o=r._getSoundIds(),s=o.indexOf(i[0]);s>=0?e=parseInt(i[0],10):t=parseFloat(i[0])}else 2===i.length&&(t=parseFloat(i[0]),e=parseInt(i[1],10));if("number"!==typeof t)return(n=r._soundById(e))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,i)}}),r;"undefined"===typeof e&&(r._rate=t),e=r._getSoundIds(e);for(var c=0;c<e.length;c++)if(n=r._soundById(e[c])){r.playing(e[c])&&(n._rateSeek=r.seek(e[c]),n._playStart=r._webAudio?a.ctx.currentTime:n._playStart),n._rate=t,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(t,a.ctx.currentTime):n._node&&(n._node.playbackRate=t);var u=r.seek(e[c]),l=(r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-u,f=1e3*l/Math.abs(n._rate);!r._endTimers[e[c]]&&n._paused||(r._clearTimer(e[c]),r._endTimers[e[c]]=setTimeout(r._ended.bind(r,n),f)),r._emit("rate",n._id)}return r},seek:function(){var t,e,n=this,r=arguments;if(0===r.length)e=n._sounds[0]._id;else if(1===r.length){var i=n._getSoundIds(),o=i.indexOf(r[0]);o>=0?e=parseInt(r[0],10):n._sounds.length&&(e=n._sounds[0]._id,t=parseFloat(r[0]))}else 2===r.length&&(t=parseFloat(r[0]),e=parseInt(r[1],10));if("undefined"===typeof e)return n;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var s=n._soundById(e);if(s){if(!("number"===typeof t&&t>=0)){if(n._webAudio){var c=n.playing(e)?a.ctx.currentTime-s._playStart:0,u=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(u+c*Math.abs(s._rate))}return s._node.currentTime}var l=n.playing(e);l&&n.pause(e,!0),s._seek=t,s._ended=!1,n._clearTimer(e),n._webAudio||!s._node||isNaN(s._node.duration)||(s._node.currentTime=t);var f=function(){n._emit("seek",e),l&&n.play(e,!0)};if(l&&!n._webAudio){var h=function t(){n._playLock?setTimeout(t,0):f()};setTimeout(h,0)}else f()}return n},playing:function(t){var e=this;if("number"===typeof t){var n=e._soundById(t);return!!n&&!n._paused}for(var r=0;r<e._sounds.length;r++)if(!e._sounds[r]._paused)return!0;return!1},duration:function(t){var e=this,n=e._duration,r=e._soundById(t);return r&&(n=e._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,n=0;n<e.length;n++)e[n]._paused||t.stop(e[n]._id),t._webAudio||(t._clearSound(e[n]._node),e[n]._node.removeEventListener("error",e[n]._errorFn,!1),e[n]._node.removeEventListener(a._canPlayEvent,e[n]._loadFn,!1),a._releaseHtml5Audio(e[n]._node)),delete e[n]._node,t._clearTimer(e[n]._id);var r=a._howls.indexOf(t);r>=0&&a._howls.splice(r,1);var i=!0;for(n=0;n<a._howls.length;n++)if(a._howls[n]._src===t._src||t._src.indexOf(a._howls[n]._src)>=0){i=!1;break}return c&&i&&delete c[t._src],a.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,n,r){var i=this["_on"+t];return"function"===typeof e&&i.push(r?{id:n,fn:e,once:r}:{id:n,fn:e}),this},off:function(t,e,n){var r=this,i=r["_on"+t],a=0;if("number"===typeof e&&(n=e,e=null),e||n)for(a=0;a<i.length;a++){var o=n===i[a].id;if(e===i[a].fn&&o||!e&&o){i.splice(a,1);break}}else if(t)r["_on"+t]=[];else{var s=Object.keys(r);for(a=0;a<s.length;a++)0===s[a].indexOf("_on")&&Array.isArray(r[s[a]])&&(r[s[a]]=[])}return r},once:function(t,e,n){return this.on(t,e,n,1),this},_emit:function(t,e,n){for(var r=this,i=r["_on"+t],a=i.length-1;a>=0;a--)i[a].id&&i[a].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,n)}.bind(r,i[a].fn),0),i[a].once&&r.off(t,i[a].fn,i[a].id));return r._loadQueue(t),r},_loadQueue:function(t){var e=this;if(e._queue.length>0){var n=e._queue[0];n.event===t&&(e._queue.shift(),e._loadQueue()),t||n.action()}return e},_ended:function(t){var e=this,n=t._sprite;if(!e._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(e._ended.bind(e,t),100),e;var r=!(!t._loop&&!e._sprite[n][2]);if(e._emit("end",t._id),!e._webAudio&&r&&e.stop(t._id,!0).play(t._id),e._webAudio&&r){e._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=a.ctx.currentTime;var i=1e3*(t._stop-t._start)/Math.abs(t._rate);e._endTimers[t._id]=setTimeout(e._ended.bind(e,t),i)}return e._webAudio&&!r&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,e._clearTimer(t._id),e._cleanBuffer(t._node),a._autoSuspend()),e._webAudio||r||e.stop(t._id,!0),e},_clearTimer:function(t){var e=this;if(e._endTimers[t]){if("function"!==typeof e._endTimers[t])clearTimeout(e._endTimers[t]);else{var n=e._soundById(t);n&&n._node&&n._node.removeEventListener("ended",e._endTimers[t],!1)}delete e._endTimers[t]}return e},_soundById:function(t){for(var e=this,n=0;n<e._sounds.length;n++)if(t===e._sounds[n]._id)return e._sounds[n];return null},_inactiveSound:function(){var t=this;t._drain();for(var e=0;e<t._sounds.length;e++)if(t._sounds[e]._ended)return t._sounds[e].reset();return new s(t)},_drain:function(){var t=this,e=t._pool,n=0,r=0;if(!(t._sounds.length<e)){for(r=0;r<t._sounds.length;r++)t._sounds[r]._ended&&n++;for(r=t._sounds.length-1;r>=0;r--){if(n<=e)return;t._sounds[r]._ended&&(t._webAudio&&t._sounds[r]._node&&t._sounds[r]._node.disconnect(0),t._sounds.splice(r,1),n--)}}},_getSoundIds:function(t){if("undefined"===typeof t){for(var e=[],n=0;n<this._sounds.length;n++)e.push(this._sounds[n]._id);return e}return[t]},_refreshBuffer:function(t){return t._node.bufferSource=a.ctx.createBufferSource(),t._node.bufferSource.buffer=c[this._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,a.ctx.currentTime),this},_cleanBuffer:function(t){var e=a._navigator&&a._navigator.vendor.indexOf("Apple")>=0;if(a._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),e))try{t.bufferSource.buffer=a._scratchBuffer}catch(n){}return t.bufferSource=null,this},_clearSound:function(t){/MSIE |Trident\//.test(a._navigator&&a._navigator.userAgent)||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(t){this._parent=t,this.init()};s.prototype={init:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._rate=e._rate,t._seek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++a._counter,e._sounds.push(t),t.create(),t},create:function(){var t=this,e=t._parent,n=a._muted||t._muted||t._parent._muted?0:t._volume;return e._webAudio?(t._node="undefined"===typeof a.ctx.createGain?a.ctx.createGainNode():a.ctx.createGain(),t._node.gain.setValueAtTime(n,a.ctx.currentTime),t._node.paused=!0,t._node.connect(a.masterGain)):a.noAudio||(t._node=a._obtainHtml5Audio(),t._errorFn=t._errorListener.bind(t),t._node.addEventListener("error",t._errorFn,!1),t._loadFn=t._loadListener.bind(t),t._node.addEventListener(a._canPlayEvent,t._loadFn,!1),t._node.src=e._src,t._node.preload="auto",t._node.volume=n*a.volume(),t._node.load()),t},reset:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._rate=e._rate,t._seek=0,t._rateSeek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++a._counter,t},_errorListener:function(){var t=this;t._parent._emit("loaderror",t._id,t._node.error?t._node.error.code:0),t._node.removeEventListener("error",t._errorFn,!1)},_loadListener:function(){var t=this,e=t._parent;e._duration=Math.ceil(10*t._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),t._node.removeEventListener(a._canPlayEvent,t._loadFn,!1)}};var c={},u=function(t){var e=t._src;if(c[e])return t._duration=c[e].duration,void h(t);if(/^data:[^;]+;base64,/.test(e)){for(var n=atob(e.split(",")[1]),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);f(r.buffer,t)}else{var a=new XMLHttpRequest;a.open("GET",e,!0),a.withCredentials=t._xhrWithCredentials,a.responseType="arraybuffer",a.onload=function(){var e=(a.status+"")[0];"0"===e||"2"===e||"3"===e?f(a.response,t):t._emit("loaderror",null,"Failed loading audio file with status: "+a.status+".")},a.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete c[e],t.load())},l(a)}},l=function(t){try{t.send()}catch(e){t.onerror()}},f=function(t,e){var n=function(){e._emit("loaderror",null,"Decoding audio data failed.")},r=function(t){t&&e._sounds.length>0?(c[e._src]=t,h(e,t)):n()};"undefined"!==typeof Promise&&1===a.ctx.decodeAudioData.length?a.ctx.decodeAudioData(t).then(r).catch(n):a.ctx.decodeAudioData(t,r,n)},h=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},d=function(){if(a.usingWebAudio){try{"undefined"!==typeof AudioContext?a.ctx=new AudioContext:"undefined"!==typeof webkitAudioContext?a.ctx=new webkitAudioContext:a.usingWebAudio=!1}catch(i){a.usingWebAudio=!1}a.ctx||(a.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(a._navigator&&a._navigator.platform),e=a._navigator&&a._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=e?parseInt(e[1],10):null;if(t&&n&&n<9){var r=/safari/.test(a._navigator&&a._navigator.userAgent.toLowerCase());(a._navigator&&a._navigator.standalone&&!r||a._navigator&&!a._navigator.standalone&&!r)&&(a.usingWebAudio=!1)}a.usingWebAudio&&(a.masterGain="undefined"===typeof a.ctx.createGain?a.ctx.createGainNode():a.ctx.createGain(),a.masterGain.gain.setValueAtTime(a._muted?0:a._volume,a.ctx.currentTime),a.masterGain.connect(a.ctx.destination)),a._setup()}};void 0===(r=function(){return{Howler:a,Howl:o}}.apply(e,[]))||(t.exports=r),e.Howler=a,e.Howl=o,"undefined"!==typeof window?(window.HowlerGlobal=i,window.Howler=a,window.Howl=o,window.Sound=s):"undefined"!==typeof n.g&&(n.g.HowlerGlobal=i,n.g.Howler=a,n.g.Howl=o,n.g.Sound=s)}(),function(){"use strict";var t;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var e=this;if(!e.ctx||!e.ctx.listener)return e;for(var n=e._howls.length-1;n>=0;n--)e._howls[n].stereo(t);return e},HowlerGlobal.prototype.pos=function(t,e,n){var r=this;return r.ctx&&r.ctx.listener?(e="number"!==typeof e?r._pos[1]:e,n="number"!==typeof n?r._pos[2]:n,"number"!==typeof t?r._pos:(r._pos=[t,e,n],"undefined"!==typeof r.ctx.listener.positionX?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(t,e,n,r,i,a){var o=this;if(!o.ctx||!o.ctx.listener)return o;var s=o._orientation;return e="number"!==typeof e?s[1]:e,n="number"!==typeof n?s[2]:n,r="number"!==typeof r?s[3]:r,i="number"!==typeof i?s[4]:i,a="number"!==typeof a?s[5]:a,"number"!==typeof t?s:(o._orientation=[t,e,n,r,i,a],"undefined"!==typeof o.ctx.listener.forwardX?(o.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),o.ctx.listener.forwardY.setTargetAtTime(e,Howler.ctx.currentTime,.1),o.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),o.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),o.ctx.listener.upY.setTargetAtTime(i,Howler.ctx.currentTime,.1),o.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):o.ctx.listener.setOrientation(t,e,n,r,i,a),o)},Howl.prototype.init=(t=Howl.prototype.init,function(e){var n=this;return n._orientation=e.orientation||[1,0,0],n._stereo=e.stereo||null,n._pos=e.pos||null,n._pannerAttr={coneInnerAngle:"undefined"!==typeof e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:"undefined"!==typeof e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:"undefined"!==typeof e.coneOuterGain?e.coneOuterGain:0,distanceModel:"undefined"!==typeof e.distanceModel?e.distanceModel:"inverse",maxDistance:"undefined"!==typeof e.maxDistance?e.maxDistance:1e4,panningModel:"undefined"!==typeof e.panningModel?e.panningModel:"HRTF",refDistance:"undefined"!==typeof e.refDistance?e.refDistance:1,rolloffFactor:"undefined"!==typeof e.rolloffFactor?e.rolloffFactor:1},n._onstereo=e.onstereo?[{fn:e.onstereo}]:[],n._onpos=e.onpos?[{fn:e.onpos}]:[],n._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}),Howl.prototype.stereo=function(t,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(t,n)}}),r;var i="undefined"===typeof Howler.ctx.createStereoPanner?"spatial":"stereo";if("undefined"===typeof n){if("number"!==typeof t)return r._stereo;r._stereo=t,r._pos=[t,0,0]}for(var a=r._getSoundIds(n),o=0;o<a.length;o++){var s=r._soundById(a[o]);if(s){if("number"!==typeof t)return s._stereo;s._stereo=t,s._pos=[t,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||e(s,i),"spatial"===i?"undefined"!==typeof s._panner.positionX?(s._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(t,0,0):s._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),r._emit("stereo",s._id)}}return r},Howl.prototype.pos=function(t,n,r,i){var a=this;if(!a._webAudio)return a;if("loaded"!==a._state)return a._queue.push({event:"pos",action:function(){a.pos(t,n,r,i)}}),a;if(n="number"!==typeof n?0:n,r="number"!==typeof r?-.5:r,"undefined"===typeof i){if("number"!==typeof t)return a._pos;a._pos=[t,n,r]}for(var o=a._getSoundIds(i),s=0;s<o.length;s++){var c=a._soundById(o[s]);if(c){if("number"!==typeof t)return c._pos;c._pos=[t,n,r],c._node&&(c._panner&&!c._panner.pan||e(c,"spatial"),"undefined"!==typeof c._panner.positionX?(c._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):c._panner.setPosition(t,n,r)),a._emit("pos",c._id)}}return a},Howl.prototype.orientation=function(t,n,r,i){var a=this;if(!a._webAudio)return a;if("loaded"!==a._state)return a._queue.push({event:"orientation",action:function(){a.orientation(t,n,r,i)}}),a;if(n="number"!==typeof n?a._orientation[1]:n,r="number"!==typeof r?a._orientation[2]:r,"undefined"===typeof i){if("number"!==typeof t)return a._orientation;a._orientation=[t,n,r]}for(var o=a._getSoundIds(i),s=0;s<o.length;s++){var c=a._soundById(o[s]);if(c){if("number"!==typeof t)return c._orientation;c._orientation=[t,n,r],c._node&&(c._panner||(c._pos||(c._pos=a._pos||[0,0,-.5]),e(c,"spatial")),"undefined"!==typeof c._panner.orientationX?(c._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),c._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),c._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):c._panner.setOrientation(t,n,r)),a._emit("orientation",c._id)}}return a},Howl.prototype.pannerAttr=function(){var t,n,r,i=this,a=arguments;if(!i._webAudio)return i;if(0===a.length)return i._pannerAttr;if(1===a.length){if("object"!==typeof a[0])return(r=i._soundById(parseInt(a[0],10)))?r._pannerAttr:i._pannerAttr;t=a[0],"undefined"===typeof n&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),i._pannerAttr={coneInnerAngle:"undefined"!==typeof t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:i._coneInnerAngle,coneOuterAngle:"undefined"!==typeof t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:i._coneOuterAngle,coneOuterGain:"undefined"!==typeof t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:i._coneOuterGain,distanceModel:"undefined"!==typeof t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:i._distanceModel,maxDistance:"undefined"!==typeof t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:i._maxDistance,refDistance:"undefined"!==typeof t.pannerAttr.refDistance?t.pannerAttr.refDistance:i._refDistance,rolloffFactor:"undefined"!==typeof t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:i._rolloffFactor,panningModel:"undefined"!==typeof t.pannerAttr.panningModel?t.pannerAttr.panningModel:i._panningModel})}else 2===a.length&&(t=a[0],n=parseInt(a[1],10));for(var o=i._getSoundIds(n),s=0;s<o.length;s++)if(r=i._soundById(o[s])){var c=r._pannerAttr;c={coneInnerAngle:"undefined"!==typeof t.coneInnerAngle?t.coneInnerAngle:c.coneInnerAngle,coneOuterAngle:"undefined"!==typeof t.coneOuterAngle?t.coneOuterAngle:c.coneOuterAngle,coneOuterGain:"undefined"!==typeof t.coneOuterGain?t.coneOuterGain:c.coneOuterGain,distanceModel:"undefined"!==typeof t.distanceModel?t.distanceModel:c.distanceModel,maxDistance:"undefined"!==typeof t.maxDistance?t.maxDistance:c.maxDistance,refDistance:"undefined"!==typeof t.refDistance?t.refDistance:c.refDistance,rolloffFactor:"undefined"!==typeof t.rolloffFactor?t.rolloffFactor:c.rolloffFactor,panningModel:"undefined"!==typeof t.panningModel?t.panningModel:c.panningModel};var u=r._panner;u?(u.coneInnerAngle=c.coneInnerAngle,u.coneOuterAngle=c.coneOuterAngle,u.coneOuterGain=c.coneOuterGain,u.distanceModel=c.distanceModel,u.maxDistance=c.maxDistance,u.refDistance=c.refDistance,u.rolloffFactor=c.rolloffFactor,u.panningModel=c.panningModel):(r._pos||(r._pos=i._pos||[0,0,-.5]),e(r,"spatial"))}return i},Sound.prototype.init=function(t){return function(){var e=this,n=e._parent;e._orientation=n._orientation,e._stereo=n._stereo,e._pos=n._pos,e._pannerAttr=n._pannerAttr,t.call(this),e._stereo?n.stereo(e._stereo):e._pos&&n.pos(e._pos[0],e._pos[1],e._pos[2],e._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this,n=e._parent;return e._orientation=n._orientation,e._stereo=n._stereo,e._pos=n._pos,e._pannerAttr=n._pannerAttr,e._stereo?n.stereo(e._stereo):e._pos?n.pos(e._pos[0],e._pos[1],e._pos[2],e._id):e._panner&&(e._panner.disconnect(0),e._panner=void 0,n._refreshBuffer(e)),t.call(this)}}(Sound.prototype.reset);var e=function(t,e){"spatial"===(e=e||"spatial")?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,"undefined"!==typeof t._panner.positionX?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),"undefined"!==typeof t._panner.orientationX?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}}()},8660:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2683),i=r.glob.performance&&r.glob.performance.now?function(){return r.glob.performance.now()}:function(){return(new Date).getTime()},a=function(){function t(e,n){this.id=t.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:i(),frameRate:0},this.func=e,this.setLayers(n)}return t.prototype.setLayers=function(t){var e=[];return e=t?t.length>0?t:[t]:[],this.layers=e,this},t.prototype.getLayers=function(){return this.layers},t.prototype.addLayer=function(t){var e,n=this.layers,r=n.length;for(e=0;e<r;e++)if(n[e]._id===t._id)return!1;return this.layers.push(t),!0},t.prototype.isRunning=function(){var e,n=t.animations,r=n.length;for(e=0;e<r;e++)if(n[e].id===this.id)return!0;return!1},t.prototype.start=function(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=i(),t._addAnimation(this),this},t.prototype.stop=function(){return t._removeAnimation(this),this},t.prototype._updateFrameObject=function(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff},t._addAnimation=function(t){this.animations.push(t),this._handleAnimation()},t._removeAnimation=function(t){var e,n=t.id,r=this.animations,i=r.length;for(e=0;e<i;e++)if(r[e].id===n){this.animations.splice(e,1);break}},t._runFrames=function(){var t,e,n,r,a,o,s,c,u={},l=this.animations;for(r=0;r<l.length;r++)if(e=(t=l[r]).layers,n=t.func,t._updateFrameObject(i()),o=e.length,!n||!1!==n.call(t,t.frame))for(a=0;a<o;a++)void 0!==(s=e[a])._id&&(u[s._id]=s);for(c in u)u.hasOwnProperty(c)&&u[c].draw()},t._animationLoop=function(){var e=t;e.animations.length?(e._runFrames(),requestAnimationFrame(e._animationLoop)):e.animRunning=!1},t._handleAnimation=function(){this.animRunning||(this.animRunning=!0,requestAnimationFrame(this._animationLoop))},t.animations=[],t.animIdCounter=0,t.animRunning=!1,t}();e.Animation=a},7821:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2264),a=n(3890),o=n(2585),s=n(6534),c=n(6689),u=function(t){function e(e){var n=t.call(this,e)||this;return n.canvas=new c.SceneCanvas,n._waitingForDraw=!1,n.on("visibleChange",n._checkVisibility),n._checkVisibility(),n.on("imageSmoothingEnabledChange",n._checkSmooth),n._checkSmooth(),n}return r(e,t),e.prototype.createPNGStream=function(){return this.canvas._canvas.createPNGStream()},e.prototype.getCanvas=function(){return this.canvas},e.prototype.getHitCanvas=function(){return this.hitCanvas},e.prototype.getContext=function(){return this.getCanvas().getContext()},e.prototype.clear=function(t){return this.getContext().clear(t),this},e.prototype.setZIndex=function(e){t.prototype.setZIndex.call(this,e);var n=this.getStage();return n&&(n.content.removeChild(this.getCanvas()._canvas),e<n.children.length-1?n.content.insertBefore(this.getCanvas()._canvas,n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getCanvas()._canvas)),this},e.prototype.moveToTop=function(){o.Node.prototype.moveToTop.call(this);var t=this.getStage();return t&&(t.content.removeChild(this.getCanvas()._canvas),t.content.appendChild(this.getCanvas()._canvas)),!0},e.prototype.moveUp=function(){if(!o.Node.prototype.moveUp.call(this))return!1;var t=this.getStage();return!!t&&(t.content.removeChild(this.getCanvas()._canvas),this.index<t.children.length-1?t.content.insertBefore(this.getCanvas()._canvas,t.children[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getCanvas()._canvas),!0)},e.prototype.moveDown=function(){if(o.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.children;t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[this.index+1].getCanvas()._canvas)}return!0}return!1},e.prototype.moveToBottom=function(){if(o.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.children;t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[1].getCanvas()._canvas)}return!0}return!1},e.prototype.getLayer=function(){return this},e.prototype.hitGraphEnabled=function(){return!0},e.prototype.remove=function(){var t=this.getCanvas()._canvas;return o.Node.prototype.remove.call(this),t&&t.parentNode&&i.Util._isInDocument(t)&&t.parentNode.removeChild(t),this},e.prototype.getStage=function(){return this.parent},e.prototype.setSize=function(t){var e=t.width,n=t.height;return this.canvas.setSize(e,n),this},e.prototype._toKonvaCanvas=function(t){return(t=t||{}).width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=void 0!==t.x?t.x:this.x(),t.y=void 0!==t.y?t.y:this.y(),o.Node.prototype._toKonvaCanvas.call(this,t)},e.prototype._checkVisibility=function(){var t=this.visible();this.canvas._canvas.style.display=t?"block":"none"},e.prototype._checkSmooth=function(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()},e.prototype.getWidth=function(){if(this.parent)return this.parent.width()},e.prototype.setWidth=function(){i.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')},e.prototype.getHeight=function(){if(this.parent)return this.parent.height()},e.prototype.setHeight=function(){i.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')},e.prototype.getIntersection=function(t,e){return null},e.prototype.batchDraw=function(){var t=this;return this._waitingForDraw||(this._waitingForDraw=!0,i.Util.requestAnimFrame((function(){t.draw(),t._waitingForDraw=!1}))),this},e.prototype._applyTransform=function(t,e,n){var r=t.getAbsoluteTransform(n).getMatrix();e.transform(r[0],r[1],r[2],r[3],r[4],r[5])},e}(a.Container);e.BaseLayer=u,u.prototype.nodeType="BaseLayer",s.Factory.addGetterSetter(u,"imageSmoothingEnabled",!0),s.Factory.addGetterSetter(u,"clearBeforeDraw",!0),i.Collection.mapMethods(u)},6689:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(2264),o=n(3110),s=n(2683),c=n(6534),u=n(8999);var l=function(){function t(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var e=(t||{}).pixelRatio||s.Konva.pixelRatio||function(){if(i)return i;var t=a.Util.createCanvasElement().getContext("2d");return i=(s.Konva._global.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}();this.pixelRatio=e,this._canvas=a.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}return t.prototype.getContext=function(){return this.context},t.prototype.getPixelRatio=function(){return this.pixelRatio},t.prototype.setPixelRatio=function(t){var e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)},t.prototype.setWidth=function(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)},t.prototype.setHeight=function(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.setSize=function(t,e){this.setWidth(t),this.setHeight(e)},t.prototype.toDataURL=function(t,e){try{return this._canvas.toDataURL(t,e)}catch(n){try{return this._canvas.toDataURL()}catch(r){return a.Util.error("Unable to get data URL. "+r.message+". For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}},t}();e.Canvas=l,c.Factory.addGetterSetter(l,"pixelRatio",void 0,u.getNumberValidator());var f=function(t){function e(e){void 0===e&&(e={width:0,height:0});var n=t.call(this,e)||this;return n.context=new o.SceneContext(n),n.setSize(e.width,e.height),n}return r(e,t),e}(l);e.SceneCanvas=f;var h=function(t){function e(e){void 0===e&&(e={width:0,height:0});var n=t.call(this,e)||this;return n.hitCanvas=!0,n.context=new o.HitContext(n),n.setSize(e.width,e.height),n}return r(e,t),e}(l);e.HitCanvas=h},3890:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2264),a=n(6534),o=n(2585),s=n(184),c=n(8999),u=n(2683),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.children=new i.Collection,e}return r(e,t),e.prototype.getChildren=function(t){if(!t)return this.children;var e=new i.Collection;return this.children.each((function(n){t(n)&&e.push(n)})),e},e.prototype.hasChildren=function(){return this.getChildren().length>0},e.prototype.removeChildren=function(){for(var t,e=0;e<this.children.length;e++)(t=this.children[e]).parent=null,t.index=0,t.remove();return this.children=new i.Collection,this},e.prototype.destroyChildren=function(){for(var t,e=0;e<this.children.length;e++)(t=this.children[e]).parent=null,t.index=0,t.destroy();return this.children=new i.Collection,this},e.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}var r=t[0];if(r.getParent())return r.moveTo(this),this;var i=this.children;return this._validateAdd(r),r._clearCaches(),r.index=i.length,r.parent=this,i.push(r),this._fire("add",{child:r}),this},e.prototype.destroy=function(){return this.hasChildren()&&this.destroyChildren(),t.prototype.destroy.call(this),this},e.prototype.find=function(t){return this._generalFind(t,!1)},e.prototype.get=function(t){return i.Util.warn("collection.get() method is deprecated. Please use collection.find() instead."),this.find(t)},e.prototype.findOne=function(t){var e=this._generalFind(t,!0);return e.length>0?e[0]:void 0},e.prototype._generalFind=function(t,e){var n=[];return this._descendants((function(r){var i=r._isMatch(t);return i&&n.push(r),!(!i||!e)})),i.Collection.toCollection(n)},e.prototype._descendants=function(t){for(var e=0;e<this.children.length;e++){var n=this.children[e];if(t(n))return!0;if(n.hasChildren()&&n._descendants(t))return!0}return!1},e.prototype.toObject=function(){var t=o.Node.prototype.toObject.call(this);t.children=[];for(var e=this.getChildren(),n=e.length,r=0;r<n;r++){var i=e[r];t.children.push(i.toObject())}return t},e.prototype._getDescendants=function(t){for(var e=[],n=t.length,r=0;r<n;r++){var i=t[r];this.isAncestorOf(i)&&e.push(i)}return e},e.prototype.isAncestorOf=function(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1},e.prototype.clone=function(t){var e=o.Node.prototype.clone.call(this,t);return this.getChildren().each((function(t){e.add(t.clone())})),e},e.prototype.getAllIntersections=function(t){var e=[];return this.find("Shape").each((function(n){n.isVisible()&&n.intersects(t)&&e.push(n)})),e},e.prototype._setChildrenIndices=function(){this.children.each((function(t,e){t.index=e}))},e.prototype.drawScene=function(t,e,n){var r=this.getLayer(),i=t||r&&r.getCanvas(),a=i&&i.getContext(),o=this._getCanvasCache(),s=o&&o.scene;return(this.isVisible()||n)&&(!n&&s?(a.save(),r._applyTransform(this,a,e),this._drawCachedSceneCanvas(a),a.restore()):this._drawChildren(i,"drawScene",e,!1,n,n)),this},e.prototype.drawHit=function(t,e,n){var r=this.getLayer(),i=t||r&&r.hitCanvas,a=i&&i.getContext(),o=this._getCanvasCache(),s=o&&o.hit;return(this.shouldDrawHit(i)||n)&&(!n&&s?(a.save(),r._applyTransform(this,a,e),this._drawCachedHitCanvas(a),a.restore()):this._drawChildren(i,"drawHit",e,!1,n,n)),this},e.prototype._drawChildren=function(t,e,n,r,i,a){var o,s,c=this.getLayer(),u=t&&t.getContext(),l=this.clipWidth(),f=this.clipHeight(),h=this.clipFunc(),d=l&&f||h;if(d&&c){u.save();var p=this.getAbsoluteTransform(n),g=p.getMatrix();u.transform(g[0],g[1],g[2],g[3],g[4],g[5]),u.beginPath(),h?h.call(this,u,this):(o=this.clipX(),s=this.clipY(),u.rect(o,s,l,f)),u.clip(),g=p.copy().invert().getMatrix(),u.transform(g[0],g[1],g[2],g[3],g[4],g[5])}var y="source-over"!==this.globalCompositeOperation()&&!a&&"drawScene"===e;y&&c&&(u.save(),u._applyGlobalCompositeOperation(this)),this.children.each((function(a){a[e](t,n,r,i)})),y&&c&&u.restore(),d&&c&&u.restore()},e.prototype.shouldDrawHit=function(t){if(t&&t.isCache)return!0;var e=this.getLayer(),n=!1;s.DD._dragElements.forEach((function(t){"dragging"===t.dragStatus&&t.node.getLayer()===e&&(n=!0)}));var r=!u.Konva.hitOnDragEnabled&&n;return e&&e.hitGraphEnabled()&&this.isVisible()&&!r},e.prototype.getClientRect=function(t){var e,n,r,i,a=(t=t||{}).skipTransform,o=t.relativeTo,s={x:1/0,y:1/0,width:0,height:0},c=this;this.children.each((function(a){if(a.visible()){var o=a.getClientRect({relativeTo:c,skipShadow:t.skipShadow,skipStroke:t.skipStroke});0===o.width&&0===o.height||(void 0===e?(e=o.x,n=o.y,r=o.x+o.width,i=o.y+o.height):(e=Math.min(e,o.x),n=Math.min(n,o.y),r=Math.max(r,o.x+o.width),i=Math.max(i,o.y+o.height)))}}));for(var u=this.find("Shape"),l=!1,f=0;f<u.length;f++){if(u[f]._isVisible(this)){l=!0;break}}return s=l&&void 0!==e?{x:e,y:n,width:r-e,height:i-n}:{x:0,y:0,width:0,height:0},a?s:this._transformedRect(s,o)},e}(o.Node);e.Container=l,a.Factory.addComponentsGetterSetter(l,"clip",["x","y","width","height"]),a.Factory.addGetterSetter(l,"clipX",void 0,c.getNumberValidator()),a.Factory.addGetterSetter(l,"clipY",void 0,c.getNumberValidator()),a.Factory.addGetterSetter(l,"clipWidth",void 0,c.getNumberValidator()),a.Factory.addGetterSetter(l,"clipHeight",void 0,c.getNumberValidator()),a.Factory.addGetterSetter(l,"clipFunc"),i.Collection.mapMethods(l)},3110:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2264),a=n(2683),o=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],s=function(){function t(t){this.canvas=t,this._context=t._canvas.getContext("2d"),a.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}return t.prototype.fillShape=function(t){t.fillEnabled()&&this._fill(t)},t.prototype._fill=function(t){},t.prototype.strokeShape=function(t){t.hasStroke()&&this._stroke(t)},t.prototype._stroke=function(t){},t.prototype.fillStrokeShape=function(t){this.fillShape(t),this.strokeShape(t)},t.prototype.getTrace=function(t){var e,n,r,a,o=this.traceArr,s=o.length,c="";for(e=0;e<s;e++)(r=(n=o[e]).method)?(a=n.args,c+=r,t?c+="()":i.Util._isArray(a[0])?c+="(["+a.join(",")+"])":c+="("+a.join(",")+")"):(c+=n.property,t||(c+="="+n.val)),c+=";";return c},t.prototype.clearTrace=function(){this.traceArr=[]},t.prototype._trace=function(t){var e=this.traceArr;e.push(t),e.length>=100&&e.shift()},t.prototype.reset=function(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)},t.prototype.getCanvas=function(){return this.canvas},t.prototype.clear=function(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)},t.prototype._applyLineCap=function(t){var e=t.getLineCap();e&&this.setAttr("lineCap",e)},t.prototype._applyOpacity=function(t){var e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)},t.prototype._applyLineJoin=function(t){var e=t.getLineJoin();e&&this.setAttr("lineJoin",e)},t.prototype.setAttr=function(t,e){this._context[t]=e},t.prototype.arc=function(t,e,n,r,i,a){this._context.arc(t,e,n,r,i,a)},t.prototype.arcTo=function(t,e,n,r,i){this._context.arcTo(t,e,n,r,i)},t.prototype.beginPath=function(){this._context.beginPath()},t.prototype.bezierCurveTo=function(t,e,n,r,i,a){this._context.bezierCurveTo(t,e,n,r,i,a)},t.prototype.clearRect=function(t,e,n,r){this._context.clearRect(t,e,n,r)},t.prototype.clip=function(){this._context.clip()},t.prototype.closePath=function(){this._context.closePath()},t.prototype.createImageData=function(t,e){var n=arguments;return 2===n.length?this._context.createImageData(t,e):1===n.length?this._context.createImageData(t):void 0},t.prototype.createLinearGradient=function(t,e,n,r){return this._context.createLinearGradient(t,e,n,r)},t.prototype.createPattern=function(t,e){return this._context.createPattern(t,e)},t.prototype.createRadialGradient=function(t,e,n,r,i,a){return this._context.createRadialGradient(t,e,n,r,i,a)},t.prototype.drawImage=function(t,e,n,r,i,a,o,s,c){var u=arguments,l=this._context;3===u.length?l.drawImage(t,e,n):5===u.length?l.drawImage(t,e,n,r,i):9===u.length&&l.drawImage(t,e,n,r,i,a,o,s,c)},t.prototype.ellipse=function(t,e,n,r,i,a,o,s){this._context.ellipse(t,e,n,r,i,a,o,s)},t.prototype.isPointInPath=function(t,e){return this._context.isPointInPath(t,e)},t.prototype.fill=function(){this._context.fill()},t.prototype.fillRect=function(t,e,n,r){this._context.fillRect(t,e,n,r)},t.prototype.strokeRect=function(t,e,n,r){this._context.strokeRect(t,e,n,r)},t.prototype.fillText=function(t,e,n){this._context.fillText(t,e,n)},t.prototype.measureText=function(t){return this._context.measureText(t)},t.prototype.getImageData=function(t,e,n,r){return this._context.getImageData(t,e,n,r)},t.prototype.lineTo=function(t,e){this._context.lineTo(t,e)},t.prototype.moveTo=function(t,e){this._context.moveTo(t,e)},t.prototype.rect=function(t,e,n,r){this._context.rect(t,e,n,r)},t.prototype.putImageData=function(t,e,n){this._context.putImageData(t,e,n)},t.prototype.quadraticCurveTo=function(t,e,n,r){this._context.quadraticCurveTo(t,e,n,r)},t.prototype.restore=function(){this._context.restore()},t.prototype.rotate=function(t){this._context.rotate(t)},t.prototype.save=function(){this._context.save()},t.prototype.scale=function(t,e){this._context.scale(t,e)},t.prototype.setLineDash=function(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)},t.prototype.getLineDash=function(){return this._context.getLineDash()},t.prototype.setTransform=function(t,e,n,r,i,a){this._context.setTransform(t,e,n,r,i,a)},t.prototype.stroke=function(){this._context.stroke()},t.prototype.strokeText=function(t,e,n,r){this._context.strokeText(t,e,n,r)},t.prototype.transform=function(t,e,n,r,i,a){this._context.transform(t,e,n,r,i,a)},t.prototype.translate=function(t,e){this._context.translate(t,e)},t.prototype._enableTrace=function(){var t,e,n=this,r=o.length,a=i.Util._simplifyArray,s=this.setAttr,c=function(t){var r,i=n[t];n[t]=function(){return e=a(Array.prototype.slice.call(arguments,0)),r=i.apply(n,arguments),n._trace({method:t,args:e}),r}};for(t=0;t<r;t++)c(o[t]);n.setAttr=function(){s.apply(n,arguments);var t=arguments[0],e=arguments[1];"shadowOffsetX"!==t&&"shadowOffsetY"!==t&&"shadowBlur"!==t||(e/=this.canvas.getPixelRatio()),n._trace({property:t,val:e})}},t.prototype._applyGlobalCompositeOperation=function(t){var e=t.getGlobalCompositeOperation();"source-over"!==e&&this.setAttr("globalCompositeOperation",e)},t}();e.Context=s,["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach((function(t){Object.defineProperty(s.prototype,t,{get:function(){return this._context[t]},set:function(e){this._context[t]=e}})}));var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._fillColor=function(t){var e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)},e.prototype._fillPattern=function(t){var e=t.getFillPatternX(),n=t.getFillPatternY(),r=a.Konva.getAngle(t.getFillPatternRotation()),i=t.getFillPatternOffsetX(),o=t.getFillPatternOffsetY(),s=t.getFillPatternScaleX(),c=t.getFillPatternScaleY();(e||n)&&this.translate(e||0,n||0),r&&this.rotate(r),(s||c)&&this.scale(s,c),(i||o)&&this.translate(-1*i,-1*o),this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)},e.prototype._fillLinearGradient=function(t){var e=t._getLinearGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},e.prototype._fillRadialGradient=function(t){var e=t._getRadialGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},e.prototype._fill=function(t){var e=t.fill(),n=t.getFillPriority();if(e&&"color"===n)this._fillColor(t);else{var r=t.getFillPatternImage();if(r&&"pattern"===n)this._fillPattern(t);else{var i=t.getFillLinearGradientColorStops();if(i&&"linear-gradient"===n)this._fillLinearGradient(t);else{var a=t.getFillRadialGradientColorStops();a&&"radial-gradient"===n?this._fillRadialGradient(t):e?this._fillColor(t):r?this._fillPattern(t):i?this._fillLinearGradient(t):a&&this._fillRadialGradient(t)}}}},e.prototype._strokeLinearGradient=function(t){var e=t.getStrokeLinearGradientStartPoint(),n=t.getStrokeLinearGradientEndPoint(),r=t.getStrokeLinearGradientColorStops(),i=this.createLinearGradient(e.x,e.y,n.x,n.y);if(r){for(var a=0;a<r.length;a+=2)i.addColorStop(r[a],r[a+1]);this.setAttr("strokeStyle",i)}},e.prototype._stroke=function(t){var e=t.dash(),n=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!n){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(t),e&&t.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),n||this.restore()}},e.prototype._applyShadow=function(t){var e=i.Util,n=e.get(t.getShadowRGBA(),"black"),r=e.get(t.getShadowBlur(),5),a=e.get(t.getShadowOffset(),{x:0,y:0}),o=t.getAbsoluteScale(),s=this.canvas.getPixelRatio(),c=o.x*s,u=o.y*s;this.setAttr("shadowColor",n),this.setAttr("shadowBlur",r*Math.min(Math.abs(c),Math.abs(u))),this.setAttr("shadowOffsetX",a.x*c),this.setAttr("shadowOffsetY",a.y*u)},e}(s);e.SceneContext=c;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._fill=function(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()},e.prototype.strokeShape=function(t){t.hasHitStroke()&&this._stroke(t)},e.prototype._stroke=function(t){if(t.hasHitStroke()){var e=t.getStrokeScaleEnabled();if(!e){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(t);var r=t.hitStrokeWidth(),i="auto"===r?t.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),e||this.restore()}},e}(s);e.HitContext=u},184:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2683),i=n(2264);e.DD={get isDragging(){var t=!1;return e.DD._dragElements.forEach((function(e){"dragging"===e.dragStatus&&(t=!0)})),t},justDragged:!1,get node(){var t;return e.DD._dragElements.forEach((function(e){t=e.node})),t},_dragElements:new Map,_drag:function(t){e.DD._dragElements.forEach((function(e,n){var r=e.node,a=r.getStage();a.setPointersPositions(t),void 0===e.pointerId&&(e.pointerId=i.Util._getFirstPointerId(t));var o=a._changedPointerPositions.find((function(t){return t.id===e.pointerId}));if(o){if("dragging"!==e.dragStatus){var s=r.dragDistance();if(Math.max(Math.abs(o.x-e.startPointerPos.x),Math.abs(o.y-e.startPointerPos.y))<s)return;if(r.startDrag({evt:t}),!r.isDragging())return}r._setDragPosition(t,e),r.fire("dragmove",{type:"dragmove",target:r,evt:t},!0)}}))},_endDragBefore:function(t){e.DD._dragElements.forEach((function(n,i){var a=n.node.getStage();if(t&&a.setPointersPositions(t),a._changedPointerPositions.find((function(t){return t.id===n.pointerId}))){"dragging"!==n.dragStatus&&"stopped"!==n.dragStatus||(e.DD.justDragged=!0,r.Konva.listenClickTap=!1,n.dragStatus="stopped");var o=n.node.getLayer()||n.node instanceof r.Konva.Stage&&n.node;o&&o.draw()}}))},_endDragAfter:function(t){e.DD._dragElements.forEach((function(n,r){"stopped"===n.dragStatus&&n.node.fire("dragend",{type:"dragend",target:n.node,evt:t},!0),"dragging"!==n.dragStatus&&e.DD._dragElements.delete(r)}))}},r.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1))},6534:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2264),i=n(8999),a="get",o="set";e.Factory={addGetterSetter:function(t,e,n,r,i){this.addGetter(t,e,n),this.addSetter(t,e,r,i),this.addOverloadedGetterSetter(t,e)},addGetter:function(t,e,n){var i=a+r.Util._capitalize(e);t.prototype[i]=t.prototype[i]||function(){var t=this.attrs[e];return void 0===t?n:t}},addSetter:function(t,n,i,a){var s=o+r.Util._capitalize(n);t.prototype[s]||e.Factory.overWriteSetter(t,n,i,a)},overWriteSetter:function(t,e,n,i){var a=o+r.Util._capitalize(e);t.prototype[a]=function(t){return n&&void 0!==t&&null!==t&&(t=n.call(this,t,e)),this._setAttr(e,t),i&&i.call(this),this}},addComponentsGetterSetter:function(t,e,n,s,c){var u,l,f=n.length,h=r.Util._capitalize,d=a+h(e),p=o+h(e);t.prototype[d]=function(){var t={};for(u=0;u<f;u++)t[l=n[u]]=this.getAttr(e+h(l));return t};var g=i.getComponentValidator(n);t.prototype[p]=function(t){var n,r=this.attrs[e];for(n in s&&(t=s.call(this,t)),g&&g.call(this,t,e),t)t.hasOwnProperty(n)&&this._setAttr(e+h(n),t[n]);return this._fireChangeEvent(e,r,t),c&&c.call(this),this},this.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter:function(t,e){var n=r.Util._capitalize(e),i=o+n,s=a+n;t.prototype[e]=function(){return arguments.length?(this[i](arguments[0]),this):this[s]()}},addDeprecatedGetterSetter:function(t,e,n,i){r.Util.error("Adding deprecated "+e);var o=a+r.Util._capitalize(e),s=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[o]=function(){r.Util.error(s);var t=this.attrs[e];return void 0===t?n:t},this.addSetter(t,e,i,(function(){r.Util.error(s)})),this.addOverloadedGetterSetter(t,e)},backCompat:function(t,e){r.Util.each(e,(function(e,n){var i=t.prototype[n],s=a+r.Util._capitalize(e),c=o+r.Util._capitalize(e);function u(){i.apply(this,arguments),r.Util.error('"'+e+'" method is deprecated and will be removed soon. Use ""'+n+'" instead.')}t.prototype[e]=u,t.prototype[s]=u,t.prototype[c]=u}))},afterSetFilter:function(){this._filterUpToDate=!1}}},5573:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2264),a=n(3890),o=n(7821),s=n(2683),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._validateAdd=function(t){"Shape"!==t.getType()&&i.Util.throw("You may only add shapes to a fast layer.")},e.prototype._setCanvasSize=function(t,e){this.canvas.setSize(t,e),this._checkSmooth()},e.prototype.hitGraphEnabled=function(){return!1},e.prototype.drawScene=function(t){var e=this.getLayer(),n=t||e&&e.getCanvas();return this.clearBeforeDraw()&&n.getContext().clear(),a.Container.prototype.drawScene.call(this,n),this},e.prototype.draw=function(){return this.drawScene(),this},e}(o.BaseLayer);e.FastLayer=c,c.prototype.nodeType="FastLayer",s._registerNode(c),i.Collection.mapMethods(c)},2683:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Math.PI/180;var i=function(t){var e=t.indexOf("msie ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var r=t.indexOf("edge/");return r>0&&parseInt(t.substring(r+5,t.indexOf(".",r)),10)};e._parseUA=function(t){var e=t.toLowerCase(),n=/(chrome)[ /]([\w.]+)/.exec(e)||/(webkit)[ /]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ /]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],r=!!t.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),a=!!t.match(/IEMobile/i);return{browser:n[1]||"",version:n[2]||"0",isIE:i(e),mobile:r,ieMobile:a}},e.glob="undefined"!==typeof n.g?n.g:"undefined"!==typeof window?window:"undefined"!==typeof WorkerGlobalScope?self:{},e.Konva={_global:e.glob,version:"4.1.6",isBrowser:"undefined"!==typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(t){}.toString()),dblClickWindow:400,getAngle:function(t){return e.Konva.angleDeg?t*r:t},enableTrace:!1,_pointerEventsEnabled:!1,hitOnDragEnabled:!1,captureTouchEventsEnabled:!1,listenClickTap:!1,inDblClickWindow:!1,pixelRatio:void 0,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:function(){return e.Konva.DD.isDragging},isDragReady:function(){return!!e.Konva.DD.node},UA:e._parseUA(e.glob.navigator&&e.glob.navigator.userAgent||""),document:e.glob.document,_injectGlobal:function(t){e.glob.Konva=t},_parseUA:e._parseUA},e._NODES_REGISTRY={},e._registerNode=function(t){e._NODES_REGISTRY[t.prototype.getClassName()]=t,e.Konva[t.prototype.getClassName()]=t}},7675:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2264),a=n(3890),o=n(2683),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._validateAdd=function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&i.Util.throw("You may only add groups and shapes to groups.")},e}(a.Container);e.Group=s,s.prototype.nodeType="Group",o._registerNode(s),i.Collection.mapMethods(s)},115:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2264),a=n(3890),o=n(6534),s=n(7821),c=n(6689),u=n(9132),l=n(8999),f=n(2683),h=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],d=h.length,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hitCanvas=new c.HitCanvas({pixelRatio:1}),e}return r(e,t),e.prototype._setCanvasSize=function(t,e){this.canvas.setSize(t,e),this.hitCanvas.setSize(t,e),this._checkSmooth()},e.prototype._validateAdd=function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&i.Util.throw("You may only add groups and shapes to a layer.")},e.prototype.getIntersection=function(t,e){var n,r,i,a;if(!this.hitGraphEnabled()||!this.isVisible())return null;for(var o=1,s=!1;;){for(r=0;r<d;r++){if(i=h[r],(a=(n=this._getIntersection({x:t.x+i.x*o,y:t.y+i.y*o})).shape)&&e)return a.findAncestor(e,!0);if(a)return a;if(s=!!n.antialiased,!n.antialiased)break}if(!s)return null;o+=1}},e.prototype._getIntersection=function(t){var e,n,r=this.hitCanvas.pixelRatio,a=this.hitCanvas.context.getImageData(Math.round(t.x*r),Math.round(t.y*r),1,1).data,o=a[3];return 255===o?(e=i.Util._rgbToHex(a[0],a[1],a[2]),(n=u.shapes["#"+e])?{shape:n}:{antialiased:!0}):o>0?{antialiased:!0}:{}},e.prototype.drawScene=function(t,e){var n=this.getLayer(),r=t||n&&n.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&r.getContext().clear(),a.Container.prototype.drawScene.call(this,r,e),this._fire("draw",{node:this}),this},e.prototype.drawHit=function(t,e){var n=this.getLayer(),r=t||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),a.Container.prototype.drawHit.call(this,r,e),this},e.prototype.clear=function(t){return s.BaseLayer.prototype.clear.call(this,t),this.getHitCanvas().getContext().clear(t),this},e.prototype.enableHitGraph=function(){return this.hitGraphEnabled(!0),this},e.prototype.disableHitGraph=function(){return this.hitGraphEnabled(!1),this},e.prototype.toggleHitCanvas=function(){if(this.parent){var t=this.parent;!!this.hitCanvas._canvas.parentNode?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}},e.prototype.setSize=function(e){var n=e.width,r=e.height;return t.prototype.setSize.call(this,{width:n,height:r}),this.hitCanvas.setSize(n,r),this},e}(s.BaseLayer);e.Layer=p,p.prototype.nodeType="Layer",f._registerNode(p),o.Factory.addGetterSetter(p,"hitGraphEnabled",!0,l.getBooleanValidator()),i.Collection.mapMethods(p)},2585:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2264),i=n(6534),a=n(6689),o=n(2683),s=n(184),c=n(8999);e.ids={},e.names={};e._removeId=function(t,n){t&&e.ids[t]===n&&delete e.ids[t]},e._addName=function(t,n){n&&(e.names[n]||(e.names[n]=[]),e.names[n].push(t))},e._removeName=function(t,n){if(t){var r=e.names[t];if(r){for(var i=0;i<r.length;i++){r[i]._id===n&&r.splice(i,1)}0===r.length&&delete e.names[t]}}};var u="absoluteOpacity",l="absoluteTransform",f="absoluteScale",h="canvas",d="listening",p="mouseenter",g="mouseleave",y="Shape",v=" ",m="stage",_="transform",b="visible",w=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(v),x=["scaleXChange.konva","scaleYChange.konva"].join(v),k=new r.Collection,C=1,E=function(){function t(t){var e=this;this._id=C++,this.eventListeners={},this.attrs={},this.index=0,this.parent=null,this._cache=new Map,this._lastPos=null,this._filterUpToDate=!1,this._isUnderCache=!1,this.children=k,this._dragEventId=null,this.setAttrs(t),this.on(w,(function(){e._clearCache(_),e._clearSelfAndDescendantCache(l)})),this.on(x,(function(){e._clearSelfAndDescendantCache(f)})),this.on("visibleChange.konva",(function(){e._clearSelfAndDescendantCache(b)})),this.on("listeningChange.konva",(function(){e._clearSelfAndDescendantCache(d)})),this.on("opacityChange.konva",(function(){e._clearSelfAndDescendantCache(u)}))}return t.prototype.hasChildren=function(){return!1},t.prototype.getChildren=function(){return k},t.prototype._clearCache=function(t){t?this._cache.delete(t):this._cache.clear()},t.prototype._getCache=function(t,e){var n=this._cache.get(t);return void 0===n&&(n=e.call(this),this._cache.set(t,n)),n},t.prototype._getCanvasCache=function(){return this._cache.get(h)},t.prototype._clearSelfAndDescendantCache=function(t){this._clearCache(t),this.isCached()||this.children&&this.children.each((function(e){e._clearSelfAndDescendantCache(t)}))},t.prototype.clearCache=function(){return this._cache.delete(h),this._clearSelfAndDescendantCache(),this},t.prototype.cache=function(t){var e=t||{},n={};void 0!==e.x&&void 0!==e.y&&void 0!==e.width&&void 0!==e.height||(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var i=Math.ceil(e.width||n.width),o=Math.ceil(e.height||n.height),s=e.pixelRatio,c=void 0===e.x?n.x:e.x,l=void 0===e.y?n.y:e.y,d=e.offset||0,p=e.drawBorder||!1;if(i&&o){i+=2*d,o+=2*d,c-=d,l-=d;var g=new a.SceneCanvas({pixelRatio:s,width:i,height:o}),y=new a.SceneCanvas({pixelRatio:s,width:i,height:o}),v=new a.HitCanvas({pixelRatio:1,width:i,height:o}),m=g.getContext(),_=v.getContext();return v.isCache=!0,this._cache.delete("canvas"),this._filterUpToDate=!1,!1===e.imageSmoothingEnabled&&(g.getContext()._context.imageSmoothingEnabled=!1,y.getContext()._context.imageSmoothingEnabled=!1,v.getContext()._context.imageSmoothingEnabled=!1),m.save(),_.save(),m.translate(-c,-l),_.translate(-c,-l),this._isUnderCache=!0,this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(f),this.drawScene(g,this,!0),this.drawHit(v,this,!0),this._isUnderCache=!1,m.restore(),_.restore(),p&&(m.save(),m.beginPath(),m.rect(0,0,i,o),m.closePath(),m.setAttr("strokeStyle","red"),m.setAttr("lineWidth",5),m.stroke(),m.restore()),this._cache.set(h,{scene:g,filter:y,hit:v,x:c,y:l}),this}r.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")},t.prototype.isCached=function(){return this._cache.has("canvas")},t.prototype.getClientRect=function(t){throw new Error('abstract "getClientRect" method call')},t.prototype._transformedRect=function(t,e){var n,r,i,a,o=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],s=this.getAbsoluteTransform(e);return o.forEach((function(t){var e=s.point(t);void 0===n&&(n=i=e.x,r=a=e.y),n=Math.min(n,e.x),r=Math.min(r,e.y),i=Math.max(i,e.x),a=Math.max(a,e.y)})),{x:n,y:r,width:i-n,height:a-r}},t.prototype._drawCachedSceneCanvas=function(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);var e=this._getCanvasCache();t.translate(e.x,e.y);var n=this._getCachedSceneCanvas(),r=n.pixelRatio;t.drawImage(n._canvas,0,0,n.width/r,n.height/r),t.restore()},t.prototype._drawCachedHitCanvas=function(t){var e=this._getCanvasCache(),n=e.hit;t.save(),t.translate(e.x,e.y),t.drawImage(n._canvas,0,0),t.restore()},t.prototype._getCachedSceneCanvas=function(){var t,e,n,i,a=this.filters(),o=this._getCanvasCache(),s=o.scene,c=o.filter,u=c.getContext();if(a){if(!this._filterUpToDate){var l=s.pixelRatio;try{for(t=a.length,u.clear(),u.drawImage(s._canvas,0,0,s.getWidth()/l,s.getHeight()/l),e=u.getImageData(0,0,c.getWidth(),c.getHeight()),n=0;n<t;n++)"function"===typeof(i=a[n])?(i.call(this,e),u.putImageData(e,0,0)):r.Util.error("Filter should be type of function, but got "+typeof i+" instead. Please check correct filters")}catch(f){r.Util.error("Unable to apply filter. "+f.message+". This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return c}return s},t.prototype.on=function(t,e){if(3===arguments.length)return this._delegate.apply(this,arguments);var n,r,i,a,o=t.split(v),s=o.length;for(n=0;n<s;n++)i=(r=o[n].split("."))[0],a=r[1]||"",this.eventListeners[i]||(this.eventListeners[i]=[]),this.eventListeners[i].push({name:a,handler:e});return this},t.prototype.off=function(t,e){var n,r,i,a,o,s=(t||"").split(v),c=s.length;if(!t)for(r in this.eventListeners)this._off(r);for(n=0;n<c;n++)if(a=(i=s[n].split("."))[0],o=i[1],a)this.eventListeners[a]&&this._off(a,o,e);else for(r in this.eventListeners)this._off(r,o,e);return this},t.prototype.dispatchEvent=function(t){var e={target:this,type:t.type,evt:t};return this.fire(t.type,e),this},t.prototype.addEventListener=function(t,e){return this.on(t,(function(t){e.call(this,t.evt)})),this},t.prototype.removeEventListener=function(t){return this.off(t),this},t.prototype._delegate=function(t,e,n){var i=this;this.on(t,(function(t){for(var a=t.target.findAncestors(e,!0,i),o=0;o<a.length;o++)(t=r.Util.cloneObject(t)).currentTarget=a[o],n.call(a[o],t)}))},t.prototype.remove=function(){return this.isDragging()&&this.stopDrag(),s.DD._dragElements.delete(this._id),this._remove(),this},t.prototype._clearCaches=function(){this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(f),this._clearSelfAndDescendantCache(m),this._clearSelfAndDescendantCache(b),this._clearSelfAndDescendantCache(d)},t.prototype._remove=function(){this._clearCaches();var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)},t.prototype.destroy=function(){e._removeId(this.id(),this);for(var t=(this.name()||"").split(/\s/g),n=0;n<t.length;n++){var r=t[n];e._removeName(r,this._id)}return this.remove(),this},t.prototype.getAttr=function(t){var e="get"+r.Util._capitalize(t);return r.Util._isFunction(this[e])?this[e]():this.attrs[t]},t.prototype.getAncestors=function(){for(var t=this.getParent(),e=new r.Collection;t;)e.push(t),t=t.getParent();return e},t.prototype.getAttrs=function(){return this.attrs||{}},t.prototype.setAttrs=function(t){var e,n;if(!t)return this;for(e in t)"children"!==e&&(n="set"+r.Util._capitalize(e),r.Util._isFunction(this[n])?this[n](t[e]):this._setAttr(e,t[e]));return this},t.prototype.isListening=function(){return this._getCache(d,this._isListening)},t.prototype._isListening=function(){var t=this.listening(),e=this.getParent();return"inherit"===t?!e||e.isListening():t},t.prototype.isVisible=function(){return this._getCache(b,this._isVisible)},t.prototype._isVisible=function(t){var e=this.visible(),n=this.getParent();return"inherit"===e?!n||n===t||n._isVisible(t):t&&t!==n?e&&n._isVisible(t):e},t.prototype.shouldDrawHit=function(){var t=this.getLayer();return!t&&this.isListening()&&this.isVisible()||t&&t.hitGraphEnabled()&&this.isListening()&&this.isVisible()},t.prototype.show=function(){return this.visible(!0),this},t.prototype.hide=function(){return this.visible(!1),this},t.prototype.getZIndex=function(){return this.index||0},t.prototype.getAbsoluteZIndex=function(){var t,e,n,r,i=this.getDepth(),a=this,o=0;return"Stage"!==a.nodeType&&function s(c){for(t=[],e=c.length,n=0;n<e;n++)r=c[n],o++,r.nodeType!==y&&(t=t.concat(r.getChildren().toArray())),r._id===a._id&&(n=e);t.length>0&&t[0].getDepth()<=i&&s(t)}(a.getStage().getChildren()),o},t.prototype.getDepth=function(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t},t.prototype.setPosition=function(t){return this.x(t.x),this.y(t.y),this},t.prototype.getPosition=function(){return{x:this.x(),y:this.y()}},t.prototype.getAbsolutePosition=function(t){for(var e=!1,n=this.parent;n;){if(n.isCached()){e=!0;break}n=n.parent}e&&!t&&(t=!0);var i=this.getAbsoluteTransform(t).getMatrix(),a=new r.Transform,o=this.offset();return a.m=i.slice(),a.translate(o.x,o.y),a.getTranslation()},t.prototype.setAbsolutePosition=function(t){var e,n=this._clearTransform();return this.attrs.x=n.x,this.attrs.y=n.y,delete n.x,delete n.y,(e=this.getAbsoluteTransform()).invert(),e.translate(t.x,t.y),t={x:this.attrs.x+e.getTranslation().x,y:this.attrs.y+e.getTranslation().y},this.setPosition({x:t.x,y:t.y}),this._setTransform(n),this},t.prototype._setTransform=function(t){var e;for(e in t)this.attrs[e]=t[e];this._clearCache(_),this._clearSelfAndDescendantCache(l)},t.prototype._clearTransform=function(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,this._clearCache(_),this._clearSelfAndDescendantCache(l),t},t.prototype.move=function(t){var e=t.x,n=t.y,r=this.x(),i=this.y();return void 0!==e&&(r+=e),void 0!==n&&(i+=n),this.setPosition({x:r,y:i}),this},t.prototype._eachAncestorReverse=function(t,e){var n,r,i=[],a=this.getParent();if(e&&e._id===this._id)t(this);else{for(i.unshift(this);a&&(!e||a._id!==e._id);)i.unshift(a),a=a.parent;for(n=i.length,r=0;r<n;r++)t(i[r])}},t.prototype.rotate=function(t){return this.rotation(this.rotation()+t),this},t.prototype.moveToTop=function(){if(!this.parent)return r.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index;return this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0},t.prototype.moveUp=function(){if(!this.parent)return r.Util.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0)},t.prototype.moveDown=function(){if(!this.parent)return r.Util.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0)},t.prototype.moveToBottom=function(){if(!this.parent)return r.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)},t.prototype.setZIndex=function(t){if(!this.parent)return r.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&r.Util.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var e=this.index;return this.parent.children.splice(e,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this},t.prototype.getAbsoluteOpacity=function(){return this._getCache(u,this._getAbsoluteOpacity)},t.prototype._getAbsoluteOpacity=function(){var t=this.opacity(),e=this.getParent();return e&&!e._isUnderCache&&(t*=e.getAbsoluteOpacity()),t},t.prototype.moveTo=function(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this},t.prototype.toObject=function(){var t,e,n,i,a={},o=this.getAttrs();for(t in a.attrs={},o)e=o[t],r.Util.isObject(e)&&!r.Util._isPlainObject(e)&&!r.Util._isArray(e)||(n="function"===typeof this[t]&&this[t],delete o[t],i=n?n.call(this):null,o[t]=e,i!==e&&(a.attrs[t]=e));return a.className=this.getClassName(),r.Util._prepareToStringify(a)},t.prototype.toJSON=function(){return JSON.stringify(this.toObject())},t.prototype.getParent=function(){return this.parent},t.prototype.findAncestors=function(t,e,n){var r=[];e&&this._isMatch(t)&&r.push(this);for(var i=this.parent;i;){if(i===n)return r;i._isMatch(t)&&r.push(i),i=i.parent}return r},t.prototype.isAncestorOf=function(t){return!1},t.prototype.findAncestor=function(t,e,n){return this.findAncestors(t,e,n)[0]},t.prototype._isMatch=function(t){if(!t)return!1;if("function"===typeof t)return t(this);var e,n,i=t.replace(/ /g,"").split(","),a=i.length;for(e=0;e<a;e++)if(n=i[e],r.Util.isValidSelector(n)||(r.Util.warn('Selector "'+n+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),r.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),r.Util.warn("Konva is awesome, right?")),"#"===n.charAt(0)){if(this.id()===n.slice(1))return!0}else if("."===n.charAt(0)){if(this.hasName(n.slice(1)))return!0}else if(this.className===n||this.nodeType===n)return!0;return!1},t.prototype.getLayer=function(){var t=this.getParent();return t?t.getLayer():null},t.prototype.getStage=function(){return this._getCache(m,this._getStage)},t.prototype._getStage=function(){var t=this.getParent();return t?t.getStage():void 0},t.prototype.fire=function(t,e,n){return(e=e||{}).target=e.target||this,n?this._fireAndBubble(t,e):this._fire(t,e),this},t.prototype.getAbsoluteTransform=function(t){return t?this._getAbsoluteTransform(t):this._getCache(l,this._getAbsoluteTransform)},t.prototype._getAbsoluteTransform=function(t){var e;if(t)return e=new r.Transform,this._eachAncestorReverse((function(t){var n=t.transformsEnabled();"all"===n?e.multiply(t.getTransform()):"position"===n&&e.translate(t.x()-t.offsetX(),t.y()-t.offsetY())}),t),e;e=this.parent?this.parent.getAbsoluteTransform().copy():new r.Transform;var n=this.transformsEnabled();return"all"===n?e.multiply(this.getTransform()):"position"===n&&e.translate(this.x()-this.offsetX(),this.y()-this.offsetY()),e},t.prototype.getAbsoluteScale=function(t){return t?this._getAbsoluteScale(t):this._getCache(f,this._getAbsoluteScale)},t.prototype._getAbsoluteScale=function(t){for(var e=this;e;)e._isUnderCache&&(t=e),e=e.getParent();var n=1,r=1;return this._eachAncestorReverse((function(t){n*=t.scaleX(),r*=t.scaleY()}),t),{x:n,y:r}},t.prototype.getAbsoluteRotation=function(){for(var t=this,e=0;t;)e+=t.rotation(),t=t.getParent();return e},t.prototype.getTransform=function(){return this._getCache(_,this._getTransform)},t.prototype._getTransform=function(){var t=new r.Transform,e=this.x(),n=this.y(),i=o.Konva.getAngle(this.rotation()),a=this.scaleX(),s=this.scaleY(),c=this.skewX(),u=this.skewY(),l=this.offsetX(),f=this.offsetY();return 0===e&&0===n||t.translate(e,n),0!==i&&t.rotate(i),0===c&&0===u||t.skew(c,u),1===a&&1===s||t.scale(a,s),0===l&&0===f||t.translate(-1*l,-1*f),t},t.prototype.clone=function(t){var e,n,i,a,o,s=r.Util.cloneObject(this.attrs);for(e in t)s[e]=t[e];var c=new this.constructor(s);for(e in this.eventListeners)for(i=(n=this.eventListeners[e]).length,a=0;a<i;a++)(o=n[a]).name.indexOf("konva")<0&&(c.eventListeners[e]||(c.eventListeners[e]=[]),c.eventListeners[e].push(o));return c},t.prototype._toKonvaCanvas=function(t){t=t||{};var e=this.getClientRect(),n=this.getStage(),r=void 0!==t.x?t.x:e.x,i=void 0!==t.y?t.y:e.y,o=t.pixelRatio||1,s=new a.SceneCanvas({width:t.width||e.width||(n?n.width():0),height:t.height||e.height||(n?n.height():0),pixelRatio:o}),c=s.getContext();return c.save(),(r||i)&&c.translate(-1*r,-1*i),this.drawScene(s),c.restore(),s},t.prototype.toCanvas=function(t){return this._toKonvaCanvas(t)._canvas},t.prototype.toDataURL=function(t){var e=(t=t||{}).mimeType||null,n=t.quality||null,r=this._toKonvaCanvas(t).toDataURL(e,n);return t.callback&&t.callback(r),r},t.prototype.toImage=function(t){if(!t||!t.callback)throw"callback required for toImage method config argument";var e=t.callback;delete t.callback,r.Util._urlToImage(this.toDataURL(t),(function(t){e(t)}))},t.prototype.setSize=function(t){return this.width(t.width),this.height(t.height),this},t.prototype.getSize=function(){return{width:this.width(),height:this.height()}},t.prototype.getClassName=function(){return this.className||this.nodeType},t.prototype.getType=function(){return this.nodeType},t.prototype.getDragDistance=function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():o.Konva.dragDistance},t.prototype._off=function(t,e,n){var r,i,a,o=this.eventListeners[t];for(r=0;r<o.length;r++)if(i=o[r].name,a=o[r].handler,("konva"!==i||"konva"===e)&&(!e||i===e)&&(!n||n===a)){if(o.splice(r,1),0===o.length){delete this.eventListeners[t];break}r--}},t.prototype._fireChangeEvent=function(t,e,n){this._fire(t+"Change",{oldVal:e,newVal:n})},t.prototype.setId=function(t){var n=this.id();return e._removeId(n,this),function(t,n){n&&(e.ids[n]=t)}(this,t),this._setAttr("id",t),this},t.prototype.setName=function(t){var n,r,i=(this.name()||"").split(/\s/g),a=(t||"").split(/\s/g);for(r=0;r<i.length;r++)n=i[r],-1===a.indexOf(n)&&n&&e._removeName(n,this._id);for(r=0;r<a.length;r++)n=a[r],-1===i.indexOf(n)&&n&&e._addName(this,n);return this._setAttr("name",t),this},t.prototype.addName=function(t){if(!this.hasName(t)){var e=this.name(),n=e?e+" "+t:t;this.setName(n)}return this},t.prototype.hasName=function(t){if(!t)return!1;var e=this.name();return!!e&&-1!==(e||"").split(/\s/g).indexOf(t)},t.prototype.removeName=function(t){var e=(this.name()||"").split(/\s/g),n=e.indexOf(t);return-1!==n&&(e.splice(n,1),this.setName(e.join(" "))),this},t.prototype.setAttr=function(t,e){var n=this["set"+r.Util._capitalize(t)];return r.Util._isFunction(n)?n.call(this,e):this._setAttr(t,e),this},t.prototype._setAttr=function(t,e){var n=this.attrs[t];(n!==e||r.Util.isObject(e))&&(void 0===e||null===e?delete this.attrs[t]:this.attrs[t]=e,this._fireChangeEvent(t,n,e))},t.prototype._setComponentAttr=function(t,e,n){var r;void 0!==n&&((r=this.attrs[t])||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=n,this._fireChangeEvent(t,r,n))},t.prototype._fireAndBubble=function(t,e,n){if(e&&this.nodeType===y&&(e.target=this),!((t===p||t===g)&&(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||"Stage"===this.nodeType&&!n))){this._fire(t,e);var r=(t===p||t===g)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!r&&(n&&n.parent?this._fireAndBubble.call(this.parent,t,e,n.parent):this._fireAndBubble.call(this.parent,t,e))}},t.prototype._fire=function(t,e){var n,r=this.eventListeners[t];if(r)for((e=e||{}).currentTarget=this,e.type=t,n=0;n<r.length;n++)r[n].handler.call(this,e)},t.prototype.draw=function(){return this.drawScene(),this.drawHit(),this},t.prototype._createDragElement=function(t){var e=t?t.pointerId:void 0,n=this.getStage(),r=this.getAbsolutePosition(),i=n._getPointerById(e)||n._changedPointerPositions[0]||r;s.DD._dragElements.set(this._id,{node:this,startPointerPos:i,offset:{x:i.x-r.x,y:i.y-r.y},dragStatus:"ready",pointerId:e})},t.prototype.startDrag=function(t){s.DD._dragElements.has(this._id)||this._createDragElement(t),s.DD._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},!0)},t.prototype._setDragPosition=function(t,e){var n=this.getStage()._getPointerById(e.pointerId);if(n){var i={x:n.x-e.offset.x,y:n.y-e.offset.y},a=this.dragBoundFunc();if(void 0!==a){var o=a.call(this,i,t);o?i=o:r.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===i.x&&this._lastPos.y===i.y||(this.setAbsolutePosition(i),this.getLayer()?this.getLayer().batchDraw():this.getStage()&&this.getStage().batchDraw()),this._lastPos=i}},t.prototype.stopDrag=function(t){var e=s.DD._dragElements.get(this._id);e&&(e.dragStatus="stopped"),s.DD._endDragBefore(t),s.DD._endDragAfter(t)},t.prototype.setDraggable=function(t){this._setAttr("draggable",t),this._dragChange()},t.prototype.isDragging=function(){var t=s.DD._dragElements.get(this._id);return!!t&&"dragging"===t.dragStatus},t.prototype._listenDrag=function(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(t){var e=this;if((!(void 0!==t.evt.button)||o.Konva.dragButtons.indexOf(t.evt.button)>=0)&&!this.isDragging()){var n=!1;s.DD._dragElements.forEach((function(t){e.isAncestorOf(t.node)&&(n=!0)})),n||this._createDragElement(t)}}))},t.prototype._dragChange=function(){this.attrs.draggable?this._listenDrag():(this._dragCleanup(),this.getStage()&&s.DD._dragElements.has(this._id)&&this.stopDrag())},t.prototype._dragCleanup=function(){this.off("mousedown.konva"),this.off("touchstart.konva")},t.create=function(t,e){return r.Util._isString(t)&&(t=JSON.parse(t)),this._createNode(t,e)},t._createNode=function(e,n){var i,a,s,c=t.prototype.getClassName.call(e),u=e.children;if(n&&(e.attrs.container=n),o._NODES_REGISTRY[c]||(r.Util.warn('Can not find a node with class name "'+c+'". Fallback to "Shape".'),c="Shape"),i=new(0,o._NODES_REGISTRY[c])(e.attrs),u)for(a=u.length,s=0;s<a;s++)i.add(t._createNode(u[s]));return i},t}();e.Node=E,E.prototype.nodeType="Node",E.prototype._attrsAffectingSize=[],i.Factory.addGetterSetter(E,"zIndex"),i.Factory.addGetterSetter(E,"absolutePosition"),i.Factory.addGetterSetter(E,"position"),i.Factory.addGetterSetter(E,"x",0,c.getNumberValidator()),i.Factory.addGetterSetter(E,"y",0,c.getNumberValidator()),i.Factory.addGetterSetter(E,"globalCompositeOperation","source-over",c.getStringValidator()),i.Factory.addGetterSetter(E,"opacity",1,c.getNumberValidator()),i.Factory.addGetterSetter(E,"name","",c.getStringValidator()),i.Factory.addGetterSetter(E,"id","",c.getStringValidator()),i.Factory.addGetterSetter(E,"rotation",0,c.getNumberValidator()),i.Factory.addComponentsGetterSetter(E,"scale",["x","y"]),i.Factory.addGetterSetter(E,"scaleX",1,c.getNumberValidator()),i.Factory.addGetterSetter(E,"scaleY",1,c.getNumberValidator()),i.Factory.addComponentsGetterSetter(E,"skew",["x","y"]),i.Factory.addGetterSetter(E,"skewX",0,c.getNumberValidator()),i.Factory.addGetterSetter(E,"skewY",0,c.getNumberValidator()),i.Factory.addComponentsGetterSetter(E,"offset",["x","y"]),i.Factory.addGetterSetter(E,"offsetX",0,c.getNumberValidator()),i.Factory.addGetterSetter(E,"offsetY",0,c.getNumberValidator()),i.Factory.addGetterSetter(E,"dragDistance",null,c.getNumberValidator()),i.Factory.addGetterSetter(E,"width",0,c.getNumberValidator()),i.Factory.addGetterSetter(E,"height",0,c.getNumberValidator()),i.Factory.addGetterSetter(E,"listening","inherit",(function(t){return!0===t||!1===t||"inherit"===t||r.Util.warn(t+' is a not valid value for "listening" attribute. The value may be true, false or "inherit".'),t})),i.Factory.addGetterSetter(E,"preventDefault",!0,c.getBooleanValidator()),i.Factory.addGetterSetter(E,"filters",null,(function(t){return this._filterUpToDate=!1,t})),i.Factory.addGetterSetter(E,"visible","inherit",(function(t){return!0===t||!1===t||"inherit"===t||r.Util.warn(t+' is a not valid value for "visible" attribute. The value may be true, false or "inherit".'),t})),i.Factory.addGetterSetter(E,"transformsEnabled","all",c.getStringValidator()),i.Factory.addGetterSetter(E,"size"),i.Factory.addGetterSetter(E,"dragBoundFunc"),i.Factory.addGetterSetter(E,"draggable",!1,c.getBooleanValidator()),i.Factory.backCompat(E,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),r.Collection.mapMethods(E)},1655:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2683),i=new Map,a=void 0!==r.Konva._global.PointerEvent;function o(t){return{evt:t,pointerId:t.pointerId}}function s(t,e){var n=i.get(t);if(n){var r=n.getStage();r&&r.content,i.delete(t),a&&n._fire("lostpointercapture",o(new PointerEvent("lostpointercapture")))}}e.getCapturedShape=function(t){return i.get(t)},e.createEvent=o,e.hasPointerCapture=function(t,e){return i.get(t)===e},e.setPointerCapture=function(t,e){s(t),e.getStage()&&(i.set(t,e),a&&e._fire("gotpointercapture",o(new PointerEvent("gotpointercapture"))))},e.releaseCapture=s},9132:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(2264),o=n(6534),s=n(2585),c=n(8999),u=n(2683),l=n(1655),f="hasShadow",h="shadowRGBA",d="patternImage",p="linearGradient",g="radialGradient";function y(){return i||(i=a.Util.createCanvasElement().getContext("2d"))}function v(){this._clearCache(f)}function m(){this._clearCache(h)}function _(){this._clearCache(d)}function b(){this._clearCache(p)}function w(){this._clearCache(g)}e.shapes={};var x=function(t){function n(n){for(var r,i=t.call(this,n)||this;!(r=a.Util.getRandomColor())||r in e.shapes;);return i.colorKey=r,e.shapes[r]=i,i.on("shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",v),i.on("shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",m),i.on("fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva",_),i.on("fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",b),i.on("fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",w),i}return r(n,t),n.prototype.getContext=function(){return this.getLayer().getContext()},n.prototype.getCanvas=function(){return this.getLayer().getCanvas()},n.prototype.getSceneFunc=function(){return this.attrs.sceneFunc||this._sceneFunc},n.prototype.getHitFunc=function(){return this.attrs.hitFunc||this._hitFunc},n.prototype.hasShadow=function(){return this._getCache(f,this._hasShadow)},n.prototype._hasShadow=function(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())},n.prototype._getFillPattern=function(){return this._getCache(d,this.__getFillPattern)},n.prototype.__getFillPattern=function(){if(this.fillPatternImage())return y().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat")},n.prototype._getLinearGradient=function(){return this._getCache(p,this.__getLinearGradient)},n.prototype.__getLinearGradient=function(){var t=this.fillLinearGradientColorStops();if(t){for(var e=y(),n=this.fillLinearGradientStartPoint(),r=this.fillLinearGradientEndPoint(),i=e.createLinearGradient(n.x,n.y,r.x,r.y),a=0;a<t.length;a+=2)i.addColorStop(t[a],t[a+1]);return i}},n.prototype._getRadialGradient=function(){return this._getCache(g,this.__getRadialGradient)},n.prototype.__getRadialGradient=function(){var t=this.fillRadialGradientColorStops();if(t){for(var e=y(),n=this.fillRadialGradientStartPoint(),r=this.fillRadialGradientEndPoint(),i=e.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),r.x,r.y,this.fillRadialGradientEndRadius()),a=0;a<t.length;a+=2)i.addColorStop(t[a],t[a+1]);return i}},n.prototype.getShadowRGBA=function(){return this._getCache(h,this._getShadowRGBA)},n.prototype._getShadowRGBA=function(){if(this.hasShadow()){var t=a.Util.colorToRGBA(this.shadowColor());return"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")"}},n.prototype.hasFill=function(){return this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops())},n.prototype.hasStroke=function(){return this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops())},n.prototype.hasHitStroke=function(){var t=this.hitStrokeWidth();return this.strokeEnabled()&&(t||this.strokeWidth()&&"auto"===t)},n.prototype.intersects=function(t){var e=this.getStage().bufferHitCanvas;return e.getContext().clear(),this.drawHit(e),e.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]>0},n.prototype.destroy=function(){return s.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this},n.prototype._useBufferCanvas=function(t){return!(t&&!this.hasShadow()||!this.perfectDrawEnabled()||1===this.getAbsoluteOpacity()||!this.hasFill()||!this.hasStroke()||!this.getStage())},n.prototype.setStrokeHitEnabled=function(t){t?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)},n.prototype.getStrokeHitEnabled=function(){return 0!==this.hitStrokeWidth()},n.prototype.getSelfRect=function(){var t=this.size();return{x:this._centroid?Math.round(-t.width/2):0,y:this._centroid?Math.round(-t.height/2):0,width:t.width,height:t.height}},n.prototype.getClientRect=function(t){var e=(t=t||{}).skipTransform,n=t.relativeTo,r=this.getSelfRect(),i=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,a=r.width+i,o=r.height+i,s=!t.skipShadow&&this.hasShadow(),c=s?this.shadowOffsetX():0,u=s?this.shadowOffsetY():0,l=a+Math.abs(c),f=o+Math.abs(u),h=s&&this.shadowBlur()||0,d=l+2*h,p=f+2*h,g=0;Math.round(i/2)!==i/2&&(g=1);var y={width:d+g,height:p+g,x:-Math.round(i/2+h)+Math.min(c,0)+r.x,y:-Math.round(i/2+h)+Math.min(u,0)+r.y};return e?y:this._transformedRect(y,n)},n.prototype.drawScene=function(t,e,n,r){var i,a,o=this.getLayer(),s=t||o.getCanvas(),c=s.getContext(),u=this._getCanvasCache(),l=this.sceneFunc(),f=this.hasShadow(),h=this.hasStroke();if(!this.isVisible()&&!n)return this;if(u)return c.save(),o._applyTransform(this,c,e),this._drawCachedSceneCanvas(c),c.restore(),this;if(!l)return this;if(c.save(),this._useBufferCanvas(n)&&!r){if((a=(i=this.getStage().bufferCanvas).getContext()).clear(),a.save(),a._applyLineJoin(this),!n)if(o)o._applyTransform(this,a,e);else{var d=this.getAbsoluteTransform(e).getMatrix();c.transform(d[0],d[1],d[2],d[3],d[4],d[5])}l.call(this,a,this),a.restore();var p=i.pixelRatio;f&&!s.hitCanvas?(c.save(),c._applyShadow(this),c._applyOpacity(this),c._applyGlobalCompositeOperation(this),c.drawImage(i._canvas,0,0,i.width/p,i.height/p),c.restore()):(c._applyOpacity(this),c._applyGlobalCompositeOperation(this),c.drawImage(i._canvas,0,0,i.width/p,i.height/p))}else{if(c._applyLineJoin(this),!n)if(o)o._applyTransform(this,c,e);else{var g=this.getAbsoluteTransform(e).getMatrix();c.transform(g[0],g[1],g[2],g[3],g[4],g[5])}f&&h&&!s.hitCanvas?(c.save(),n||(c._applyOpacity(this),c._applyGlobalCompositeOperation(this)),c._applyShadow(this),l.call(this,c,this),c.restore(),this.hasFill()&&this.shadowForStrokeEnabled()&&l.call(this,c,this)):f&&!s.hitCanvas?(c.save(),n||(c._applyOpacity(this),c._applyGlobalCompositeOperation(this)),c._applyShadow(this),l.call(this,c,this),c.restore()):(n||(c._applyOpacity(this),c._applyGlobalCompositeOperation(this)),l.call(this,c,this))}return c.restore(),this},n.prototype.drawHit=function(t,e,n){var r=this.getLayer(),i=t||r.hitCanvas,o=i&&i.getContext(),s=this.hitFunc()||this.sceneFunc(),c=this._getCanvasCache(),u=c&&c.hit;if(this.colorKey||(console.log(this),a.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. See the shape in logs above. If you want to reuse shape you should call remove() instead of destroy()")),!this.shouldDrawHit()&&!n)return this;if(u)return o.save(),r._applyTransform(this,o,e),this._drawCachedHitCanvas(o),o.restore(),this;if(!s)return this;if(o.save(),o._applyLineJoin(this),!n)if(r)r._applyTransform(this,o,e);else{var l=this.getAbsoluteTransform(e).getMatrix();o.transform(l[0],l[1],l[2],l[3],l[4],l[5])}return s.call(this,o,this),o.restore(),this},n.prototype.drawHitFromCache=function(t){void 0===t&&(t=0);var e,n,r,i,o,s=this._getCanvasCache(),c=this._getCachedSceneCanvas(),u=s.hit,l=u.getContext(),f=u.getWidth(),h=u.getHeight();l.clear(),l.drawImage(c._canvas,0,0,f,h);try{for(r=(n=(e=l.getImageData(0,0,f,h)).data).length,i=a.Util._hexToRgb(this.colorKey),o=0;o<r;o+=4)n[o+3]>t?(n[o]=i.r,n[o+1]=i.g,n[o+2]=i.b,n[o+3]=255):n[o+3]=0;l.putImageData(e,0,0)}catch(d){a.Util.error("Unable to draw hit graph from cached scene canvas. "+d.message)}return this},n.prototype.hasPointerCapture=function(t){return l.hasPointerCapture(t,this)},n.prototype.setPointerCapture=function(t){l.setPointerCapture(t,this)},n.prototype.releaseCapture=function(t){l.releaseCapture(t,this)},n}(s.Node);e.Shape=x,x.prototype._fillFunc=function(t){t.fill()},x.prototype._strokeFunc=function(t){t.stroke()},x.prototype._fillFuncHit=function(t){t.fill()},x.prototype._strokeFuncHit=function(t){t.stroke()},x.prototype._centroid=!1,x.prototype.nodeType="Shape",u._registerNode(x),o.Factory.addGetterSetter(x,"stroke",void 0,c.getStringValidator()),o.Factory.addGetterSetter(x,"strokeWidth",2,c.getNumberValidator()),o.Factory.addGetterSetter(x,"hitStrokeWidth","auto",c.getNumberOrAutoValidator()),o.Factory.addGetterSetter(x,"strokeHitEnabled",!0,c.getBooleanValidator()),o.Factory.addGetterSetter(x,"perfectDrawEnabled",!0,c.getBooleanValidator()),o.Factory.addGetterSetter(x,"shadowForStrokeEnabled",!0,c.getBooleanValidator()),o.Factory.addGetterSetter(x,"lineJoin"),o.Factory.addGetterSetter(x,"lineCap"),o.Factory.addGetterSetter(x,"sceneFunc"),o.Factory.addGetterSetter(x,"hitFunc"),o.Factory.addGetterSetter(x,"dash"),o.Factory.addGetterSetter(x,"dashOffset",0,c.getNumberValidator()),o.Factory.addGetterSetter(x,"shadowColor",void 0,c.getStringValidator()),o.Factory.addGetterSetter(x,"shadowBlur",0,c.getNumberValidator()),o.Factory.addGetterSetter(x,"shadowOpacity",1,c.getNumberValidator()),o.Factory.addComponentsGetterSetter(x,"shadowOffset",["x","y"]),o.Factory.addGetterSetter(x,"shadowOffsetX",0,c.getNumberValidator()),o.Factory.addGetterSetter(x,"shadowOffsetY",0,c.getNumberValidator()),o.Factory.addGetterSetter(x,"fillPatternImage"),o.Factory.addGetterSetter(x,"fill",void 0,c.getStringValidator()),o.Factory.addGetterSetter(x,"fillPatternX",0,c.getNumberValidator()),o.Factory.addGetterSetter(x,"fillPatternY",0,c.getNumberValidator()),o.Factory.addGetterSetter(x,"fillLinearGradientColorStops"),o.Factory.addGetterSetter(x,"strokeLinearGradientColorStops"),o.Factory.addGetterSetter(x,"fillRadialGradientStartRadius",0),o.Factory.addGetterSetter(x,"fillRadialGradientEndRadius",0),o.Factory.addGetterSetter(x,"fillRadialGradientColorStops"),o.Factory.addGetterSetter(x,"fillPatternRepeat","repeat"),o.Factory.addGetterSetter(x,"fillEnabled",!0),o.Factory.addGetterSetter(x,"strokeEnabled",!0),o.Factory.addGetterSetter(x,"shadowEnabled",!0),o.Factory.addGetterSetter(x,"dashEnabled",!0),o.Factory.addGetterSetter(x,"strokeScaleEnabled",!0),o.Factory.addGetterSetter(x,"fillPriority","color"),o.Factory.addComponentsGetterSetter(x,"fillPatternOffset",["x","y"]),o.Factory.addGetterSetter(x,"fillPatternOffsetX",0,c.getNumberValidator()),o.Factory.addGetterSetter(x,"fillPatternOffsetY",0,c.getNumberValidator()),o.Factory.addComponentsGetterSetter(x,"fillPatternScale",["x","y"]),o.Factory.addGetterSetter(x,"fillPatternScaleX",1,c.getNumberValidator()),o.Factory.addGetterSetter(x,"fillPatternScaleY",1,c.getNumberValidator()),o.Factory.addComponentsGetterSetter(x,"fillLinearGradientStartPoint",["x","y"]),o.Factory.addComponentsGetterSetter(x,"strokeLinearGradientStartPoint",["x","y"]),o.Factory.addGetterSetter(x,"fillLinearGradientStartPointX",0),o.Factory.addGetterSetter(x,"strokeLinearGradientStartPointX",0),o.Factory.addGetterSetter(x,"fillLinearGradientStartPointY",0),o.Factory.addGetterSetter(x,"strokeLinearGradientStartPointY",0),o.Factory.addComponentsGetterSetter(x,"fillLinearGradientEndPoint",["x","y"]),o.Factory.addComponentsGetterSetter(x,"strokeLinearGradientEndPoint",["x","y"]),o.Factory.addGetterSetter(x,"fillLinearGradientEndPointX",0),o.Factory.addGetterSetter(x,"strokeLinearGradientEndPointX",0),o.Factory.addGetterSetter(x,"fillLinearGradientEndPointY",0),o.Factory.addGetterSetter(x,"strokeLinearGradientEndPointY",0),o.Factory.addComponentsGetterSetter(x,"fillRadialGradientStartPoint",["x","y"]),o.Factory.addGetterSetter(x,"fillRadialGradientStartPointX",0),o.Factory.addGetterSetter(x,"fillRadialGradientStartPointY",0),o.Factory.addComponentsGetterSetter(x,"fillRadialGradientEndPoint",["x","y"]),o.Factory.addGetterSetter(x,"fillRadialGradientEndPointX",0),o.Factory.addGetterSetter(x,"fillRadialGradientEndPointY",0),o.Factory.addGetterSetter(x,"fillPatternRotation",0),o.Factory.backCompat(x,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),a.Collection.mapMethods(x)},7580:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2264),a=n(6534),o=n(3890),s=n(2683),c=n(6689),u=n(184),l=n(2683),f=n(1655),h="mouseout",d="mouseleave",p="mouseover",g="mouseenter",y="mousemove",v="mousedown",m="mouseup",_="pointermove",b="pointerdown",w="pointerup",x="contextmenu",k="click",C="dblclick",E="touchstart",A="touchend",S="dbltap",T="touchmove",P="wheel",O=[g,v,y,m,h,E,T,A,p,P,x,b,_,w,"pointercancel","lostpointercapture"],R=O.length;function L(t,e){t.content.addEventListener(e,(function(n){t["_"+e](n)}),!1)}function M(t){return void 0===t&&(t={}),(t.clipFunc||t.clipWidth||t.clipHeight)&&i.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}e.stages=[];var I=function(t){function n(n){var r=t.call(this,M(n))||this;return r._pointerPositions=[],r._changedPointerPositions=[],r._buildDOM(),r._bindContentEvents(),e.stages.push(r),r.on("widthChange.konva heightChange.konva",r._resizeDOM),r.on("visibleChange.konva",r._checkVisibility),r.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(function(){M(r.attrs)})),r._checkVisibility(),r}return r(n,t),n.prototype._validateAdd=function(t){var e="Layer"===t.getType(),n="FastLayer"===t.getType();e||n||i.Util.throw("You may only add layers to the stage.")},n.prototype._checkVisibility=function(){var t=this.visible()?"":"none";this.content.style.display=t},n.prototype.setContainer=function(t){if("string"===typeof t){if("."===t.charAt(0)){var e=t.slice(1);t=document.getElementsByClassName(e)[0]}else{var n;n="#"!==t.charAt(0)?t:t.slice(1),t=document.getElementById(n)}if(!t)throw"Can not find container in document with id "+n}return this._setAttr("container",t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this},n.prototype.shouldDrawHit=function(){return!0},n.prototype.clear=function(){var t,e=this.children,n=e.length;for(t=0;t<n;t++)e[t].clear();return this},n.prototype.clone=function(t){return t||(t={}),t.container=document.createElement("div"),o.Container.prototype.clone.call(this,t)},n.prototype.destroy=function(){t.prototype.destroy.call(this);var n=this.content;n&&i.Util._isInDocument(n)&&this.container().removeChild(n);var r=e.stages.indexOf(this);return r>-1&&e.stages.splice(r,1),this},n.prototype.getPointerPosition=function(){var t=this._pointerPositions[0]||this._changedPointerPositions[0];return t?{x:t.x,y:t.y}:(i.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)},n.prototype._getPointerById=function(t){return this._pointerPositions.find((function(e){return e.id===t}))},n.prototype.getPointersPositions=function(){return this._pointerPositions},n.prototype.getStage=function(){return this},n.prototype.getContent=function(){return this.content},n.prototype._toKonvaCanvas=function(t){var e=(t=t||{}).x||0,n=t.y||0,r=new c.SceneCanvas({width:t.width||this.width(),height:t.height||this.height(),pixelRatio:t.pixelRatio||1}),i=r.getContext()._context,a=this.children;return(e||n)&&i.translate(-1*e,-1*n),a.each((function(r){if(r.isVisible()){var a=r._toKonvaCanvas(t);i.drawImage(a._canvas,e,n,a.getWidth()/a.getPixelRatio(),a.getHeight()/a.getPixelRatio())}})),r},n.prototype.getIntersection=function(t,e){if(!t)return null;var n,r,i=this.children;for(n=i.length-1;n>=0;n--)if(r=i[n].getIntersection(t,e))return r;return null},n.prototype._resizeDOM=function(){if(this.content){var t,e,n=this.width(),r=this.height(),i=this.getChildren(),a=i.length;for(this.content.style.width=n+"px",this.content.style.height=r+"px",this.bufferCanvas.setSize(n,r),this.bufferHitCanvas.setSize(n,r),t=0;t<a;t++)(e=i[t]).setSize({width:n,height:r}),e.draw()}},n.prototype.add=function(e){if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}t.prototype.add.call(this,e);var r=this.children.length;return r>5&&i.Util.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e._setCanvasSize(this.width(),this.height()),e.draw(),s.Konva.isBrowser&&this.content.appendChild(e.canvas._canvas),this},n.prototype.getParent=function(){return null},n.prototype.getLayer=function(){return null},n.prototype.hasPointerCapture=function(t){return f.hasPointerCapture(t,this)},n.prototype.setPointerCapture=function(t){f.setPointerCapture(t,this)},n.prototype.releaseCapture=function(t){f.releaseCapture(t,this)},n.prototype.getLayers=function(){return this.getChildren()},n.prototype._bindContentEvents=function(){if(s.Konva.isBrowser)for(var t=0;t<R;t++)L(this,O[t])},n.prototype._mouseenter=function(t){this.setPointersPositions(t),this._fire(g,{evt:t,target:this,currentTarget:this})},n.prototype._mouseover=function(t){this.setPointersPositions(t),this._fire("contentMouseover",{evt:t}),this._fire(p,{evt:t,target:this,currentTarget:this})},n.prototype._mouseout=function(t){this.setPointersPositions(t);var e=this.targetShape,n=!u.DD.isDragging||s.Konva.hitOnDragEnabled;e&&n?(e._fireAndBubble(h,{evt:t}),e._fireAndBubble(d,{evt:t}),this._fire(d,{evt:t,target:this,currentTarget:this}),this.targetShape=null):n&&(this._fire(d,{evt:t,target:this,currentTarget:this}),this._fire(h,{evt:t,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[],this._fire("contentMouseout",{evt:t})},n.prototype._mousemove=function(t){if(s.Konva.UA.ieMobile)return this._touchmove(t);this.setPointersPositions(t);var e,n=i.Util._getFirstPointerId(t),r=!u.DD.isDragging||s.Konva.hitOnDragEnabled;if(r){if((e=this.getIntersection(this.getPointerPosition()))&&e.isListening()){var a=!this.targetShape||this.targetShape!==e;r&&a?(this.targetShape&&(this.targetShape._fireAndBubble(h,{evt:t,pointerId:n},e),this.targetShape._fireAndBubble(d,{evt:t,pointerId:n},e)),e._fireAndBubble(p,{evt:t,pointerId:n},this.targetShape),e._fireAndBubble(g,{evt:t,pointerId:n},this.targetShape),e._fireAndBubble(y,{evt:t,pointerId:n}),this.targetShape=e):e._fireAndBubble(y,{evt:t,pointerId:n})}else this.targetShape&&r&&(this.targetShape._fireAndBubble(h,{evt:t,pointerId:n}),this.targetShape._fireAndBubble(d,{evt:t,pointerId:n}),this._fire(p,{evt:t,target:this,currentTarget:this,pointerId:n}),this.targetShape=null),this._fire(y,{evt:t,target:this,currentTarget:this,pointerId:n});this._fire("contentMousemove",{evt:t})}t.cancelable&&t.preventDefault()},n.prototype._mousedown=function(t){if(s.Konva.UA.ieMobile)return this._touchstart(t);this.setPointersPositions(t);var e=i.Util._getFirstPointerId(t),n=this.getIntersection(this.getPointerPosition());u.DD.justDragged=!1,s.Konva.listenClickTap=!0,n&&n.isListening()?(this.clickStartShape=n,n._fireAndBubble(v,{evt:t,pointerId:e})):this._fire(v,{evt:t,target:this,currentTarget:this,pointerId:e}),this._fire("contentMousedown",{evt:t})},n.prototype._mouseup=function(t){if(s.Konva.UA.ieMobile)return this._touchend(t);this.setPointersPositions(t);var e=i.Util._getFirstPointerId(t),n=this.getIntersection(this.getPointerPosition()),r=this.clickStartShape,a=this.clickEndShape,o=!1;s.Konva.inDblClickWindow?(o=!0,clearTimeout(this.dblTimeout)):u.DD.justDragged||(s.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout((function(){s.Konva.inDblClickWindow=!1}),s.Konva.dblClickWindow),n&&n.isListening()?(this.clickEndShape=n,n._fireAndBubble(m,{evt:t,pointerId:e}),s.Konva.listenClickTap&&r&&r._id===n._id&&(n._fireAndBubble(k,{evt:t,pointerId:e}),o&&a&&a===n&&n._fireAndBubble(C,{evt:t,pointerId:e}))):(this._fire(m,{evt:t,target:this,currentTarget:this,pointerId:e}),s.Konva.listenClickTap&&this._fire(k,{evt:t,target:this,currentTarget:this,pointerId:e}),o&&this._fire(C,{evt:t,target:this,currentTarget:this,pointerId:e})),this._fire("contentMouseup",{evt:t}),s.Konva.listenClickTap&&(this._fire("contentClick",{evt:t}),o&&this._fire("contentDblclick",{evt:t})),s.Konva.listenClickTap=!1,t.cancelable&&t.preventDefault()},n.prototype._contextmenu=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(x,{evt:t}):this._fire(x,{evt:t,target:this,currentTarget:this}),this._fire("contentContextmenu",{evt:t})},n.prototype._touchstart=function(t){var e=this;this.setPointersPositions(t);var n=!1;this._changedPointerPositions.forEach((function(r){var i=e.getIntersection(r);s.Konva.listenClickTap=!0,u.DD.justDragged=!1,i&&i.isListening()&&(s.Konva.captureTouchEventsEnabled&&i.setPointerCapture(r.id),e.tapStartShape=i,i._fireAndBubble(E,{evt:t,pointerId:r.id},e),n=!0,i.isListening()&&i.preventDefault()&&t.cancelable&&t.preventDefault())})),n||this._fire(E,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchstart",{evt:t})},n.prototype._touchmove=function(t){var e=this;if(this.setPointersPositions(t),!u.DD.isDragging||s.Konva.hitOnDragEnabled){var n=!1,r={};this._changedPointerPositions.forEach((function(i){var a=f.getCapturedShape(i.id)||e.getIntersection(i);a&&a.isListening()&&(r[a._id]||(r[a._id]=!0,a._fireAndBubble(T,{evt:t,pointerId:i.id}),n=!0,a.isListening()&&a.preventDefault()&&t.cancelable&&t.preventDefault()))})),n||this._fire(T,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchmove",{evt:t})}u.DD.isDragging&&u.DD.node.preventDefault()&&t.cancelable&&t.preventDefault()},n.prototype._touchend=function(t){var e=this;this.setPointersPositions(t);var n=this.clickEndShape,r=!1;s.Konva.inDblClickWindow?(r=!0,clearTimeout(this.dblTimeout)):u.DD.justDragged||(s.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout((function(){s.Konva.inDblClickWindow=!1}),s.Konva.dblClickWindow);var i=!1,a={},o=!1,c=!1;this._changedPointerPositions.forEach((function(u){var l=f.getCapturedShape(u.id)||e.getIntersection(u);l&&l.releaseCapture(u.id),l&&l.isListening()&&(a[l._id]||(a[l._id]=!0,e.clickEndShape=l,l._fireAndBubble(A,{evt:t,pointerId:u.id}),i=!0,s.Konva.listenClickTap&&l===e.tapStartShape&&(o=!0,l._fireAndBubble("tap",{evt:t,pointerId:u.id}),r&&n&&n===l&&(c=!0,l._fireAndBubble(S,{evt:t,pointerId:u.id}))),l.isListening()&&l.preventDefault()&&t.cancelable&&t.preventDefault()))})),i||this._fire(A,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),s.Konva.listenClickTap&&!o&&this._fire("tap",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),r&&!c&&this._fire(S,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchend",{evt:t}),s.Konva.listenClickTap&&(this._fire("contentTap",{evt:t}),r&&this._fire("contentDbltap",{evt:t})),s.Konva.listenClickTap=!1},n.prototype._wheel=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(P,{evt:t}):this._fire(P,{evt:t,target:this,currentTarget:this}),this._fire("contentWheel",{evt:t})},n.prototype._pointerdown=function(t){if(s.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=f.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(b,f.createEvent(t))}},n.prototype._pointermove=function(t){if(s.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=f.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(_,f.createEvent(t))}},n.prototype._pointerup=function(t){if(s.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=f.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(w,f.createEvent(t)),f.releaseCapture(t.pointerId)}},n.prototype._pointercancel=function(t){if(s.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=f.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(w,f.createEvent(t)),f.releaseCapture(t.pointerId)}},n.prototype._lostpointercapture=function(t){f.releaseCapture(t.pointerId)},n.prototype.setPointersPositions=function(t){var e=this,n=this._getContentPosition(),r=null,a=null;void 0!==(t=t||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],i.Collection.prototype.each.call(t.touches,(function(t){e._pointerPositions.push({id:t.identifier,x:(t.clientX-n.left)/n.scaleX,y:(t.clientY-n.top)/n.scaleY})})),i.Collection.prototype.each.call(t.changedTouches||t.touches,(function(t){e._changedPointerPositions.push({id:t.identifier,x:(t.clientX-n.left)/n.scaleX,y:(t.clientY-n.top)/n.scaleY})}))):(r=(t.clientX-n.left)/n.scaleX,a=(t.clientY-n.top)/n.scaleY,this.pointerPos={x:r,y:a},this._pointerPositions=[{x:r,y:a,id:i.Util._getFirstPointerId(t)}],this._changedPointerPositions=[{x:r,y:a,id:i.Util._getFirstPointerId(t)}])},n.prototype._setPointerPosition=function(t){i.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)},n.prototype._getContentPosition=function(){var t=this.content.getBoundingClientRect?this.content.getBoundingClientRect():{top:0,left:0,width:1e3,height:1e3};return{top:t.top,left:t.left,scaleX:t.width/this.content.clientWidth||1,scaleY:t.height/this.content.clientHeight||1}},n.prototype._buildDOM=function(){if(this.bufferCanvas=new c.SceneCanvas,this.bufferHitCanvas=new c.HitCanvas({pixelRatio:1}),s.Konva.isBrowser){var t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}},n.prototype.cache=function(){return i.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this},n.prototype.clearCache=function(){return this},n.prototype.batchDraw=function(){return this.children.each((function(t){t.batchDraw()})),this},n}(o.Container);e.Stage=I,I.prototype.nodeType="Stage",l._registerNode(I),a.Factory.addGetterSetter(I,"container")},7483:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2264),i=n(8660),a=n(2585),o=n(2683),s={node:1,duration:1,easing:1,onFinish:1,yoyo:1},c=0,u=["fill","stroke","shadowColor"],l=function(){function t(t,e,n,r,i,a,o){this.prop=t,this.propFunc=e,this.begin=r,this._pos=r,this.duration=a,this._change=0,this.prevPos=0,this.yoyo=o,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=i-this.begin,this.pause()}return t.prototype.fire=function(t){var e=this[t];e&&e()},t.prototype.setTime=function(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())},t.prototype.getTime=function(){return this._time},t.prototype.setPosition=function(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t},t.prototype.getPosition=function(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)},t.prototype.play=function(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},t.prototype.reverse=function(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},t.prototype.seek=function(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")},t.prototype.reset=function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},t.prototype.finish=function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},t.prototype.update=function(){this.setPosition(this.getPosition(this._time))},t.prototype.onEnterFrame=function(){var t=this.getTimer()-this._startTime;2===this.state?this.setTime(t):3===this.state&&this.setTime(this.duration-t)},t.prototype.pause=function(){this.state=1,this.fire("onPause")},t.prototype.getTimer=function(){return(new Date).getTime()},t}(),f=function(){function t(n){var a,u,f=this,h=n.node,d=h._id,p=n.easing||e.Easings.Linear,g=!!n.yoyo;a="undefined"===typeof n.duration?.3:0===n.duration?.001:n.duration,this.node=h,this._id=c++;var y=h.getLayer()||(h instanceof o.Konva.Stage?h.getLayers():null);for(u in y||r.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new i.Animation((function(){f.tween.onEnterFrame()}),y),this.tween=new l(u,(function(t){f._tweenFunc(t)}),p,0,1,1e3*a,g),this._addListeners(),t.attrs[d]||(t.attrs[d]={}),t.attrs[d][this._id]||(t.attrs[d][this._id]={}),t.tweens[d]||(t.tweens[d]={}),n)void 0===s[u]&&this._addAttr(u,n[u]);this.reset(),this.onFinish=n.onFinish,this.onReset=n.onReset}return t.prototype._addAttr=function(e,n){var i,a,o,s,c,l,f,h,d=this.node,p=d._id;if((o=t.tweens[p][e])&&delete t.attrs[p][o][e],i=d.getAttr(e),r.Util._isArray(n))if(a=[],c=Math.max(n.length,i.length),"points"===e&&n.length!==i.length&&(n.length>i.length?(f=i,i=r.Util._prepareArrayForTween(i,n,d.closed())):(l=n,n=r.Util._prepareArrayForTween(n,i,d.closed()))),0===e.indexOf("fill"))for(s=0;s<c;s++)if(s%2===0)a.push(n[s]-i[s]);else{var g=r.Util.colorToRGBA(i[s]);h=r.Util.colorToRGBA(n[s]),i[s]=g,a.push({r:h.r-g.r,g:h.g-g.g,b:h.b-g.b,a:h.a-g.a})}else for(s=0;s<c;s++)a.push(n[s]-i[s]);else-1!==u.indexOf(e)?(i=r.Util.colorToRGBA(i),a={r:(h=r.Util.colorToRGBA(n)).r-i.r,g:h.g-i.g,b:h.b-i.b,a:h.a-i.a}):a=n-i;t.attrs[p][this._id][e]={start:i,diff:a,end:n,trueEnd:l,trueStart:f},t.tweens[p][e]=this._id},t.prototype._tweenFunc=function(e){var n,i,a,o,s,c,l,f,h=this.node,d=t.attrs[h._id][this._id];for(n in d){if(a=(i=d[n]).start,o=i.diff,f=i.end,r.Util._isArray(a))if(s=[],l=Math.max(a.length,f.length),0===n.indexOf("fill"))for(c=0;c<l;c++)c%2===0?s.push((a[c]||0)+o[c]*e):s.push("rgba("+Math.round(a[c].r+o[c].r*e)+","+Math.round(a[c].g+o[c].g*e)+","+Math.round(a[c].b+o[c].b*e)+","+(a[c].a+o[c].a*e)+")");else for(c=0;c<l;c++)s.push((a[c]||0)+o[c]*e);else s=-1!==u.indexOf(n)?"rgba("+Math.round(a.r+o.r*e)+","+Math.round(a.g+o.g*e)+","+Math.round(a.b+o.b*e)+","+(a.a+o.a*e)+")":a+o*e;h.setAttr(n,s)}},t.prototype._addListeners=function(){var e=this;this.tween.onPlay=function(){e.anim.start()},this.tween.onReverse=function(){e.anim.start()},this.tween.onPause=function(){e.anim.stop()},this.tween.onFinish=function(){var n=e.node,r=t.attrs[n._id][e._id];r.points&&r.points.trueEnd&&n.setAttr("points",r.points.trueEnd),e.onFinish&&e.onFinish.call(e)},this.tween.onReset=function(){var n=e.node,r=t.attrs[n._id][e._id];r.points&&r.points.trueStart&&n.points(r.points.trueStart),e.onReset&&e.onReset()}},t.prototype.play=function(){return this.tween.play(),this},t.prototype.reverse=function(){return this.tween.reverse(),this},t.prototype.reset=function(){return this.tween.reset(),this},t.prototype.seek=function(t){return this.tween.seek(1e3*t),this},t.prototype.pause=function(){return this.tween.pause(),this},t.prototype.finish=function(){return this.tween.finish(),this},t.prototype.destroy=function(){var e,n=this.node._id,r=this._id,i=t.tweens[n];for(e in this.pause(),i)delete t.tweens[n][e];delete t.attrs[n][r]},t.attrs={},t.tweens={},t}();e.Tween=f,a.Node.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new f(t).play()},e.Easings={BackEaseIn:function(t,e,n,r){var i=1.70158;return n*(t/=r)*t*((i+1)*t-i)+e},BackEaseOut:function(t,e,n,r){var i=1.70158;return n*((t=t/r-1)*t*((i+1)*t+i)+1)+e},BackEaseInOut:function(t,e,n,r){var i=1.70158;return(t/=r/2)<1?n/2*(t*t*((1+(i*=1.525))*t-i))+e:n/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},ElasticEaseIn:function(t,e,n,r,i,a){var o=0;return 0===t?e:1===(t/=r)?e+n:(a||(a=.3*r),!i||i<Math.abs(n)?(i=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/a)+e)},ElasticEaseOut:function(t,e,n,r,i,a){var o=0;return 0===t?e:1===(t/=r)?e+n:(a||(a=.3*r),!i||i<Math.abs(n)?(i=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*r-o)*(2*Math.PI)/a)+n+e)},ElasticEaseInOut:function(t,e,n,r,i,a){var o=0;return 0===t?e:2===(t/=r/2)?e+n:(a||(a=r*(.3*1.5)),!i||i<Math.abs(n)?(i=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/a)*-.5+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/a)*.5+n+e)},BounceEaseOut:function(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn:function(t,n,r,i){return r-e.Easings.BounceEaseOut(i-t,0,r,i)+n},BounceEaseInOut:function(t,n,r,i){return t<i/2?.5*e.Easings.BounceEaseIn(2*t,0,r,i)+n:.5*e.Easings.BounceEaseOut(2*t-i,0,r,i)+.5*r+n},EaseIn:function(t,e,n,r){return n*(t/=r)*t+e},EaseOut:function(t,e,n,r){return-n*(t/=r)*(t-2)+e},EaseInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn:function(t,e,n,r){return n*(t/=r)*t*t*t*t+e},StrongEaseOut:function(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},StrongEaseInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear:function(t,e,n,r){return n*t/r+e}}},2264:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2683),i=function(){function t(){}return t.toCollection=function(e){var n,r=new t,i=e.length;for(n=0;n<i;n++)r.push(e[n]);return r},t._mapMethod=function(e){t.prototype[e]=function(){var t,n=this.length,r=[].slice.call(arguments);for(t=0;t<n;t++)this[t][e].apply(this[t],r);return this}},t.mapMethods=function(e){var n=e.prototype;for(var r in n)t._mapMethod(r)},t}();e.Collection=i,i.prototype=[],i.prototype.each=function(t){for(var e=0;e<this.length;e++)t(this[e],e)},i.prototype.toArray=function(){var t,e=[],n=this.length;for(t=0;t<n;t++)e.push(this[t]);return e};var a=function(){function t(t){void 0===t&&(t=[1,0,0,1,0,0]),this.m=t&&t.slice()||[1,0,0,1,0,0]}return t.prototype.copy=function(){return new t(this.m)},t.prototype.point=function(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}},t.prototype.translate=function(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this},t.prototype.scale=function(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this.m[0]*e+this.m[2]*n,i=this.m[1]*e+this.m[3]*n,a=this.m[0]*-n+this.m[2]*e,o=this.m[1]*-n+this.m[3]*e;return this.m[0]=r,this.m[1]=i,this.m[2]=a,this.m[3]=o,this},t.prototype.getTranslation=function(){return{x:this.m[4],y:this.m[5]}},t.prototype.skew=function(t,e){var n=this.m[0]+this.m[2]*e,r=this.m[1]+this.m[3]*e,i=this.m[2]+this.m[0]*t,a=this.m[3]+this.m[1]*t;return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=a,this},t.prototype.multiply=function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],n=this.m[1]*t.m[0]+this.m[3]*t.m[1],r=this.m[0]*t.m[2]+this.m[2]*t.m[3],i=this.m[1]*t.m[2]+this.m[3]*t.m[3],a=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],o=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=a,this.m[5]=o,this},t.prototype.invert=function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,n=-this.m[1]*t,r=-this.m[2]*t,i=this.m[0]*t,a=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),o=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=a,this.m[5]=o,this},t.prototype.getMatrix=function(){return this.m},t.prototype.setAbsolutePosition=function(t,e){var n=this.m[0],r=this.m[1],i=this.m[2],a=this.m[3],o=this.m[4],s=(n*(e-this.m[5])-r*(t-o))/(n*a-r*i),c=(t-o-i*s)/n;return this.translate(c,s)},t}();e.Transform=a;var o=Math.PI/180,s=180/Math.PI,c="Konva error: ",u={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},l=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,f=[];e.Util={_isElement:function(t){return!(!t||1!=t.nodeType)},_isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject:function(t){return!!t&&t.constructor===Object},_isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},_isNumber:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&!isNaN(t)&&isFinite(t)},_isString:function(t){return"[object String]"===Object.prototype.toString.call(t)},_isBoolean:function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},isObject:function(t){return t instanceof Object},isValidSelector:function(t){if("string"!==typeof t)return!1;var e=t[0];return"#"===e||"."===e||e===e.toUpperCase()},_sign:function(t){return 0===t?0:t>0?1:-1},requestAnimFrame:function(t){f.push(t),1===f.length&&requestAnimationFrame((function(){var t=f;f=[],t.forEach((function(t){t()}))}))},createCanvasElement:function(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch(e){}return t},createImageElement:function(){return document.createElement("img")},_isInDocument:function(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_simplifyArray:function(t){var n,r,i=[],a=t.length,o=e.Util;for(n=0;n<a;n++)r=t[n],o._isNumber(r)?r=Math.round(1e3*r)/1e3:o._isString(r)||(r=r.toString()),i.push(r);return i},_urlToImage:function(t,e){var n=new r.glob.Image;n.onload=function(){e(n)},n.src=t},_rgbToHex:function(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb:function(t){t=t.replace("#","");var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor:function(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},get:function(t,e){return void 0===t?e:t},getRGB:function(t){var e;return t in u?{r:(e=u[t])[0],g:e[1],b:e[2]}:"#"===t[0]?this._hexToRgb(t.substring(1)):"rgb("===t.substr(0,4)?(e=l.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA:function(t){return t=t||"black",e.Util._namedColorToRBA(t)||e.Util._hex3ColorToRGBA(t)||e.Util._hex6ColorToRGBA(t)||e.Util._rgbColorToRGBA(t)||e.Util._rgbaColorToRGBA(t)||e.Util._hslColorToRGBA(t)},_namedColorToRBA:function(t){var e=u[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA:function(t){if(0===t.indexOf("rgb(")){var e=(t=t.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA:function(t){if(0===t.indexOf("rgba(")){var e=(t=t.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex6ColorToRGBA:function(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex3ColorToRGBA:function(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA:function(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){var e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),n=(e[0],e.slice(1)),r=Number(n[0])/360,i=Number(n[1])/100,a=Number(n[2])/100,o=void 0,s=void 0,c=void 0;if(0===i)return c=255*a,{r:Math.round(c),g:Math.round(c),b:Math.round(c),a:1};for(var u=2*a-(o=a<.5?a*(1+i):a+i-a*i),l=[0,0,0],f=0;f<3;f++)(s=r+1/3*-(f-1))<0&&s++,s>1&&s--,c=6*s<1?u+6*(o-u)*s:2*s<1?o:3*s<2?u+(o-u)*(2/3-s)*6:u,l[f]=255*c;return{r:Math.round(l[0]),g:Math.round(l[1]),b:Math.round(l[2]),a:1}}},haveIntersection:function(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject:function(t){var e={};for(var n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray:function(t){return t.slice(0)},_degToRad:function(t){return t*o},_radToDeg:function(t){return t*s},_capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw:function(t){throw new Error(c+t)},error:function(t){console.error(c+t)},warn:function(t){r.Konva.showWarnings&&console.warn("Konva warning: "+t)},extend:function(t,e){function n(){this.constructor=t}n.prototype=e.prototype;var r=t.prototype;for(var i in t.prototype=new n,r)r.hasOwnProperty(i)&&(t.prototype[i]=r[i]);t.__super__=e.prototype,t.super=e},_getControlPoints:function(t,e,n,r,i,a,o){var s=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),c=Math.sqrt(Math.pow(i-n,2)+Math.pow(a-r,2)),u=o*s/(s+c),l=o*c/(s+c);return[n-u*(i-t),r-u*(a-e),n+l*(i-t),r+l*(a-e)]},_expandPoints:function(t,n){var r,i,a=t.length,o=[];for(r=2;r<a-2;r+=2)i=e.Util._getControlPoints(t[r-2],t[r-1],t[r],t[r+1],t[r+2],t[r+3],n),o.push(i[0]),o.push(i[1]),o.push(t[r]),o.push(t[r+1]),o.push(i[2]),o.push(i[3]);return o},each:function(t,e){for(var n in t)e(n,t[n])},_inRange:function(t,e,n){return e<=t&&t<n},_getProjectionToSegment:function(t,e,n,r,i,a){var o,s,c,u=(t-n)*(t-n)+(e-r)*(e-r);if(0==u)o=t,s=e,c=(i-n)*(i-n)+(a-r)*(a-r);else{var l=((i-t)*(n-t)+(a-e)*(r-e))/u;l<0?(o=t,s=e,c=(t-i)*(t-i)+(e-a)*(e-a)):l>1?(o=n,s=r,c=(n-i)*(n-i)+(r-a)*(r-a)):c=((o=t+l*(n-t))-i)*(o-i)+((s=e+l*(r-e))-a)*(s-a)}return[o,s,c]},_getProjectionToLine:function(t,n,r){var i=e.Util.cloneObject(t),a=Number.MAX_VALUE;return n.forEach((function(o,s){if(r||s!==n.length-1){var c=n[(s+1)%n.length],u=e.Util._getProjectionToSegment(o.x,o.y,c.x,c.y,t.x,t.y),l=u[0],f=u[1],h=u[2];h<a&&(i.x=l,i.y=f,a=h)}})),i},_prepareArrayForTween:function(t,n,r){var i,a=[],o=[];if(t.length>n.length){var s=n;n=t,t=s}for(i=0;i<t.length;i+=2)a.push({x:t[i],y:t[i+1]});for(i=0;i<n.length;i+=2)o.push({x:n[i],y:n[i+1]});var c=[];return o.forEach((function(t){var n=e.Util._getProjectionToLine(t,a,r);c.push(n.x),c.push(n.y)})),c},_prepareToStringify:function(t){var n;for(var r in t.visitedByCircularReferenceRemoval=!0,t)if(t.hasOwnProperty(r)&&t[r]&&"object"==typeof t[r])if(n=Object.getOwnPropertyDescriptor(t,r),t[r].visitedByCircularReferenceRemoval||e.Util._isElement(t[r])){if(!n.configurable)return null;delete t[r]}else if(null===e.Util._prepareToStringify(t[r])){if(!n.configurable)return null;delete t[r]}return delete t.visitedByCircularReferenceRemoval,t},_assign:function(t,e){for(var n in e)t[n]=e[n];return t},_getFirstPointerId:function(t){return t.touches?t.changedTouches[0].identifier:999}}},8999:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2683),i=n(2264);function a(t){return i.Util._isString(t)?'"'+t+'"':"[object Number]"===Object.prototype.toString.call(t)||i.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}e.RGBComponent=function(t){return t>255?255:t<0?0:Math.round(t)},e.alphaComponent=function(t){return t>1?1:t<1e-4?1e-4:t},e.getNumberValidator=function(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isNumber(t)||i.Util.warn(a(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}},e.getNumberOrAutoValidator=function(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isNumber(t)||"auto"===t||i.Util.warn(a(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}},e.getStringValidator=function(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isString(t)||i.Util.warn(a(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}},e.getFunctionValidator=function(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isFunction(t)||i.Util.warn(a(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}},e.getNumberArrayValidator=function(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isArray(t)?t.forEach((function(t){i.Util._isNumber(t)||i.Util.warn('"'+e+'" attribute has non numeric element '+t+". Make sure that all elements are numbers.")})):i.Util.warn(a(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.'),t}},e.getBooleanValidator=function(){if(r.Konva.isUnminified)return function(t,e){return!0===t||!1===t||i.Util.warn(a(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}},e.getComponentValidator=function(t){if(r.Konva.isUnminified)return function(e,n){return i.Util.isObject(e)||i.Util.warn(a(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}},518:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2683),i=n(2264),a=n(2585),o=n(3890),s=n(7580),c=n(115),u=n(5573),l=n(7675),f=n(184),h=n(9132),d=n(8660),p=n(7483),g=n(3110),y=n(6689);e.Konva=i.Util._assign(r.Konva,{Collection:i.Collection,Util:i.Util,Transform:i.Transform,Node:a.Node,ids:a.ids,names:a.names,Container:o.Container,Stage:s.Stage,stages:s.stages,Layer:c.Layer,FastLayer:u.FastLayer,Group:l.Group,DD:f.DD,Shape:h.Shape,shapes:h.shapes,Animation:d.Animation,Tween:p.Tween,Easings:p.Easings,Context:g.Context,Canvas:y.Canvas})},805:function(t,e,n){"use strict";var r=n(518),i=n(2012),a=n(2830),o=n(2259),s=n(4321),c=n(6487),u=n(9962),l=n(1384),f=n(5355),h=n(8240),d=n(9237),p=n(1623),g=n(462),y=n(9954),v=n(5215),m=n(9667),_=n(9382),b=n(8861),w=n(7406),x=n(5068),k=n(6010),C=n(1463),E=n(7266),A=n(5776),S=n(2794),T=n(1499),P=n(7099),O=n(3905),R=n(3753),L=n(8447),M=n(4652),I=n(9224),D=n(7116),N=n(1027),F=n(1686),j=n(8958),W=n(7121);e.S=r.Konva.Util._assign(r.Konva,{Arc:i.Arc,Arrow:a.Arrow,Circle:o.Circle,Ellipse:s.Ellipse,Image:c.Image,Label:u.Label,Tag:u.Tag,Line:l.Line,Path:f.Path,Rect:h.Rect,RegularPolygon:d.RegularPolygon,Ring:p.Ring,Sprite:g.Sprite,Star:y.Star,Text:v.Text,TextPath:m.TextPath,Transformer:_.Transformer,Wedge:b.Wedge,Filters:{Blur:w.Blur,Brighten:x.Brighten,Contrast:k.Contrast,Emboss:C.Emboss,Enhance:E.Enhance,Grayscale:A.Grayscale,HSL:S.HSL,HSV:T.HSV,Invert:P.Invert,Kaleidoscope:O.Kaleidoscope,Mask:R.Mask,Noise:L.Noise,Pixelate:M.Pixelate,Posterize:I.Posterize,RGB:D.RGB,RGBA:N.RGBA,Sepia:F.Sepia,Solarize:j.Solarize,Threshold:W.Threshold}})},7406:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6534),i=n(2585),a=n(8999);function o(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var s=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],c=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];e.Blur=function(t){var e=Math.round(this.blurRadius());e>0&&function(t,e){var n,r,i,a,u,l,f,h,d,p,g,y,v,m,_,b,w,x,k,C,E,A,S,T,P=t.data,O=t.width,R=t.height,L=e+e+1,M=O-1,I=R-1,D=e+1,N=D*(D+1)/2,F=new o,j=null,W=F,G=null,z=null,U=s[e],B=c[e];for(i=1;i<L;i++)W=W.next=new o,i===D&&(j=W);for(W.next=F,f=l=0,r=0;r<R;r++){for(b=w=x=k=h=d=p=g=0,y=D*(C=P[l]),v=D*(E=P[l+1]),m=D*(A=P[l+2]),_=D*(S=P[l+3]),h+=N*C,d+=N*E,p+=N*A,g+=N*S,W=F,i=0;i<D;i++)W.r=C,W.g=E,W.b=A,W.a=S,W=W.next;for(i=1;i<D;i++)a=l+((M<i?M:i)<<2),h+=(W.r=C=P[a])*(T=D-i),d+=(W.g=E=P[a+1])*T,p+=(W.b=A=P[a+2])*T,g+=(W.a=S=P[a+3])*T,b+=C,w+=E,x+=A,k+=S,W=W.next;for(G=F,z=j,n=0;n<O;n++)P[l+3]=S=g*U>>B,0!==S?(S=255/S,P[l]=(h*U>>B)*S,P[l+1]=(d*U>>B)*S,P[l+2]=(p*U>>B)*S):P[l]=P[l+1]=P[l+2]=0,h-=y,d-=v,p-=m,g-=_,y-=G.r,v-=G.g,m-=G.b,_-=G.a,a=f+((a=n+e+1)<M?a:M)<<2,h+=b+=G.r=P[a],d+=w+=G.g=P[a+1],p+=x+=G.b=P[a+2],g+=k+=G.a=P[a+3],G=G.next,y+=C=z.r,v+=E=z.g,m+=A=z.b,_+=S=z.a,b-=C,w-=E,x-=A,k-=S,z=z.next,l+=4;f+=O}for(n=0;n<O;n++){for(w=x=k=b=d=p=g=h=0,y=D*(C=P[l=n<<2]),v=D*(E=P[l+1]),m=D*(A=P[l+2]),_=D*(S=P[l+3]),h+=N*C,d+=N*E,p+=N*A,g+=N*S,W=F,i=0;i<D;i++)W.r=C,W.g=E,W.b=A,W.a=S,W=W.next;for(u=O,i=1;i<=e;i++)l=u+n<<2,h+=(W.r=C=P[l])*(T=D-i),d+=(W.g=E=P[l+1])*T,p+=(W.b=A=P[l+2])*T,g+=(W.a=S=P[l+3])*T,b+=C,w+=E,x+=A,k+=S,W=W.next,i<I&&(u+=O);for(l=n,G=F,z=j,r=0;r<R;r++)P[3+(a=l<<2)]=S=g*U>>B,S>0?(S=255/S,P[a]=(h*U>>B)*S,P[a+1]=(d*U>>B)*S,P[a+2]=(p*U>>B)*S):P[a]=P[a+1]=P[a+2]=0,h-=y,d-=v,p-=m,g-=_,y-=G.r,v-=G.g,m-=G.b,_-=G.a,a=n+((a=r+D)<I?a:I)*O<<2,h+=b+=G.r=P[a],d+=w+=G.g=P[a+1],p+=x+=G.b=P[a+2],g+=k+=G.a=P[a+3],G=G.next,y+=C=z.r,v+=E=z.g,m+=A=z.b,_+=S=z.a,b-=C,w-=E,x-=A,k-=S,z=z.next,l+=O}}(t,e)},r.Factory.addGetterSetter(i.Node,"blurRadius",0,a.getNumberValidator(),r.Factory.afterSetFilter)},5068:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6534),i=n(2585),a=n(8999);e.Brighten=function(t){var e,n=255*this.brightness(),r=t.data,i=r.length;for(e=0;e<i;e+=4)r[e]+=n,r[e+1]+=n,r[e+2]+=n},r.Factory.addGetterSetter(i.Node,"brightness",0,a.getNumberValidator(),r.Factory.afterSetFilter)},6010:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6534),i=n(2585),a=n(8999);e.Contrast=function(t){var e,n=Math.pow((this.contrast()+100)/100,2),r=t.data,i=r.length,a=150,o=150,s=150;for(e=0;e<i;e+=4)a=r[e],o=r[e+1],s=r[e+2],a/=255,a-=.5,a*=n,a+=.5,o/=255,o-=.5,o*=n,o+=.5,s/=255,s-=.5,s*=n,s+=.5,a=(a*=255)<0?0:a>255?255:a,o=(o*=255)<0?0:o>255?255:o,s=(s*=255)<0?0:s>255?255:s,r[e]=a,r[e+1]=o,r[e+2]=s},r.Factory.addGetterSetter(i.Node,"contrast",0,a.getNumberValidator(),r.Factory.afterSetFilter)},1463:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6534),i=n(2585),a=n(2264),o=n(8999);e.Emboss=function(t){var e=10*this.embossStrength(),n=255*this.embossWhiteLevel(),r=this.embossDirection(),i=this.embossBlend(),o=0,s=0,c=t.data,u=t.width,l=t.height,f=4*u,h=l;switch(r){case"top-left":o=-1,s=-1;break;case"top":o=-1,s=0;break;case"top-right":o=-1,s=1;break;case"right":o=0,s=1;break;case"bottom-right":o=1,s=1;break;case"bottom":o=1,s=0;break;case"bottom-left":o=1,s=-1;break;case"left":o=0,s=-1;break;default:a.Util.error("Unknown emboss direction: "+r)}do{var d=(h-1)*f,p=o;h+p<1&&(p=0),h+p>l&&(p=0);var g=(h-1+p)*u*4,y=u;do{var v=d+4*(y-1),m=s;y+m<1&&(m=0),y+m>u&&(m=0);var _=g+4*(y-1+m),b=c[v]-c[_],w=c[v+1]-c[_+1],x=c[v+2]-c[_+2],k=b,C=k>0?k:-k;if((w>0?w:-w)>C&&(k=w),(x>0?x:-x)>C&&(k=x),k*=e,i){var E=c[v]+k,A=c[v+1]+k,S=c[v+2]+k;c[v]=E>255?255:E<0?0:E,c[v+1]=A>255?255:A<0?0:A,c[v+2]=S>255?255:S<0?0:S}else{var T=n-k;T<0?T=0:T>255&&(T=255),c[v]=c[v+1]=c[v+2]=T}}while(--y)}while(--h)},r.Factory.addGetterSetter(i.Node,"embossStrength",.5,o.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"embossWhiteLevel",.5,o.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"embossDirection","top-left",null,r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"embossBlend",!1,null,r.Factory.afterSetFilter)},7266:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6534),i=n(2585),a=n(8999);function o(t,e,n,r,i){var a=n-e,o=i-r;return 0===a?r+o/2:0===o?r:o*((t-e)/a)+r}e.Enhance=function(t){var e,n,r,i,a=t.data,s=a.length,c=a[0],u=c,l=a[1],f=l,h=a[2],d=h,p=this.enhance();if(0!==p){for(i=0;i<s;i+=4)(e=a[i+0])<c?c=e:e>u&&(u=e),(n=a[i+1])<l?l=n:n>f&&(f=n),(r=a[i+2])<h?h=r:r>d&&(d=r);var g,y,v,m,_,b,w,x,k;for(u===c&&(u=255,c=0),f===l&&(f=255,l=0),d===h&&(d=255,h=0),p>0?(y=u+p*(255-u),v=c-p*(c-0),_=f+p*(255-f),b=l-p*(l-0),x=d+p*(255-d),k=h-p*(h-0)):(y=u+p*(u-(g=.5*(u+c))),v=c+p*(c-g),_=f+p*(f-(m=.5*(f+l))),b=l+p*(l-m),x=d+p*(d-(w=.5*(d+h))),k=h+p*(h-w)),i=0;i<s;i+=4)a[i+0]=o(a[i+0],c,u,v,y),a[i+1]=o(a[i+1],l,f,b,_),a[i+2]=o(a[i+2],h,d,k,x)}},r.Factory.addGetterSetter(i.Node,"enhance",0,a.getNumberValidator(),r.Factory.afterSetFilter)},5776:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Grayscale=function(t){var e,n,r=t.data,i=r.length;for(e=0;e<i;e+=4)n=.34*r[e]+.5*r[e+1]+.16*r[e+2],r[e]=n,r[e+1]=n,r[e+2]=n}},2794:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6534),i=n(2585),a=n(8999);r.Factory.addGetterSetter(i.Node,"hue",0,a.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"saturation",0,a.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"luminance",0,a.getNumberValidator(),r.Factory.afterSetFilter),e.HSL=function(t){var e,n,r,i,a,o=t.data,s=o.length,c=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,l=127*this.luminance(),f=1*c*Math.cos(u*Math.PI/180),h=1*c*Math.sin(u*Math.PI/180),d=.299+.701*f+.167*h,p=.587-.587*f+.33*h,g=.114-.114*f-.497*h,y=.299-.299*f-.328*h,v=.587+.413*f+.035*h,m=.114-.114*f+.293*h,_=.299-.3*f+1.25*h,b=.587-.586*f-1.05*h,w=.114+.886*f-.2*h;for(e=0;e<s;e+=4)n=o[e+0],r=o[e+1],i=o[e+2],a=o[e+3],o[e+0]=d*n+p*r+g*i+l,o[e+1]=y*n+v*r+m*i+l,o[e+2]=_*n+b*r+w*i+l,o[e+3]=a}},1499:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6534),i=n(2585),a=n(8999);e.HSV=function(t){var e,n,r,i,a,o=t.data,s=o.length,c=Math.pow(2,this.value()),u=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,f=c*u*Math.cos(l*Math.PI/180),h=c*u*Math.sin(l*Math.PI/180),d=.299*c+.701*f+.167*h,p=.587*c-.587*f+.33*h,g=.114*c-.114*f-.497*h,y=.299*c-.299*f-.328*h,v=.587*c+.413*f+.035*h,m=.114*c-.114*f+.293*h,_=.299*c-.3*f+1.25*h,b=.587*c-.586*f-1.05*h,w=.114*c+.886*f-.2*h;for(e=0;e<s;e+=4)n=o[e+0],r=o[e+1],i=o[e+2],a=o[e+3],o[e+0]=d*n+p*r+g*i,o[e+1]=y*n+v*r+m*i,o[e+2]=_*n+b*r+w*i,o[e+3]=a},r.Factory.addGetterSetter(i.Node,"hue",0,a.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"saturation",0,a.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"value",0,a.getNumberValidator(),r.Factory.afterSetFilter)},7099:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Invert=function(t){var e,n=t.data,r=n.length;for(e=0;e<r;e+=4)n[e]=255-n[e],n[e+1]=255-n[e+1],n[e+2]=255-n[e+2]}},3905:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6534),i=n(2585),a=n(2264),o=n(8999);e.Kaleidoscope=function(t){var e,n,r,i,o,s,c,u,l,f=t.width,h=t.height,d=Math.round(this.kaleidoscopePower()),p=Math.round(this.kaleidoscopeAngle()),g=Math.floor(f*(p%360)/360);if(!(d<1)){var y=a.Util.createCanvasElement();y.width=f,y.height=h;var v=y.getContext("2d").getImageData(0,0,f,h);!function(t,e,n){var r,i,a,o,s=t.data,c=e.data,u=t.width,l=t.height,f=n.polarCenterX||u/2,h=n.polarCenterY||l/2,d=0,p=0,g=0,y=0,v=Math.sqrt(f*f+h*h);i=u-f,a=l-h,v=(o=Math.sqrt(i*i+a*a))>v?o:v;var m,_,b,w,x=l,k=u,C=360/k*Math.PI/180;for(_=0;_<k;_+=1)for(b=Math.sin(_*C),w=Math.cos(_*C),m=0;m<x;m+=1)i=Math.floor(f+v*m/x*w),d=s[0+(r=4*((a=Math.floor(h+v*m/x*b))*u+i))],p=s[r+1],g=s[r+2],y=s[r+3],c[0+(r=4*(_+m*u))]=d,c[r+1]=p,c[r+2]=g,c[r+3]=y}(t,v,{polarCenterX:f/2,polarCenterY:h/2});for(var m=f/Math.pow(2,d);m<=8;)m*=2,d-=1;var _=m=Math.ceil(m),b=0,w=_,x=1;for(g+m>f&&(b=_,w=0,x=-1),n=0;n<h;n+=1)for(e=b;e!==w;e+=x)u=4*(f*n+Math.round(e+g)%f),i=v.data[u+0],o=v.data[u+1],s=v.data[u+2],c=v.data[u+3],l=4*(f*n+e),v.data[l+0]=i,v.data[l+1]=o,v.data[l+2]=s,v.data[l+3]=c;for(n=0;n<h;n+=1)for(_=Math.floor(m),r=0;r<d;r+=1){for(e=0;e<_+1;e+=1)u=4*(f*n+e),i=v.data[u+0],o=v.data[u+1],s=v.data[u+2],c=v.data[u+3],l=4*(f*n+2*_-e-1),v.data[l+0]=i,v.data[l+1]=o,v.data[l+2]=s,v.data[l+3]=c;_*=2}!function(t,e,n){var r,i,a,o,s,c,u=t.data,l=e.data,f=t.width,h=t.height,d=n.polarCenterX||f/2,p=n.polarCenterY||h/2,g=0,y=0,v=0,m=0,_=Math.sqrt(d*d+p*p);i=f-d,a=h-p,_=(c=Math.sqrt(i*i+a*a))>_?c:_;var b,w,x,k=h,C=f,E=n.polarRotation||0;for(i=0;i<f;i+=1)for(a=0;a<h;a+=1)o=i-d,s=a-p,b=Math.sqrt(o*o+s*s)*k/_,w=(w=(180*Math.atan2(s,o)/Math.PI+360+E)%360)*C/360,x=Math.floor(w),g=u[0+(r=4*(Math.floor(b)*f+x))],y=u[r+1],v=u[r+2],m=u[r+3],l[0+(r=4*(a*f+i))]=g,l[r+1]=y,l[r+2]=v,l[r+3]=m}(v,t,{polarRotation:0})}},r.Factory.addGetterSetter(i.Node,"kaleidoscopePower",2,o.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"kaleidoscopeAngle",0,o.getNumberValidator(),r.Factory.afterSetFilter)},3753:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6534),i=n(2585),a=n(8999);function o(t,e,n){var r=4*(n*t.width+e),i=[];return i.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),i}function s(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}e.Mask=function(t){var e=function(t,e){var n=o(t,0,0),r=o(t,t.width-1,0),i=o(t,0,t.height-1),a=o(t,t.width-1,t.height-1),c=e||10;if(s(n,r)<c&&s(r,a)<c&&s(a,i)<c&&s(i,n)<c){for(var u=function(t){for(var e=[0,0,0],n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}([r,n,a,i]),l=[],f=0;f<t.width*t.height;f++){var h=s(u,[t.data[4*f],t.data[4*f+1],t.data[4*f+2]]);l[f]=h<c?0:255}return l}}(t,this.threshold());return e&&function(t,e){for(var n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}(t,e=function(t,e,n){for(var r=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],i=Math.round(Math.sqrt(r.length)),a=Math.floor(i/2),o=[],s=0;s<n;s++)for(var c=0;c<e;c++){for(var u=s*e+c,l=0,f=0;f<i;f++)for(var h=0;h<i;h++){var d=s+f-a,p=c+h-a;if(d>=0&&d<n&&p>=0&&p<e){var g=r[f*i+h];l+=t[d*e+p]*g}}o[u]=l}return o}(e=function(t,e,n){for(var r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),a=Math.floor(i/2),o=[],s=0;s<n;s++)for(var c=0;c<e;c++){for(var u=s*e+c,l=0,f=0;f<i;f++)for(var h=0;h<i;h++){var d=s+f-a,p=c+h-a;if(d>=0&&d<n&&p>=0&&p<e){var g=r[f*i+h];l+=t[d*e+p]*g}}o[u]=l>=1020?255:0}return o}(e=function(t,e,n){for(var r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),a=Math.floor(i/2),o=[],s=0;s<n;s++)for(var c=0;c<e;c++){for(var u=s*e+c,l=0,f=0;f<i;f++)for(var h=0;h<i;h++){var d=s+f-a,p=c+h-a;if(d>=0&&d<n&&p>=0&&p<e){var g=r[f*i+h];l+=t[d*e+p]*g}}o[u]=2040===l?255:0}return o}(e,t.width,t.height),t.width,t.height),t.width,t.height)),t},r.Factory.addGetterSetter(i.Node,"threshold",0,a.getNumberValidator(),r.Factory.afterSetFilter)},8447:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6534),i=n(2585),a=n(8999);e.Noise=function(t){var e,n=255*this.noise(),r=t.data,i=r.length,a=n/2;for(e=0;e<i;e+=4)r[e+0]+=a-2*a*Math.random(),r[e+1]+=a-2*a*Math.random(),r[e+2]+=a-2*a*Math.random()},r.Factory.addGetterSetter(i.Node,"noise",.2,a.getNumberValidator(),r.Factory.afterSetFilter)},4652:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6534),i=n(2264),a=n(2585),o=n(8999);e.Pixelate=function(t){var e,n,r,a,o,s,c,u,l,f,h,d,p,g,y=Math.ceil(this.pixelSize()),v=t.width,m=t.height,_=Math.ceil(v/y),b=Math.ceil(m/y),w=t.data;if(y<=0)i.Util.error("pixelSize value can not be <= 0");else for(d=0;d<_;d+=1)for(p=0;p<b;p+=1){for(a=0,o=0,s=0,c=0,l=(u=d*y)+y,h=(f=p*y)+y,g=0,e=u;e<l;e+=1)if(!(e>=v))for(n=f;n<h;n+=1)n>=m||(a+=w[(r=4*(v*n+e))+0],o+=w[r+1],s+=w[r+2],c+=w[r+3],g+=1);for(a/=g,o/=g,s/=g,c/=g,e=u;e<l;e+=1)if(!(e>=v))for(n=f;n<h;n+=1)n>=m||(w[(r=4*(v*n+e))+0]=a,w[r+1]=o,w[r+2]=s,w[r+3]=c)}},r.Factory.addGetterSetter(a.Node,"pixelSize",8,o.getNumberValidator(),r.Factory.afterSetFilter)},9224:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6534),i=n(2585),a=n(8999);e.Posterize=function(t){var e,n=Math.round(254*this.levels())+1,r=t.data,i=r.length,a=255/n;for(e=0;e<i;e+=1)r[e]=Math.floor(r[e]/a)*a},r.Factory.addGetterSetter(i.Node,"levels",.5,a.getNumberValidator(),r.Factory.afterSetFilter)},7116:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6534),i=n(2585),a=n(8999);e.RGB=function(t){var e,n,r=t.data,i=r.length,a=this.red(),o=this.green(),s=this.blue();for(e=0;e<i;e+=4)n=(.34*r[e]+.5*r[e+1]+.16*r[e+2])/255,r[e]=n*a,r[e+1]=n*o,r[e+2]=n*s,r[e+3]=r[e+3]},r.Factory.addGetterSetter(i.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(i.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(i.Node,"blue",0,a.RGBComponent,r.Factory.afterSetFilter)},1027:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6534),i=n(2585),a=n(8999);e.RGBA=function(t){var e,n,r=t.data,i=r.length,a=this.red(),o=this.green(),s=this.blue(),c=this.alpha();for(e=0;e<i;e+=4)n=1-c,r[e]=a*c+r[e]*n,r[e+1]=o*c+r[e+1]*n,r[e+2]=s*c+r[e+2]*n},r.Factory.addGetterSetter(i.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(i.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(i.Node,"blue",0,a.RGBComponent,r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"alpha",1,(function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t}))},1686:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sepia=function(t){var e,n,r,i,a=t.data,o=a.length;for(e=0;e<o;e+=4)n=a[e+0],r=a[e+1],i=a[e+2],a[e+0]=Math.min(255,.393*n+.769*r+.189*i),a[e+1]=Math.min(255,.349*n+.686*r+.168*i),a[e+2]=Math.min(255,.272*n+.534*r+.131*i)}},8958:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Solarize=function(t){var e=t.data,n=t.width,r=4*n,i=t.height;do{var a=(i-1)*r,o=n;do{var s=a+4*(o-1),c=e[s],u=e[s+1],l=e[s+2];c>127&&(c=255-c),u>127&&(u=255-u),l>127&&(l=255-l),e[s]=c,e[s+1]=u,e[s+2]=l}while(--o)}while(--i)}},7121:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6534),i=n(2585),a=n(8999);e.Threshold=function(t){var e,n=255*this.threshold(),r=t.data,i=r.length;for(e=0;e<i;e+=1)r[e]=r[e]<n?0:255},r.Factory.addGetterSetter(i.Node,"threshold",.5,a.getNumberValidator(),r.Factory.afterSetFilter)},118:function(t,e,n){var r=n(805).S;r._injectGlobal(r),e.default=r,t.exports=e.default},2012:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2264),a=n(6534),o=n(9132),s=n(2683),c=n(8999),u=n(2683),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){var e=s.Konva.getAngle(this.angle()),n=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,e,n),t.arc(0,0,this.innerRadius(),e,0,!n),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(o.Shape);e.Arc=l,l.prototype._centroid=!0,l.prototype.className="Arc",l.prototype._attrsAffectingSize=["innerRadius","outerRadius"],u._registerNode(l),a.Factory.addGetterSetter(l,"innerRadius",0,c.getNumberValidator()),a.Factory.addGetterSetter(l,"outerRadius",0,c.getNumberValidator()),a.Factory.addGetterSetter(l,"angle",0,c.getNumberValidator()),a.Factory.addGetterSetter(l,"clockwise",!1,c.getBooleanValidator()),i.Collection.mapMethods(l)},2830:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2264),a=n(6534),o=n(1384),s=n(8999),c=n(2683),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(e){t.prototype._sceneFunc.call(this,e);var n=2*Math.PI,r=this.points(),i=r,a=0!==this.tension()&&r.length>4;a&&(i=this.getTensionPoints());var o,s,c=r.length;a?(o=r[c-2]-(i[i.length-2]+i[i.length-4])/2,s=r[c-1]-(i[i.length-1]+i[i.length-3])/2):(o=r[c-2]-r[c-4],s=r[c-1]-r[c-3]);var u=(Math.atan2(s,o)+n)%n,l=this.pointerLength(),f=this.pointerWidth();e.save(),e.beginPath(),e.translate(r[c-2],r[c-1]),e.rotate(u),e.moveTo(0,0),e.lineTo(-l,f/2),e.lineTo(-l,-f/2),e.closePath(),e.restore(),this.pointerAtBeginning()&&(e.save(),e.translate(r[0],r[1]),a?(o=(i[0]+i[2])/2-r[0],s=(i[1]+i[3])/2-r[1]):(o=r[2]-r[0],s=r[3]-r[1]),e.rotate((Math.atan2(-s,-o)+n)%n),e.moveTo(0,0),e.lineTo(-l,f/2),e.lineTo(-l,-f/2),e.closePath(),e.restore());var h=this.dashEnabled();h&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),h&&(this.attrs.dashEnabled=!0)},e.prototype.getSelfRect=function(){var e=t.prototype.getSelfRect.call(this),n=this.pointerWidth()/2;return{x:e.x-n,y:e.y-n,width:e.width+2*n,height:e.height+2*n}},e}(o.Line);e.Arrow=u,u.prototype.className="Arrow",c._registerNode(u),a.Factory.addGetterSetter(u,"pointerLength",10,s.getNumberValidator()),a.Factory.addGetterSetter(u,"pointerWidth",10,s.getNumberValidator()),a.Factory.addGetterSetter(u,"pointerAtBeginning",!1),i.Collection.mapMethods(u)},2259:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2264),a=n(6534),o=n(9132),s=n(8999),c=n(2683),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.radius(),0,2*Math.PI,!1),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius()!==t/2&&this.radius(t/2)},e.prototype.setHeight=function(t){this.radius()!==t/2&&this.radius(t/2)},e}(o.Shape);e.Circle=u,u.prototype._centroid=!0,u.prototype.className="Circle",u.prototype._attrsAffectingSize=["radius"],c._registerNode(u),a.Factory.addGetterSetter(u,"radius",0,s.getNumberValidator()),i.Collection.mapMethods(u)},4321:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2264),a=n(6534),o=n(9132),s=n(8999),c=n(2683),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){var e=this.radiusX(),n=this.radiusY();t.beginPath(),t.save(),e!==n&&t.scale(1,n/e),t.arc(0,0,e,0,2*Math.PI,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radiusX()},e.prototype.getHeight=function(){return 2*this.radiusY()},e.prototype.setWidth=function(t){this.radiusX(t/2)},e.prototype.setHeight=function(t){this.radiusY(t/2)},e}(o.Shape);e.Ellipse=u,u.prototype.className="Ellipse",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["radiusX","radiusY"],c._registerNode(u),a.Factory.addComponentsGetterSetter(u,"radius",["x","y"]),a.Factory.addGetterSetter(u,"radiusX",0,s.getNumberValidator()),a.Factory.addGetterSetter(u,"radiusY",0,s.getNumberValidator()),i.Collection.mapMethods(u)},6487:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2264),a=n(6534),o=n(9132),s=n(8999),c=n(2683),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._useBufferCanvas=function(){return!(!this.hasShadow()&&1===this.getAbsoluteOpacity()||!this.hasStroke()||!this.getStage())},e.prototype._sceneFunc=function(t){var e,n,r,i=this.width(),a=this.height(),o=this.image();o&&(e=this.cropWidth(),n=this.cropHeight(),r=e&&n?[o,this.cropX(),this.cropY(),e,n,0,0,i,a]:[o,0,0,i,a]),(this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,i,a),t.closePath(),t.fillStrokeShape(this)),o&&t.drawImage.apply(t,r)},e.prototype._hitFunc=function(t){var e=this.width(),n=this.height();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){var t,e=this.image();return null!==(t=this.attrs.width)&&void 0!==t?t:e?e.width:0},e.prototype.getHeight=function(){var t,e=this.image();return null!==(t=this.attrs.height)&&void 0!==t?t:e?e.height:0},e.fromURL=function(t,n){var r=i.Util.createImageElement();r.onload=function(){var t=new e({image:r});n(t)},r.crossOrigin="Anonymous",r.src=t},e}(o.Shape);e.Image=u,u.prototype.className="Image",c._registerNode(u),a.Factory.addGetterSetter(u,"image"),a.Factory.addComponentsGetterSetter(u,"crop",["x","y","width","height"]),a.Factory.addGetterSetter(u,"cropX",0,s.getNumberValidator()),a.Factory.addGetterSetter(u,"cropY",0,s.getNumberValidator()),a.Factory.addGetterSetter(u,"cropWidth",0,s.getNumberValidator()),a.Factory.addGetterSetter(u,"cropHeight",0,s.getNumberValidator()),i.Collection.mapMethods(u)},9962:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2264),a=n(6534),o=n(9132),s=n(7675),c=n(8999),u=n(2683),l=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width"],f="up",h="right",d="down",p="left",g=l.length,y=function(t){function e(e){var n=t.call(this,e)||this;return n.on("add.konva",(function(t){this._addListeners(t.child),this._sync()})),n}return r(e,t),e.prototype.getText=function(){return this.find("Text")[0]},e.prototype.getTag=function(){return this.find("Tag")[0]},e.prototype._addListeners=function(t){var e,n=this,r=function(){n._sync()};for(e=0;e<g;e++)t.on(l[e]+"Change.konva",r)},e.prototype.getWidth=function(){return this.getText().width()},e.prototype.getHeight=function(){return this.getText().height()},e.prototype._sync=function(){var t,e,n,r,i,a,o,s=this.getText(),c=this.getTag();if(s&&c){switch(t=s.width(),e=s.height(),n=c.pointerDirection(),r=c.pointerWidth(),o=c.pointerHeight(),i=0,a=0,n){case f:i=t/2,a=-1*o;break;case h:i=t+r,a=e/2;break;case d:i=t/2,a=e+o;break;case p:i=-1*r,a=e/2}c.setAttrs({x:-1*i,y:-1*a,width:t,height:e}),s.setAttrs({x:-1*i,y:-1*a})}},e}(s.Group);e.Label=y,y.prototype.className="Label",u._registerNode(y),i.Collection.mapMethods(y);var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){var e=this.width(),n=this.height(),r=this.pointerDirection(),i=this.pointerWidth(),a=this.pointerHeight(),o=Math.min(this.cornerRadius(),e/2,n/2);t.beginPath(),o?t.moveTo(o,0):t.moveTo(0,0),r===f&&(t.lineTo((e-i)/2,0),t.lineTo(e/2,-1*a),t.lineTo((e+i)/2,0)),o?(t.lineTo(e-o,0),t.arc(e-o,o,o,3*Math.PI/2,0,!1)):t.lineTo(e,0),r===h&&(t.lineTo(e,(n-a)/2),t.lineTo(e+i,n/2),t.lineTo(e,(n+a)/2)),o?(t.lineTo(e,n-o),t.arc(e-o,n-o,o,0,Math.PI/2,!1)):t.lineTo(e,n),r===d&&(t.lineTo((e+i)/2,n),t.lineTo(e/2,n+a),t.lineTo((e-i)/2,n)),o?(t.lineTo(o,n),t.arc(o,n-o,o,Math.PI/2,Math.PI,!1)):t.lineTo(0,n),r===p&&(t.lineTo(0,(n+a)/2),t.lineTo(-1*i,n/2),t.lineTo(0,(n-a)/2)),o&&(t.lineTo(0,o),t.arc(o,o,o,Math.PI,3*Math.PI/2,!1)),t.closePath(),t.fillStrokeShape(this)},e.prototype.getSelfRect=function(){var t=0,e=0,n=this.pointerWidth(),r=this.pointerHeight(),i=this.pointerDirection(),a=this.width(),o=this.height();return i===f?(e-=r,o+=r):i===d?o+=r:i===p?(t-=1.5*n,a+=n):i===h&&(a+=1.5*n),{x:t,y:e,width:a,height:o}},e}(o.Shape);e.Tag=v,v.prototype.className="Tag",u._registerNode(v),a.Factory.addGetterSetter(v,"pointerDirection","none"),a.Factory.addGetterSetter(v,"pointerWidth",0,c.getNumberValidator()),a.Factory.addGetterSetter(v,"pointerHeight",0,c.getNumberValidator()),a.Factory.addGetterSetter(v,"cornerRadius",0,c.getNumberValidator()),i.Collection.mapMethods(v)},1384:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r};Object.defineProperty(e,"__esModule",{value:!0});var a=n(2264),o=n(6534),s=n(9132),c=n(8999),u=n(2683),l=function(t){function e(e){var n=t.call(this,e)||this;return n.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",(function(){this._clearCache("tensionPoints")})),n}return r(e,t),e.prototype._sceneFunc=function(t){var e,n,r,i=this.points(),a=i.length,o=this.tension(),s=this.closed(),c=this.bezier();if(a){if(t.beginPath(),t.moveTo(i[0],i[1]),0!==o&&a>4){for(n=(e=this.getTensionPoints()).length,r=s?0:4,s||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);r<n-2;)t.bezierCurveTo(e[r++],e[r++],e[r++],e[r++],e[r++],e[r++]);s||t.quadraticCurveTo(e[n-2],e[n-1],i[a-2],i[a-1])}else if(c)for(r=2;r<a;)t.bezierCurveTo(i[r++],i[r++],i[r++],i[r++],i[r++],i[r++]);else for(r=2;r<a;r+=2)t.lineTo(i[r],i[r+1]);s?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}},e.prototype.getTensionPoints=function(){return this._getCache("tensionPoints",this._getTensionPoints)},e.prototype._getTensionPoints=function(){return this.closed()?this._getTensionPointsClosed():a.Util._expandPoints(this.points(),this.tension())},e.prototype._getTensionPointsClosed=function(){var t=this.points(),e=t.length,n=this.tension(),r=a.Util._getControlPoints(t[e-2],t[e-1],t[0],t[1],t[2],t[3],n),i=a.Util._getControlPoints(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],n),o=a.Util._expandPoints(t,n);return[r[2],r[3]].concat(o).concat([i[0],i[1],t[e-2],t[e-1],i[2],i[3],r[0],r[1],t[0],t[1]])},e.prototype.getWidth=function(){return this.getSelfRect().width},e.prototype.getHeight=function(){return this.getSelfRect().height},e.prototype.getSelfRect=function(){var t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};for(var e,n,r=(t=0!==this.tension()?i([t[0],t[1]],this._getTensionPoints(),[t[t.length-2],t[t.length-1]]):this.points())[0],a=t[0],o=t[1],s=t[1],c=0;c<t.length/2;c++)e=t[2*c],n=t[2*c+1],r=Math.min(r,e),a=Math.max(a,e),o=Math.min(o,n),s=Math.max(s,n);return{x:Math.round(r),y:Math.round(o),width:Math.round(a-r),height:Math.round(s-o)}},e}(s.Shape);e.Line=l,l.prototype.className="Line",l.prototype._attrsAffectingSize=["points","bezier","tension"],u._registerNode(l),o.Factory.addGetterSetter(l,"closed",!1),o.Factory.addGetterSetter(l,"bezier",!1),o.Factory.addGetterSetter(l,"tension",0,c.getNumberValidator()),o.Factory.addGetterSetter(l,"points",[],c.getNumberArrayValidator()),a.Collection.mapMethods(l)},5355:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2264),a=n(6534),o=n(9132),s=n(2683),c=function(t){function e(n){var r=t.call(this,n)||this;r.dataArray=[],r.pathLength=0,r.dataArray=e.parsePathData(r.data()),r.pathLength=0;for(var i=0;i<r.dataArray.length;++i)r.pathLength+=r.dataArray[i].pathLength;return r.on("dataChange.konva",(function(){this.dataArray=e.parsePathData(this.data()),this.pathLength=0;for(var t=0;t<this.dataArray.length;++t)this.pathLength+=this.dataArray[t].pathLength})),r}return r(e,t),e.prototype._sceneFunc=function(t){var e=this.dataArray;t.beginPath();for(var n=0;n<e.length;n++){var r=e[n].command,i=e[n].points;switch(r){case"L":t.lineTo(i[0],i[1]);break;case"M":t.moveTo(i[0],i[1]);break;case"C":t.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);break;case"Q":t.quadraticCurveTo(i[0],i[1],i[2],i[3]);break;case"A":var a=i[0],o=i[1],s=i[2],c=i[3],u=i[4],l=i[5],f=i[6],h=i[7],d=s>c?s:c,p=s>c?1:s/c,g=s>c?c/s:1;t.translate(a,o),t.rotate(f),t.scale(p,g),t.arc(0,0,d,u,u+l,1-h),t.scale(1/p,1/g),t.rotate(-f),t.translate(-a,-o);break;case"z":t.closePath()}}t.fillStrokeShape(this)},e.prototype.getSelfRect=function(){var t=[];this.dataArray.forEach((function(n){if("A"===n.command){var r=n.points[4],i=n.points[5],a=n.points[4]+i,o=Math.PI/180;if(Math.abs(r-a)<o&&(o=Math.abs(r-a)),i<0)for(var s=r-o;s>a;s-=o){var c=e.getPointOnEllipticalArc(n.points[0],n.points[1],n.points[2],n.points[3],s,0);t.push(c.x,c.y)}else for(s=r+o;s<a;s+=o){c=e.getPointOnEllipticalArc(n.points[0],n.points[1],n.points[2],n.points[3],s,0);t.push(c.x,c.y)}}else if("C"===n.command)for(s=0;s<=1;s+=.01){c=e.getPointOnCubicBezier(s,n.start.x,n.start.y,n.points[0],n.points[1],n.points[2],n.points[3],n.points[4],n.points[5]);t.push(c.x,c.y)}else t=t.concat(n.points)}));for(var n,r,i=t[0],a=t[0],o=t[1],s=t[1],c=0;c<t.length/2;c++)n=t[2*c],r=t[2*c+1],isNaN(n)||(i=Math.min(i,n),a=Math.max(a,n)),isNaN(r)||(o=Math.min(o,r),s=Math.max(s,r));return{x:Math.round(i),y:Math.round(o),width:Math.round(a-i),height:Math.round(s-o)}},e.prototype.getLength=function(){return this.pathLength},e.prototype.getPointAtLength=function(t){var n,r=0,i=this.dataArray.length;if(!i)return null;for(;r<i&&t>this.dataArray[r].pathLength;)t-=this.dataArray[r].pathLength,++r;if(r===i)return{x:(n=this.dataArray[r-1].points.slice(-2))[0],y:n[1]};if(t<.01)return{x:(n=this.dataArray[r].points.slice(0,2))[0],y:n[1]};var a=this.dataArray[r],o=a.points;switch(a.command){case"L":return e.getPointOnLine(t,a.start.x,a.start.y,o[0],o[1]);case"C":return e.getPointOnCubicBezier(t/a.pathLength,a.start.x,a.start.y,o[0],o[1],o[2],o[3],o[4],o[5]);case"Q":return e.getPointOnQuadraticBezier(t/a.pathLength,a.start.x,a.start.y,o[0],o[1],o[2],o[3]);case"A":var s=o[0],c=o[1],u=o[2],l=o[3],f=o[4],h=o[5],d=o[6];return f+=h*t/a.pathLength,e.getPointOnEllipticalArc(s,c,u,l,f,d)}return null},e.getLineLength=function(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))},e.getPointOnLine=function(t,e,n,r,i,a,o){void 0===a&&(a=e),void 0===o&&(o=n);var s=(i-n)/(r-e+1e-8),c=Math.sqrt(t*t/(1+s*s));r<e&&(c*=-1);var u,l=s*c;if(r===e)u={x:a,y:o+l};else if((o-n)/(a-e+1e-8)===s)u={x:a+c,y:o+l};else{var f,h,d=this.getLineLength(e,n,r,i);if(d<1e-8)return;var p=(a-e)*(r-e)+(o-n)*(i-n);f=e+(p/=d*d)*(r-e),h=n+p*(i-n);var g=this.getLineLength(a,o,f,h),y=Math.sqrt(t*t-g*g);c=Math.sqrt(y*y/(1+s*s)),r<e&&(c*=-1),u={x:f+c,y:h+(l=s*c)}}return u},e.getPointOnCubicBezier=function(t,e,n,r,i,a,o,s,c){function u(t){return t*t*t}function l(t){return 3*t*t*(1-t)}function f(t){return 3*t*(1-t)*(1-t)}function h(t){return(1-t)*(1-t)*(1-t)}return{x:s*u(t)+a*l(t)+r*f(t)+e*h(t),y:c*u(t)+o*l(t)+i*f(t)+n*h(t)}},e.getPointOnQuadraticBezier=function(t,e,n,r,i,a,o){function s(t){return t*t}function c(t){return 2*t*(1-t)}function u(t){return(1-t)*(1-t)}return{x:a*s(t)+r*c(t)+e*u(t),y:o*s(t)+i*c(t)+n*u(t)}},e.getPointOnEllipticalArc=function(t,e,n,r,i,a){var o=Math.cos(a),s=Math.sin(a),c=n*Math.cos(i),u=r*Math.sin(i);return{x:t+(c*o-u*s),y:e+(c*s+u*o)}},e.parsePathData=function(t){if(!t)return[];var e=t,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var r=0;r<n.length;r++)e=e.replace(new RegExp(n[r],"g"),"|"+n[r]);var i,a=e.split("|"),o=[],s=[],c=0,u=0,l=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(r=1;r<a.length;r++){var f=a[r],h=f.charAt(0);for(f=f.slice(1),s.length=0;i=l.exec(f);)s.push(i[0]);for(var d=[],p=0,g=s.length;p<g;p++){var y=parseFloat(s[p]);isNaN(y)?d.push(0):d.push(y)}for(;d.length>0&&!isNaN(d[0]);){var v,m,_,b,w,x,k,C,E,A,S=null,T=[],P=c,O=u;switch(h){case"l":c+=d.shift(),u+=d.shift(),S="L",T.push(c,u);break;case"L":c=d.shift(),u=d.shift(),T.push(c,u);break;case"m":var R=d.shift(),L=d.shift();if(c+=R,u+=L,S="M",o.length>2&&"z"===o[o.length-1].command)for(var M=o.length-2;M>=0;M--)if("M"===o[M].command){c=o[M].points[0]+R,u=o[M].points[1]+L;break}T.push(c,u),h="l";break;case"M":c=d.shift(),u=d.shift(),S="M",T.push(c,u),h="L";break;case"h":c+=d.shift(),S="L",T.push(c,u);break;case"H":c=d.shift(),S="L",T.push(c,u);break;case"v":u+=d.shift(),S="L",T.push(c,u);break;case"V":u=d.shift(),S="L",T.push(c,u);break;case"C":T.push(d.shift(),d.shift(),d.shift(),d.shift()),c=d.shift(),u=d.shift(),T.push(c,u);break;case"c":T.push(c+d.shift(),u+d.shift(),c+d.shift(),u+d.shift()),c+=d.shift(),u+=d.shift(),S="C",T.push(c,u);break;case"S":m=c,_=u,"C"===(v=o[o.length-1]).command&&(m=c+(c-v.points[2]),_=u+(u-v.points[3])),T.push(m,_,d.shift(),d.shift()),c=d.shift(),u=d.shift(),S="C",T.push(c,u);break;case"s":m=c,_=u,"C"===(v=o[o.length-1]).command&&(m=c+(c-v.points[2]),_=u+(u-v.points[3])),T.push(m,_,c+d.shift(),u+d.shift()),c+=d.shift(),u+=d.shift(),S="C",T.push(c,u);break;case"Q":T.push(d.shift(),d.shift()),c=d.shift(),u=d.shift(),T.push(c,u);break;case"q":T.push(c+d.shift(),u+d.shift()),c+=d.shift(),u+=d.shift(),S="Q",T.push(c,u);break;case"T":m=c,_=u,"Q"===(v=o[o.length-1]).command&&(m=c+(c-v.points[0]),_=u+(u-v.points[1])),c=d.shift(),u=d.shift(),S="Q",T.push(m,_,c,u);break;case"t":m=c,_=u,"Q"===(v=o[o.length-1]).command&&(m=c+(c-v.points[0]),_=u+(u-v.points[1])),c+=d.shift(),u+=d.shift(),S="Q",T.push(m,_,c,u);break;case"A":b=d.shift(),w=d.shift(),x=d.shift(),k=d.shift(),C=d.shift(),E=c,A=u,c=d.shift(),u=d.shift(),S="A",T=this.convertEndpointToCenterParameterization(E,A,c,u,k,C,b,w,x);break;case"a":b=d.shift(),w=d.shift(),x=d.shift(),k=d.shift(),C=d.shift(),E=c,A=u,c+=d.shift(),u+=d.shift(),S="A",T=this.convertEndpointToCenterParameterization(E,A,c,u,k,C,b,w,x)}o.push({command:S||h,points:T,start:{x:P,y:O},pathLength:this.calcLength(P,O,S||h,T)})}"z"!==h&&"Z"!==h||o.push({command:"z",points:[],start:void 0,pathLength:0})}return o},e.calcLength=function(t,n,r,i){var a,o,s,c,u=e;switch(r){case"L":return u.getLineLength(t,n,i[0],i[1]);case"C":for(a=0,o=u.getPointOnCubicBezier(0,t,n,i[0],i[1],i[2],i[3],i[4],i[5]),c=.01;c<=1;c+=.01)s=u.getPointOnCubicBezier(c,t,n,i[0],i[1],i[2],i[3],i[4],i[5]),a+=u.getLineLength(o.x,o.y,s.x,s.y),o=s;return a;case"Q":for(a=0,o=u.getPointOnQuadraticBezier(0,t,n,i[0],i[1],i[2],i[3]),c=.01;c<=1;c+=.01)s=u.getPointOnQuadraticBezier(c,t,n,i[0],i[1],i[2],i[3]),a+=u.getLineLength(o.x,o.y,s.x,s.y),o=s;return a;case"A":a=0;var l=i[4],f=i[5],h=i[4]+f,d=Math.PI/180;if(Math.abs(l-h)<d&&(d=Math.abs(l-h)),o=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),f<0)for(c=l-d;c>h;c-=d)s=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],c,0),a+=u.getLineLength(o.x,o.y,s.x,s.y),o=s;else for(c=l+d;c<h;c+=d)s=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],c,0),a+=u.getLineLength(o.x,o.y,s.x,s.y),o=s;return s=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],h,0),a+=u.getLineLength(o.x,o.y,s.x,s.y)}return 0},e.convertEndpointToCenterParameterization=function(t,e,n,r,i,a,o,s,c){var u=c*(Math.PI/180),l=Math.cos(u)*(t-n)/2+Math.sin(u)*(e-r)/2,f=-1*Math.sin(u)*(t-n)/2+Math.cos(u)*(e-r)/2,h=l*l/(o*o)+f*f/(s*s);h>1&&(o*=Math.sqrt(h),s*=Math.sqrt(h));var d=Math.sqrt((o*o*(s*s)-o*o*(f*f)-s*s*(l*l))/(o*o*(f*f)+s*s*(l*l)));i===a&&(d*=-1),isNaN(d)&&(d=0);var p=d*o*f/s,g=d*-s*l/o,y=(t+n)/2+Math.cos(u)*p-Math.sin(u)*g,v=(e+r)/2+Math.sin(u)*p+Math.cos(u)*g,m=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},_=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(m(t)*m(e))},b=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(_(t,e))},w=b([1,0],[(l-p)/o,(f-g)/s]),x=[(l-p)/o,(f-g)/s],k=[(-1*l-p)/o,(-1*f-g)/s],C=b(x,k);return _(x,k)<=-1&&(C=Math.PI),_(x,k)>=1&&(C=0),0===a&&C>0&&(C-=2*Math.PI),1===a&&C<0&&(C+=2*Math.PI),[y,v,o,s,w,C,u,a]},e}(o.Shape);e.Path=c,c.prototype.className="Path",c.prototype._attrsAffectingSize=["data"],s._registerNode(c),a.Factory.addGetterSetter(c,"data"),i.Collection.mapMethods(c)},8240:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2264),a=n(6534),o=n(9132),s=n(2683),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){var e=this.cornerRadius(),n=this.width(),r=this.height();if(t.beginPath(),e){var i=0,a=0,o=0,s=0;"number"===typeof e?i=a=o=s=Math.min(e,n/2,r/2):(i=Math.min(e[0],n/2,r/2),a=Math.min(e[1],n/2,r/2),s=Math.min(e[2],n/2,r/2),o=Math.min(e[3],n/2,r/2)),t.moveTo(i,0),t.lineTo(n-a,0),t.arc(n-a,a,a,3*Math.PI/2,0,!1),t.lineTo(n,r-s),t.arc(n-s,r-s,s,0,Math.PI/2,!1),t.lineTo(o,r),t.arc(o,r-o,o,Math.PI/2,Math.PI,!1),t.lineTo(0,i),t.arc(i,i,i,Math.PI,3*Math.PI/2,!1)}else t.rect(0,0,n,r);t.closePath(),t.fillStrokeShape(this)},e}(o.Shape);e.Rect=c,c.prototype.className="Rect",s._registerNode(c),a.Factory.addGetterSetter(c,"cornerRadius",0),i.Collection.mapMethods(c)},9237:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2264),a=n(6534),o=n(9132),s=n(8999),c=n(2683),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){var e,n,r,i=this.sides(),a=this.radius();for(t.beginPath(),t.moveTo(0,0-a),e=1;e<i;e++)n=a*Math.sin(2*e*Math.PI/i),r=-1*a*Math.cos(2*e*Math.PI/i),t.lineTo(n,r);t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius(t/2)},e.prototype.setHeight=function(t){this.radius(t/2)},e}(o.Shape);e.RegularPolygon=u,u.prototype.className="RegularPolygon",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["radius"],c._registerNode(u),a.Factory.addGetterSetter(u,"radius",0,s.getNumberValidator()),a.Factory.addGetterSetter(u,"sides",0,s.getNumberValidator()),i.Collection.mapMethods(u)},1623:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2264),a=n(6534),o=n(9132),s=n(8999),c=n(2683),u=2*Math.PI,l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,u,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),u,0,!0),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(o.Shape);e.Ring=l,l.prototype.className="Ring",l.prototype._centroid=!0,l.prototype._attrsAffectingSize=["innerRadius","outerRadius"],c._registerNode(l),a.Factory.addGetterSetter(l,"innerRadius",0,s.getNumberValidator()),a.Factory.addGetterSetter(l,"outerRadius",0,s.getNumberValidator()),i.Collection.mapMethods(l)},462:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2264),a=n(6534),o=n(9132),s=n(8660),c=n(8999),u=n(2683),l=function(t){function e(e){var n=t.call(this,e)||this;return n._updated=!0,n.anim=new s.Animation((function(){var t=n._updated;return n._updated=!1,t})),n.on("animationChange.konva",(function(){this.frameIndex(0)})),n.on("frameIndexChange.konva",(function(){this._updated=!0})),n.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})),n}return r(e,t),e.prototype._sceneFunc=function(t){var e=this.animation(),n=this.frameIndex(),r=4*n,i=this.animations()[e],a=this.frameOffsets(),o=i[r+0],s=i[r+1],c=i[r+2],u=i[r+3],l=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,c,u),t.closePath(),t.fillStrokeShape(this)),l)if(a){var f=a[e],h=2*n;t.drawImage(l,o,s,c,u,f[h+0],f[h+1],c,u)}else t.drawImage(l,o,s,c,u,0,0,c,u)},e.prototype._hitFunc=function(t){var e=this.animation(),n=this.frameIndex(),r=4*n,i=this.animations()[e],a=this.frameOffsets(),o=i[r+2],s=i[r+3];if(t.beginPath(),a){var c=a[e],u=2*n;t.rect(c[u+0],c[u+1],o,s)}else t.rect(0,0,o,s);t.closePath(),t.fillShape(this)},e.prototype._useBufferCanvas=function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()},e.prototype._setInterval=function(){var t=this;this.interval=setInterval((function(){t._updateIndex()}),1e3/this.frameRate())},e.prototype.start=function(){if(!this.isRunning()){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}},e.prototype.stop=function(){this.anim.stop(),clearInterval(this.interval)},e.prototype.isRunning=function(){return this.anim.isRunning()},e.prototype._updateIndex=function(){var t=this.frameIndex(),e=this.animation();t<this.animations()[e].length/4-1?this.frameIndex(t+1):this.frameIndex(0)},e}(o.Shape);e.Sprite=l,l.prototype.className="Sprite",u._registerNode(l),a.Factory.addGetterSetter(l,"animation"),a.Factory.addGetterSetter(l,"animations"),a.Factory.addGetterSetter(l,"frameOffsets"),a.Factory.addGetterSetter(l,"image"),a.Factory.addGetterSetter(l,"frameIndex",0,c.getNumberValidator()),a.Factory.addGetterSetter(l,"frameRate",17,c.getNumberValidator()),a.Factory.backCompat(l,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),i.Collection.mapMethods(l)},9954:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2264),a=n(6534),o=n(9132),s=n(8999),c=n(2683),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){var e=this.innerRadius(),n=this.outerRadius(),r=this.numPoints();t.beginPath(),t.moveTo(0,0-n);for(var i=1;i<2*r;i++){var a=i%2===0?n:e,o=a*Math.sin(i*Math.PI/r),s=-1*a*Math.cos(i*Math.PI/r);t.lineTo(o,s)}t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(o.Shape);e.Star=u,u.prototype.className="Star",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["innerRadius","outerRadius"],c._registerNode(u),a.Factory.addGetterSetter(u,"numPoints",5,s.getNumberValidator()),a.Factory.addGetterSetter(u,"innerRadius",0,s.getNumberValidator()),a.Factory.addGetterSetter(u,"outerRadius",0,s.getNumberValidator()),i.Collection.mapMethods(u)},5215:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(2264),o=n(6534),s=n(9132),c=n(2683),u=n(8999),l=n(2683),f="auto",h="justify",d="left",p="middle",g="normal",y=" ",v=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],m=v.length;function _(){return i||(i=a.Util.createCanvasElement().getContext("2d"))}String.prototype.trimRight;var b=function(t){function e(e){var n=t.call(this,function(t){return(t=t||{}).fillLinearGradientColorStops||t.fillRadialGradientColorStops||t.fillPatternImage||(t.fill=t.fill||"black"),t}(e))||this;n._partialTextX=0,n._partialTextY=0;for(var r=0;r<m;r++)n.on(v[r]+"Change.konva",n._setTextData);return n._setTextData(),n}return r(e,t),e.prototype._sceneFunc=function(t){var e,n=this.padding(),r=this.fontSize(),i=this.lineHeight()*r,a=this.textArr,o=a.length,s=this.verticalAlign(),c=0,u=this.align(),l=this.getWidth(),f=this.letterSpacing(),g=this.fill(),y=this.textDecoration(),v=-1!==y.indexOf("underline"),m=-1!==y.indexOf("line-through"),_=0,b=(_=i/2,0),w=0;for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",p),t.setAttr("textAlign",d),s===p?c=(this.getHeight()-o*i-2*n)/2:"bottom"===s&&(c=this.getHeight()-o*i-2*n),t.translate(n,c+n),e=0;e<o;e++){b=0,w=0;var x,k,C,E=a[e],A=E.text,S=E.width,T=e!==o-1;if(t.save(),"right"===u?b+=l-S-2*n:"center"===u&&(b+=(l-S-2*n)/2),v&&(t.save(),t.beginPath(),t.moveTo(b,_+w+Math.round(r/2)),k=0===(x=A.split(" ").length-1),C=u===h&&T&&!k?l-2*n:S,t.lineTo(b+Math.round(C),_+w+Math.round(r/2)),t.lineWidth=r/15,t.strokeStyle=g,t.stroke(),t.restore()),m&&(t.save(),t.beginPath(),t.moveTo(b,_+w),k=0===(x=A.split(" ").length-1),C=u===h&&T&&!k?l-2*n:S,t.lineTo(b+Math.round(C),_+w),t.lineWidth=r/15,t.strokeStyle=g,t.stroke(),t.restore()),0!==f||u===h){x=A.split(" ").length-1;for(var P=0;P<A.length;P++){var O=A[P];" "===O&&e!==o-1&&u===h&&(b+=Math.floor((l-2*n-S)/x)),this._partialTextX=b,this._partialTextY=_+w,this._partialText=O,t.fillStrokeShape(this),b+=Math.round(this.measureSize(O).width)+f}}else this._partialTextX=b,this._partialTextY=_+w,this._partialText=A,t.fillStrokeShape(this);t.restore(),o>1&&(_+=i)}},e.prototype._hitFunc=function(t){var e=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},e.prototype.setText=function(t){var e=a.Util._isString(t)?t:null===t||void 0===t?"":t+"";return this._setAttr("text",e),this},e.prototype.getWidth=function(){return this.attrs.width===f||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width},e.prototype.getHeight=function(){return this.attrs.height===f||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height},e.prototype.getTextWidth=function(){return this.textWidth},e.prototype.getTextHeight=function(){return a.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},e.prototype.measureSize=function(t){var e,n=_(),r=this.fontSize();return n.save(),n.font=this._getContextFont(),e=n.measureText(t),n.restore(),{width:e.width,height:r}},e.prototype._getContextFont=function(){return c.Konva.UA.isIE?this.fontStyle()+y+this.fontSize()+"px "+this.fontFamily():this.fontStyle()+y+this.fontVariant()+y+this.fontSize()+"px "+this.fontFamily()},e.prototype._addTextLine=function(t){this.align()===h&&(t=t.trim());var e=this._getTextWidth(t);return this.textArr.push({text:t,width:e})},e.prototype._getTextWidth=function(t){var e=this.letterSpacing(),n=t.length;return _().measureText(t).width+(n?e*(n-1):0)},e.prototype._setTextData=function(){var t=this.text().split("\n"),e=+this.fontSize(),n=0,r=this.lineHeight()*e,i=this.attrs.width,a=this.attrs.height,o=i!==f&&void 0!==i,s=a!==f&&void 0!==a,c=this.padding(),u=i-2*c,l=a-2*c,h=0,d=this.wrap(),p="none"!==d,g="char"!==d&&p,v=this.ellipsis()&&!p;this.textArr=[],_().font=this._getContextFont();for(var m=v?this._getTextWidth("\u2026"):0,b=0,w=t.length;b<w;++b){var x=t[b],k=this._getTextWidth(x);if(o&&k>u)for(;x.length>0;){for(var C=0,E=x.length,A="",S=0;C<E;){var T=C+E>>>1,P=x.slice(0,T+1),O=this._getTextWidth(P)+m;O<=u?(C=T+1,A=P+(v?"\u2026":""),S=O):E=T}if(!A)break;if(g){var R,L=x[A.length];(R=(L===y||"-"===L)&&S<=u?A.length:Math.max(A.lastIndexOf(y),A.lastIndexOf("-"))+1)>0&&(C=R,A=A.slice(0,C),S=this._getTextWidth(A))}if(A=A.trimRight(),this._addTextLine(A),n=Math.max(n,S),h+=r,!p||s&&h+r>l)break;if((x=(x=x.slice(C)).trimLeft()).length>0&&(k=this._getTextWidth(x))<=u){this._addTextLine(x),h+=r,n=Math.max(n,k);break}}else this._addTextLine(x),h+=r,n=Math.max(n,k);if(s&&h+r>l)break}this.textHeight=e,this.textWidth=n},e.prototype.getStrokeScaleEnabled=function(){return!0},e}(s.Shape);e.Text=b,b.prototype._fillFunc=function(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)},b.prototype._strokeFunc=function(t){t.strokeText(this._partialText,this._partialTextX,this._partialTextY)},b.prototype.className="Text",b.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight"],l._registerNode(b),o.Factory.overWriteSetter(b,"width",u.getNumberOrAutoValidator()),o.Factory.overWriteSetter(b,"height",u.getNumberOrAutoValidator()),o.Factory.addGetterSetter(b,"fontFamily","Arial"),o.Factory.addGetterSetter(b,"fontSize",12,u.getNumberValidator()),o.Factory.addGetterSetter(b,"fontStyle",g),o.Factory.addGetterSetter(b,"fontVariant",g),o.Factory.addGetterSetter(b,"padding",0,u.getNumberValidator()),o.Factory.addGetterSetter(b,"align",d),o.Factory.addGetterSetter(b,"verticalAlign","top"),o.Factory.addGetterSetter(b,"lineHeight",1,u.getNumberValidator()),o.Factory.addGetterSetter(b,"wrap","word"),o.Factory.addGetterSetter(b,"ellipsis",!1),o.Factory.addGetterSetter(b,"letterSpacing",0,u.getNumberValidator()),o.Factory.addGetterSetter(b,"text","",u.getStringValidator()),o.Factory.addGetterSetter(b,"textDecoration",""),a.Collection.mapMethods(b)},9667:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2264),a=n(6534),o=n(9132),s=n(5355),c=n(5215),u=n(8999),l=n(2683),f="normal";function h(t){t.fillText(this.partialText,0,0)}function d(t){t.strokeText(this.partialText,0,0)}var p=function(t){function e(e){var n=t.call(this,e)||this;return n.dummyCanvas=i.Util.createCanvasElement(),n.dataArray=[],n.dataArray=s.Path.parsePathData(n.attrs.data),n.on("dataChange.konva",(function(){this.dataArray=s.Path.parsePathData(this.attrs.data),this._setTextData()})),n.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva",n._setTextData),e&&e.getKerning&&(i.Util.warn('getKerning TextPath API is deprecated. Please use "kerningFunc" instead.'),n.kerningFunc(e.getKerning)),n._setTextData(),n}return r(e,t),e.prototype._sceneFunc=function(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();var e=this.textDecoration(),n=this.fill(),r=this.fontSize(),i=this.glyphInfo;"underline"===e&&t.beginPath();for(var a=0;a<i.length;a++){t.save();var o=i[a].p0;t.translate(o.x,o.y),t.rotate(i[a].rotation),this.partialText=i[a].text,t.fillStrokeShape(this),"underline"===e&&(0===a&&t.moveTo(0,r/2+1),t.lineTo(r,r/2+1)),t.restore()}"underline"===e&&(t.strokeStyle=n,t.lineWidth=r/20,t.stroke()),t.restore()},e.prototype._hitFunc=function(t){t.beginPath();var e=this.glyphInfo;if(e.length>=1){var n=e[0].p0;t.moveTo(n.x,n.y)}for(var r=0;r<e.length;r++){var i=e[r].p1;t.lineTo(i.x,i.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()},e.prototype.getTextWidth=function(){return this.textWidth},e.prototype.getTextHeight=function(){return i.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},e.prototype.setText=function(t){return c.Text.prototype.setText.call(this,t)},e.prototype._getContextFont=function(){return c.Text.prototype._getContextFont.call(this)},e.prototype._getTextSize=function(t){var e=this.dummyCanvas.getContext("2d");e.save(),e.font=this._getContextFont();var n=e.measureText(t);return e.restore(),{width:n.width,height:parseInt(this.attrs.fontSize,10)}},e.prototype._setTextData=function(){var t=this,e=this._getTextSize(this.attrs.text),n=this.letterSpacing(),r=this.align(),i=this.kerningFunc();this.textWidth=e.width,this.textHeight=e.height;var a=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);this.glyphInfo=[];for(var o=0,c=0;c<t.dataArray.length;c++)t.dataArray[c].pathLength>0&&(o+=t.dataArray[c].pathLength);var u=0;"center"===r&&(u=Math.max(0,o/2-a/2)),"right"===r&&(u=Math.max(0,o-a));for(var l,f,h,d=this.text().split(""),p=this.text().split(" ").length-1,g=-1,y=0,v=function(){y=0;for(var e=t.dataArray,n=g+1;n<e.length;n++){if(e[n].pathLength>0)return g=n,e[n];"M"===e[n].command&&(l={x:e[n].points[0],y:e[n].points[1]})}return{}},m=function(e){var i=t._getTextSize(e).width+n;" "===e&&"justify"===r&&(i+=(o-a)/p);var c=0,u=0;for(f=void 0;Math.abs(i-c)/i>.01&&u<25;){u++;for(var d=c;void 0===h;)(h=v())&&d+h.pathLength<i&&(d+=h.pathLength,h=void 0);if(h==={}||void 0===l)return;var g=!1;switch(h.command){case"L":s.Path.getLineLength(l.x,l.y,h.points[0],h.points[1])>i?f=s.Path.getPointOnLine(i,l.x,l.y,h.points[0],h.points[1],l.x,l.y):h=void 0;break;case"A":var m=h.points[4],_=h.points[5],b=h.points[4]+_;0===y?y=m+1e-8:i>c?y+=Math.PI/180*_/Math.abs(_):y-=Math.PI/360*_/Math.abs(_),(_<0&&y<b||_>=0&&y>b)&&(y=b,g=!0),f=s.Path.getPointOnEllipticalArc(h.points[0],h.points[1],h.points[2],h.points[3],y,h.points[6]);break;case"C":0===y?y=i>h.pathLength?1e-8:i/h.pathLength:i>c?y+=(i-c)/h.pathLength:y-=(c-i)/h.pathLength,y>1&&(y=1,g=!0),f=s.Path.getPointOnCubicBezier(y,h.start.x,h.start.y,h.points[0],h.points[1],h.points[2],h.points[3],h.points[4],h.points[5]);break;case"Q":0===y?y=i/h.pathLength:i>c?y+=(i-c)/h.pathLength:y-=(c-i)/h.pathLength,y>1&&(y=1,g=!0),f=s.Path.getPointOnQuadraticBezier(y,h.start.x,h.start.y,h.points[0],h.points[1],h.points[2],h.points[3])}void 0!==f&&(c=s.Path.getLineLength(l.x,l.y,f.x,f.y)),g&&(g=!1,h=void 0)}},_=u/(t._getTextSize("C").width+n)-1,b=0;b<_&&(m("C"),void 0!==l&&void 0!==f);b++)l=f;for(var w=0;w<d.length&&(m(d[w]),void 0!==l&&void 0!==f);w++){var x=s.Path.getLineLength(l.x,l.y,f.x,f.y),k=0;if(i)try{k=i(d[w-1],d[w])*this.fontSize()}catch(A){k=0}l.x+=k,f.x+=k,this.textWidth+=k;var C=s.Path.getPointOnLine(k+x/2,l.x,l.y,f.x,f.y),E=Math.atan2(f.y-l.y,f.x-l.x);this.glyphInfo.push({transposeX:C.x,transposeY:C.y,text:d[w],rotation:E,p0:l,p1:f}),l=f}},e.prototype.getSelfRect=function(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var t=[];this.glyphInfo.forEach((function(e){t.push(e.p0.x),t.push(e.p0.y),t.push(e.p1.x),t.push(e.p1.y)}));for(var e,n,r=t[0]||0,i=t[0]||0,a=t[1]||0,o=t[1]||0,s=0;s<t.length/2;s++)e=t[2*s],n=t[2*s+1],r=Math.min(r,e),i=Math.max(i,e),a=Math.min(a,n),o=Math.max(o,n);var c=this.fontSize();return{x:Math.round(r)-c/2,y:Math.round(a)-c/2,width:Math.round(i-r)+c,height:Math.round(o-a)+c}},e}(o.Shape);e.TextPath=p,p.prototype._fillFunc=h,p.prototype._strokeFunc=d,p.prototype._fillFuncHit=h,p.prototype._strokeFuncHit=d,p.prototype.className="TextPath",p.prototype._attrsAffectingSize=["text","fontSize","data"],l._registerNode(p),a.Factory.addGetterSetter(p,"data"),a.Factory.addGetterSetter(p,"fontFamily","Arial"),a.Factory.addGetterSetter(p,"fontSize",12,u.getNumberValidator()),a.Factory.addGetterSetter(p,"fontStyle",f),a.Factory.addGetterSetter(p,"align","left"),a.Factory.addGetterSetter(p,"letterSpacing",0,u.getNumberValidator()),a.Factory.addGetterSetter(p,"textBaseline","middle"),a.Factory.addGetterSetter(p,"fontVariant",f),a.Factory.addGetterSetter(p,"text",""),a.Factory.addGetterSetter(p,"textDecoration",null),a.Factory.addGetterSetter(p,"kerningFunc",null),i.Collection.mapMethods(p)},9382:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2264),a=n(6534),o=n(2585),s=n(9132),c=n(8240),u=n(7675),l=n(2683),f=n(8999),h=n(2683),d="tr-konva",p=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map((function(t){return t+".tr-konva"})).join(" "),g="nodeRect",y=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"].map((function(t){return t+".tr-konva"})).join(" "),v={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},m="ontouchstart"in l.Konva._global;var _=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],b=function(t){function e(e){var n=t.call(this,e)||this;return n._transforming=!1,n._createElements(),n._handleMouseMove=n._handleMouseMove.bind(n),n._handleMouseUp=n._handleMouseUp.bind(n),n.update=n.update.bind(n),n.on(p,n.update),n.getNode()&&n.update(),n}return r(e,t),e.prototype.attachTo=function(t){return this.setNode(t),this},e.prototype.setNode=function(t){var e=this;this._node&&this.detach(),this._node=t,this._resetTransformCache();var n=t._attrsAffectingSize.map((function(t){return t+"Change."+d})).join(" "),r=function(){e._resetTransformCache(),e._transforming||e.update()};return t.on(n,r),t.on(y,r),t.on("xChange.tr-konva yChange.tr-konva",(function(){return e._resetTransformCache()})),!!this.findOne(".top-left")&&this.update(),this},e.prototype.getNode=function(){return this._node},e.prototype.detach=function(){this.getNode()&&(this.getNode().off(".tr-konva"),this._node=void 0),this._resetTransformCache()},e.prototype._resetTransformCache=function(){this._clearCache(g),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")},e.prototype._getNodeRect=function(){return this._getCache(g,this.__getNodeRect)},e.prototype.__getNodeRect=function(){var t=this.getNode();if(!t)return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};t.parent&&this.parent&&t.parent!==this.parent&&i.Util.warn("Transformer and attached node have different parents. Konva does not support such case right now. Please move Transformer to the parent of attaching node.");var e=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),n=l.Konva.getAngle(t.rotation()),r=e.x*t.scaleX()-t.offsetX()*t.scaleX(),a=e.y*t.scaleY()-t.offsetY()*t.scaleY();return{x:t.x()+r*Math.cos(n)+a*Math.sin(-n),y:t.y()+a*Math.cos(n)+r*Math.sin(n),width:e.width*t.scaleX(),height:e.height*t.scaleY(),rotation:t.rotation()}},e.prototype.getX=function(){return this._getNodeRect().x},e.prototype.getY=function(){return this._getNodeRect().y},e.prototype.getRotation=function(){return this._getNodeRect().rotation},e.prototype.getWidth=function(){return this._getNodeRect().width},e.prototype.getHeight=function(){return this._getNodeRect().height},e.prototype._createElements=function(){this._createBack(),_.forEach(function(t){this._createAnchor(t)}.bind(this)),this._createAnchor("rotater")},e.prototype._createAnchor=function(t){var e=this,n=new c.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:m?10:"auto"}),r=this;n.on("mousedown touchstart",(function(t){r._handleMouseDown(t)})),n.on("dragstart",(function(t){t.cancelBubble=!0})),n.on("dragmove",(function(t){t.cancelBubble=!0})),n.on("dragend",(function(t){t.cancelBubble=!0})),n.on("mouseenter",(function(){var r=l.Konva.getAngle(e.getAbsoluteRotation()),a=e.getNode().getAbsoluteScale(),o=a.y*a.x<0,s=function(t,e,n){if("rotater"===t)return"crosshair";e+=i.Util._degToRad(v[t]||0),n&&(e*=-1);var r=(i.Util._radToDeg(e)%360+360)%360;return i.Util._inRange(r,337.5,360)||i.Util._inRange(r,0,22.5)?"ns-resize":i.Util._inRange(r,22.5,67.5)?"nesw-resize":i.Util._inRange(r,67.5,112.5)?"ew-resize":i.Util._inRange(r,112.5,157.5)?"nwse-resize":i.Util._inRange(r,157.5,202.5)?"ns-resize":i.Util._inRange(r,202.5,247.5)?"nesw-resize":i.Util._inRange(r,247.5,292.5)?"ew-resize":i.Util._inRange(r,292.5,337.5)?"nwse-resize":(i.Util.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}(t,r,o);n.getStage().content.style.cursor=s,e._cursorChange=!0})),n.on("mouseout",(function(){n.getStage()&&n.getParent()&&(n.getStage().content.style.cursor="",e._cursorChange=!1)})),this.add(n)},e.prototype._createBack=function(){var t=new s.Shape({name:"back",width:0,height:0,listening:!1,sceneFunc:function(t){var e=this.getParent(),n=e.padding();t.beginPath(),t.rect(-n,-n,this.width()+2*n,this.height()+2*n),t.moveTo(this.width()/2,-n),e.rotateEnabled()&&t.lineTo(this.width()/2,-e.rotateAnchorOffset()*i.Util._sign(this.height())-n),t.fillStrokeShape(this)}});this.add(t)},e.prototype._handleMouseDown=function(t){this._movingAnchorName=t.target.name().split(" ")[0];var e=this._getNodeRect(),n=e.width,r=e.height,i=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));this.sin=Math.abs(r/i),this.cos=Math.abs(n/i),window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0),this._transforming=!0,this._fire("transformstart",{evt:t,target:this.getNode()}),this.getNode()._fire("transformstart",{evt:t,target:this.getNode()})},e.prototype._handleMouseMove=function(t){var e,n,r,a=this.findOne("."+this._movingAnchorName),o=a.getStage();o.setPointersPositions(t),a.setAbsolutePosition(o.getPointerPosition());var s=this.keepRatio()||t.shiftKey,c=this.padding();if("top-left"===this._movingAnchorName){if(s){r=Math.sqrt(Math.pow(this.findOne(".bottom-right").x()-a.x()-2*c,2)+Math.pow(this.findOne(".bottom-right").y()-a.y()-2*c,2));var u=this.findOne(".top-left").x()>this.findOne(".bottom-right").x()?-1:1,f=this.findOne(".top-left").y()>this.findOne(".bottom-right").y()?-1:1;e=r*this.cos*u,n=r*this.sin*f,this.findOne(".top-left").x(this.findOne(".bottom-right").x()-e-2*c),this.findOne(".top-left").y(this.findOne(".bottom-right").y()-n-2*c)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(a.y());else if("top-right"===this._movingAnchorName){if(s){r=Math.sqrt(Math.pow(a.x()-this.findOne(".bottom-left").x()-2*c,2)+Math.pow(this.findOne(".bottom-left").y()-a.y()-2*c,2));u=this.findOne(".top-right").x()<this.findOne(".top-left").x()?-1:1,f=this.findOne(".top-right").y()>this.findOne(".bottom-left").y()?-1:1;e=r*this.cos*u,n=r*this.sin*f,this.findOne(".top-right").x(e+c),this.findOne(".top-right").y(this.findOne(".bottom-left").y()-n-2*c)}var h=a.position();this.findOne(".top-left").y(h.y),this.findOne(".bottom-right").x(h.x)}else if("middle-left"===this._movingAnchorName)this.findOne(".top-left").x(a.x());else if("middle-right"===this._movingAnchorName)this.findOne(".bottom-right").x(a.x());else if("bottom-left"===this._movingAnchorName){if(s){r=Math.sqrt(Math.pow(this.findOne(".top-right").x()-a.x()-2*c,2)+Math.pow(a.y()-this.findOne(".top-right").y()-2*c,2));u=this.findOne(".top-right").x()<this.findOne(".bottom-left").x()?-1:1,f=this.findOne(".bottom-right").y()<this.findOne(".top-left").y()?-1:1;e=r*this.cos*u,n=r*this.sin*f,this.findOne(".bottom-left").x(this.findOne(".top-right").x()-e-2*c),this.findOne(".bottom-left").y(n+c)}h=a.position(),this.findOne(".top-left").x(h.x),this.findOne(".bottom-right").y(h.y)}else if("bottom-center"===this._movingAnchorName)this.findOne(".bottom-right").y(a.y());else if("bottom-right"===this._movingAnchorName){if(s){r=Math.sqrt(Math.pow(this.findOne(".bottom-right").x()-c,2)+Math.pow(this.findOne(".bottom-right").y()-c,2));u=this.findOne(".top-left").x()>this.findOne(".bottom-right").x()?-1:1,f=this.findOne(".top-left").y()>this.findOne(".bottom-right").y()?-1:1;e=r*this.cos*u,n=r*this.sin*f,this.findOne(".bottom-right").x(e+c),this.findOne(".bottom-right").y(n+c)}}else if("rotater"===this._movingAnchorName){var d=this._getNodeRect();e=a.x()-d.width/2,n=-a.y()+d.height/2;var p=Math.atan2(-n,e)+Math.PI/2;d.height<0&&(p-=Math.PI);for(var g=l.Konva.getAngle(this.rotation()),y=i.Util._radToDeg(g)+i.Util._radToDeg(p),v=l.Konva.getAngle(this.getNode().rotation()),m=i.Util._degToRad(y),_=this.rotationSnaps(),b=0;b<_.length;b++){var w=l.Konva.getAngle(_[b]);Math.abs(w-i.Util._degToRad(y))%(2*Math.PI)<.1&&(y=i.Util._radToDeg(w),m=i.Util._degToRad(y))}var x=c,k=c;this._fitNodeInto({rotation:l.Konva.angleDeg?y:i.Util._degToRad(y),x:d.x+(d.width/2+c)*(Math.cos(v)-Math.cos(m))+(d.height/2+c)*(Math.sin(-v)-Math.sin(-m))-(x*Math.cos(g)+k*Math.sin(-g)),y:d.y+(d.height/2+c)*(Math.cos(v)-Math.cos(m))+(d.width/2+c)*(Math.sin(v)-Math.sin(m))-(k*Math.cos(g)+x*Math.sin(g)),width:d.width+2*c,height:d.height+2*c},t)}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if("rotater"!==this._movingAnchorName){if(this.centeredScaling()||t.altKey){var C=this.findOne(".top-left"),E=this.findOne(".bottom-right"),A=C.x()+c,S=C.y()+c,T=this.getWidth()-E.x()+c,P=this.getHeight()-E.y()+c;E.move({x:-A,y:-S}),C.move({x:T,y:P})}var O=this.findOne(".top-left").getAbsolutePosition(this.getParent());e=O.x,n=O.y;var R=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),L=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodeInto({x:e+this.offsetX(),y:n+this.offsetY(),width:R,height:L},t)}},e.prototype._handleMouseUp=function(t){this._removeEvents(t)},e.prototype._removeEvents=function(t){if(this._transforming){this._transforming=!1,window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0);var e=this.getNode();this._fire("transformend",{evt:t,target:e}),e&&e.fire("transformend",{evt:t,target:e})}},e.prototype._fitNodeInto=function(t,e){var n=this.boundBoxFunc();if(n){var r=this._getNodeRect();t=n.call(this,r,t)}var i=this.getNode();void 0!==t.rotation&&this.getNode().rotation(t.rotation);var a=i.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),o=this.padding(),s=a.width?(t.width-2*o)/a.width:1,c=a.height?(t.height-2*o)/a.height:1,u=l.Konva.getAngle(i.rotation()),f=a.x*s-o-i.offsetX()*s,h=a.y*c-o-i.offsetY()*c;this.getNode().setAttrs({scaleX:s,scaleY:c,x:t.x-(f*Math.cos(u)+h*Math.sin(-u)),y:t.y-(h*Math.cos(u)+f*Math.sin(u))}),this._fire("transform",{evt:e,target:this.getNode()}),this.getNode()._fire("transform",{evt:e,target:this.getNode()}),this.update(),this.getLayer().batchDraw()},e.prototype.forceUpdate=function(){this._resetTransformCache(),this.update()},e.prototype.update=function(){var t=this,e=this._getNodeRect(),n=this.getNode(),r={x:1,y:1};n&&n.getParent()&&(r=n.getParent().getAbsoluteScale());var a={x:1/r.x,y:1/r.y},o=e.width,s=e.height,c=this.enabledAnchors(),u=this.resizeEnabled(),l=this.padding(),f=this.anchorSize();this.find("._anchor").each((function(e){return e.setAttrs({width:f,height:f,offsetX:f/2,offsetY:f/2,stroke:t.anchorStroke(),strokeWidth:t.anchorStrokeWidth(),fill:t.anchorFill(),cornerRadius:t.anchorCornerRadius()})})),this.findOne(".top-left").setAttrs({x:-l,y:-l,scale:a,visible:u&&c.indexOf("top-left")>=0}),this.findOne(".top-center").setAttrs({x:o/2,y:-l,scale:a,visible:u&&c.indexOf("top-center")>=0}),this.findOne(".top-right").setAttrs({x:o+l,y:-l,scale:a,visible:u&&c.indexOf("top-right")>=0}),this.findOne(".middle-left").setAttrs({x:-l,y:s/2,scale:a,visible:u&&c.indexOf("middle-left")>=0}),this.findOne(".middle-right").setAttrs({x:o+l,y:s/2,scale:a,visible:u&&c.indexOf("middle-right")>=0}),this.findOne(".bottom-left").setAttrs({x:-l,y:s+l,scale:a,visible:u&&c.indexOf("bottom-left")>=0}),this.findOne(".bottom-center").setAttrs({x:o/2,y:s+l,scale:a,visible:u&&c.indexOf("bottom-center")>=0}),this.findOne(".bottom-right").setAttrs({x:o+l,y:s+l,scale:a,visible:u&&c.indexOf("bottom-right")>=0});var h=-this.rotateAnchorOffset()*Math.abs(a.y);this.findOne(".rotater").setAttrs({x:o/2,y:h*i.Util._sign(s)-l,scale:a,visible:this.rotateEnabled()}),this.findOne(".back").setAttrs({width:o*r.x,height:s*r.y,scale:a,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash()})},e.prototype.isTransforming=function(){return this._transforming},e.prototype.stopTransform=function(){if(this._transforming){this._removeEvents();var t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}},e.prototype.destroy=function(){return this.getStage()&&this._cursorChange&&(this.getStage().content.style.cursor=""),u.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this},e.prototype.toObject=function(){return o.Node.prototype.toObject.call(this)},e}(u.Group);e.Transformer=b,b.prototype.className="Transformer",h._registerNode(b),a.Factory.addGetterSetter(b,"enabledAnchors",_,(function(t){return t instanceof Array||i.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach((function(t){-1===_.indexOf(t)&&i.Util.warn("Unknown anchor name: "+t+". Available names are: "+_.join(", "))})),t||[]})),a.Factory.addGetterSetter(b,"resizeEnabled",!0),a.Factory.addGetterSetter(b,"anchorSize",10,f.getNumberValidator()),a.Factory.addGetterSetter(b,"rotateEnabled",!0),a.Factory.addGetterSetter(b,"rotationSnaps",[]),a.Factory.addGetterSetter(b,"rotateAnchorOffset",50,f.getNumberValidator()),a.Factory.addGetterSetter(b,"borderEnabled",!0),a.Factory.addGetterSetter(b,"anchorStroke","rgb(0, 161, 255)"),a.Factory.addGetterSetter(b,"anchorStrokeWidth",1,f.getNumberValidator()),a.Factory.addGetterSetter(b,"anchorFill","white"),a.Factory.addGetterSetter(b,"anchorCornerRadius",0,f.getNumberValidator()),a.Factory.addGetterSetter(b,"borderStroke","rgb(0, 161, 255)"),a.Factory.addGetterSetter(b,"borderStrokeWidth",1,f.getNumberValidator()),a.Factory.addGetterSetter(b,"borderDash"),a.Factory.addGetterSetter(b,"keepRatio",!0),a.Factory.addGetterSetter(b,"centeredScaling",!1),a.Factory.addGetterSetter(b,"ignoreStroke",!1),a.Factory.addGetterSetter(b,"padding",0,f.getNumberValidator()),a.Factory.addGetterSetter(b,"node"),a.Factory.addGetterSetter(b,"boundBoxFunc"),a.Factory.backCompat(b,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),i.Collection.mapMethods(b)},8861:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2264),a=n(6534),o=n(9132),s=n(2683),c=n(8999),u=n(2683),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.radius(),0,s.Konva.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius(t/2)},e.prototype.setHeight=function(t){this.radius(t/2)},e}(o.Shape);e.Wedge=l,l.prototype.className="Wedge",l.prototype._centroid=!0,l.prototype._attrsAffectingSize=["radius"],u._registerNode(l),a.Factory.addGetterSetter(l,"radius",0,c.getNumberValidator()),a.Factory.addGetterSetter(l,"angle",0,c.getNumberValidator()),a.Factory.addGetterSetter(l,"clockwise",!1),a.Factory.backCompat(l,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),i.Collection.mapMethods(l)},908:function(t,e,n){var r=n(8136)(n(7009),"DataView");t.exports=r},9676:function(t,e,n){var r=n(5403),i=n(2747),a=n(6037),o=n(4154),s=n(7728);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=o,c.prototype.set=s,t.exports=c},2492:function(t,e,n){var r=n(5763),i=n(8807);function a(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}a.prototype=r(i.prototype),a.prototype.constructor=a,t.exports=a},8384:function(t,e,n){var r=n(3894),i=n(8699),a=n(4957),o=n(7184),s=n(7109);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=o,c.prototype.set=s,t.exports=c},5598:function(t,e,n){var r=n(5763),i=n(8807);function a(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}a.prototype=r(i.prototype),a.prototype.constructor=a,t.exports=a},5797:function(t,e,n){var r=n(8136)(n(7009),"Map");t.exports=r},8059:function(t,e,n){var r=n(4086),i=n(9255),a=n(9186),o=n(3423),s=n(3739);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=o,c.prototype.set=s,t.exports=c},8319:function(t,e,n){var r=n(8136)(n(7009),"Promise");t.exports=r},3924:function(t,e,n){var r=n(8136)(n(7009),"Set");t.exports=r},692:function(t,e,n){var r=n(8059),i=n(5774),a=n(1596);function o(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,t.exports=o},2854:function(t,e,n){var r=n(8384),i=n(511),a=n(835),o=n(707),s=n(8832),c=n(5077);function u(t){var e=this.__data__=new r(t);this.size=e.size}u.prototype.clear=i,u.prototype.delete=a,u.prototype.get=o,u.prototype.has=s,u.prototype.set=c,t.exports=u},7197:function(t,e,n){var r=n(7009).Symbol;t.exports=r},6219:function(t,e,n){var r=n(7009).Uint8Array;t.exports=r},7091:function(t,e,n){var r=n(8136)(n(7009),"WeakMap");t.exports=r},3665:function(t){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},4550:function(t){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},4903:function(t){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}},9055:function(t,e,n){var r=n(4842);t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}},7538:function(t,e,n){var r=n(6478),i=n(4963),a=n(3629),o=n(5174),s=n(6800),c=n(9102),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=a(t),l=!n&&i(t),f=!n&&!l&&o(t),h=!n&&!l&&!f&&c(t),d=n||l||f||h,p=d?r(t.length,String):[],g=p.length;for(var y in t)!e&&!u.call(t,y)||d&&("length"==y||f&&("offset"==y||"parent"==y)||h&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,g))||p.push(y);return p}},8950:function(t){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},1705:function(t){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},7897:function(t){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},8463:function(t,e,n){var r=n(2526),i=n(9231),a=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var o=t[e];a.call(t,e)&&i(o,n)&&(void 0!==n||e in t)||r(t,e,n)}},7112:function(t,e,n){var r=n(9231);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},1855:function(t,e,n){var r=n(4503),i=n(2742);t.exports=function(t,e){return t&&r(e,i(e),t)}},5076:function(t,e,n){var r=n(4503),i=n(3961);t.exports=function(t,e){return t&&r(e,i(e),t)}},2526:function(t,e,n){var r=n(8528);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},1905:function(t,e,n){var r=n(2854),i=n(4550),a=n(8463),o=n(1855),s=n(5076),c=n(4523),u=n(291),l=n(2455),f=n(7636),h=n(8248),d=n(5341),p=n(8383),g=n(9243),y=n(9759),v=n(548),m=n(3629),_=n(5174),b=n(103),w=n(8092),x=n(6995),k=n(2742),C=n(3961),E="[object Arguments]",A="[object Function]",S="[object Object]",T={};T[E]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[S]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[A]=T["[object WeakMap]"]=!1,t.exports=function t(e,n,P,O,R,L){var M,I=1&n,D=2&n,N=4&n;if(P&&(M=R?P(e,O,R,L):P(e)),void 0!==M)return M;if(!w(e))return e;var F=m(e);if(F){if(M=g(e),!I)return u(e,M)}else{var j=p(e),W=j==A||"[object GeneratorFunction]"==j;if(_(e))return c(e,I);if(j==S||j==E||W&&!R){if(M=D||W?{}:v(e),!I)return D?f(e,s(M,e)):l(e,o(M,e))}else{if(!T[j])return R?e:{};M=y(e,j,I)}}L||(L=new r);var G=L.get(e);if(G)return G;L.set(e,M),x(e)?e.forEach((function(r){M.add(t(r,n,P,r,e,L))})):b(e)&&e.forEach((function(r,i){M.set(i,t(r,n,P,i,e,L))}));var z=F?void 0:(N?D?d:h:D?C:k)(e);return i(z||e,(function(r,i){z&&(r=e[i=r]),a(M,i,t(r,n,P,i,e,L))})),M}},5763:function(t,e,n){var r=n(8092),i=Object.create,a=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=a},2045:function(t){t.exports=function(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}},5182:function(t,e,n){var r=n(1705),i=n(3529);t.exports=function t(e,n,a,o,s){var c=-1,u=e.length;for(a||(a=i),s||(s=[]);++c<u;){var l=e[c];n>0&&a(l)?n>1?t(l,n-1,a,o,s):r(s,l):o||(s[s.length]=l)}return s}},8667:function(t,e,n){var r=n(3082),i=n(9793);t.exports=function(t,e){for(var n=0,a=(e=r(e,t)).length;null!=t&&n<a;)t=t[i(e[n++])];return n&&n==a?t:void 0}},1986:function(t,e,n){var r=n(1705),i=n(3629);t.exports=function(t,e,n){var a=e(t);return i(t)?a:r(a,n(t))}},9066:function(t,e,n){var r=n(7197),i=n(1587),a=n(3581),o=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":o&&o in Object(t)?i(t):a(t)}},529:function(t){t.exports=function(t,e){return null!=t&&e in Object(t)}},4842:function(t,e,n){var r=n(2045),i=n(505),a=n(7167);t.exports=function(t,e,n){return e===e?a(t,e,n):r(t,i,n)}},4906:function(t,e,n){var r=n(9066),i=n(3141);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},1848:function(t,e,n){var r=n(3355),i=n(3141);t.exports=function t(e,n,a,o,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!==e&&n!==n:r(e,n,a,o,t,s))}},3355:function(t,e,n){var r=n(2854),i=n(5305),a=n(2206),o=n(8078),s=n(8383),c=n(3629),u=n(5174),l=n(9102),f="[object Arguments]",h="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,g,y,v){var m=c(t),_=c(e),b=m?h:s(t),w=_?h:s(e),x=(b=b==f?d:b)==d,k=(w=w==f?d:w)==d,C=b==w;if(C&&u(t)){if(!u(e))return!1;m=!0,x=!1}if(C&&!x)return v||(v=new r),m||l(t)?i(t,e,n,g,y,v):a(t,e,b,n,g,y,v);if(!(1&n)){var E=x&&p.call(t,"__wrapped__"),A=k&&p.call(e,"__wrapped__");if(E||A){var S=E?t.value():t,T=A?e.value():e;return v||(v=new r),y(S,T,n,g,v)}}return!!C&&(v||(v=new r),o(t,e,n,g,y,v))}},3085:function(t,e,n){var r=n(8383),i=n(3141);t.exports=function(t){return i(t)&&"[object Map]"==r(t)}},8856:function(t,e,n){var r=n(2854),i=n(1848);t.exports=function(t,e,n,a){var o=n.length,s=o,c=!a;if(null==t)return!s;for(t=Object(t);o--;){var u=n[o];if(c&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<s;){var l=(u=n[o])[0],f=t[l],h=u[1];if(c&&u[2]){if(void 0===f&&!(l in t))return!1}else{var d=new r;if(a)var p=a(f,h,l,t,e,d);if(!(void 0===p?i(h,f,3,a,d):p))return!1}}return!0}},505:function(t){t.exports=function(t){return t!==t}},6703:function(t,e,n){var r=n(4786),i=n(257),a=n(8092),o=n(7907),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,f=u.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!a(t)||i(t))&&(r(t)?h:s).test(o(t))}},8680:function(t,e,n){var r=n(8383),i=n(3141);t.exports=function(t){return i(t)&&"[object Set]"==r(t)}},8150:function(t,e,n){var r=n(9066),i=n(4635),a=n(3141),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,t.exports=function(t){return a(t)&&i(t.length)&&!!o[r(t)]}},6025:function(t,e,n){var r=n(7080),i=n(4322),a=n(2100),o=n(3629),s=n(38);t.exports=function(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?o(t)?i(t[0],t[1]):r(t):s(t)}},3654:function(t,e,n){var r=n(2936),i=n(5964),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))a.call(t,n)&&"constructor"!=n&&e.push(n);return e}},8664:function(t,e,n){var r=n(8092),i=n(2936),a=n(4221),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return a(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&o.call(t,s))&&n.push(s);return n}},8807:function(t){t.exports=function(){}},7080:function(t,e,n){var r=n(8856),i=n(9091),a=n(284);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},4322:function(t,e,n){var r=n(1848),i=n(6181),a=n(5658),o=n(5823),s=n(5072),c=n(284),u=n(9793);t.exports=function(t,e){return o(t)&&s(e)?c(u(t),e):function(n){var o=i(n,t);return void 0===o&&o===e?a(n,t):r(e,o,3)}}},9586:function(t){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},4084:function(t,e,n){var r=n(8667);t.exports=function(t){return function(e){return r(e,t)}}},7026:function(t,e,n){var r=n(2100),i=n(1921),a=i?function(t,e){return i.set(t,e),t}:r;t.exports=a},7532:function(t,e,n){var r=n(1547),i=n(8528),a=n(2100),o=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:a;t.exports=o},6478:function(t){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},2446:function(t,e,n){var r=n(7197),i=n(8950),a=n(3629),o=n(152),s=r?r.prototype:void 0,c=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(a(e))return i(e,t)+"";if(o(e))return c?c.call(e):"";var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n}},821:function(t,e,n){var r=n(6050),i=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(i,""):t}},6194:function(t){t.exports=function(t){return function(e){return t(e)}}},75:function(t){t.exports=function(t,e){return t.has(e)}},3082:function(t,e,n){var r=n(3629),i=n(5823),a=n(170),o=n(3518);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:a(o(t))}},7010:function(t,e,n){var r=n(6219);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},4523:function(t,e,n){t=n.nmd(t);var r=n(7009),i=e&&!e.nodeType&&e,a=i&&t&&!t.nodeType&&t,o=a&&a.exports===i?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}},1022:function(t,e,n){var r=n(7010);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},8503:function(t){var e=/\w*$/;t.exports=function(t){var n=new t.constructor(t.source,e.exec(t));return n.lastIndex=t.lastIndex,n}},4720:function(t,e,n){var r=n(7197),i=r?r.prototype:void 0,a=i?i.valueOf:void 0;t.exports=function(t){return a?Object(a.call(t)):{}}},613:function(t,e,n){var r=n(7010);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},6557:function(t){var e=Math.max;t.exports=function(t,n,r,i){for(var a=-1,o=t.length,s=r.length,c=-1,u=n.length,l=e(o-s,0),f=Array(u+l),h=!i;++c<u;)f[c]=n[c];for(;++a<s;)(h||a<o)&&(f[r[a]]=t[a]);for(;l--;)f[c++]=t[a++];return f}},449:function(t){var e=Math.max;t.exports=function(t,n,r,i){for(var a=-1,o=t.length,s=-1,c=r.length,u=-1,l=n.length,f=e(o-c,0),h=Array(f+l),d=!i;++a<f;)h[a]=t[a];for(var p=a;++u<l;)h[p+u]=n[u];for(;++s<c;)(d||a<o)&&(h[p+r[s]]=t[a++]);return h}},291:function(t){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},4503:function(t,e,n){var r=n(8463),i=n(2526);t.exports=function(t,e,n,a){var o=!n;n||(n={});for(var s=-1,c=e.length;++s<c;){var u=e[s],l=a?a(n[u],t[u],u,n,t):void 0;void 0===l&&(l=t[u]),o?i(n,u,l):r(n,u,l)}return n}},2455:function(t,e,n){var r=n(4503),i=n(5918);t.exports=function(t,e){return r(t,i(t),e)}},7636:function(t,e,n){var r=n(4503),i=n(8487);t.exports=function(t,e){return r(t,i(t),e)}},5525:function(t,e,n){var r=n(7009)["__core-js_shared__"];t.exports=r},4498:function(t){t.exports=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}},5006:function(t,e,n){var r=n(777),i=n(7009);t.exports=function(t,e,n){var a=1&e,o=r(t);return function e(){var r=this&&this!==i&&this instanceof e?o:t;return r.apply(a?n:this,arguments)}}},777:function(t,e,n){var r=n(5763),i=n(8092);t.exports=function(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=r(t.prototype),a=t.apply(n,e);return i(a)?a:n}}},3884:function(t,e,n){var r=n(3665),i=n(777),a=n(997),o=n(5607),s=n(3885),c=n(2784),u=n(7009);t.exports=function(t,e,n){var l=i(t);return function i(){for(var f=arguments.length,h=Array(f),d=f,p=s(i);d--;)h[d]=arguments[d];var g=f<3&&h[0]!==p&&h[f-1]!==p?[]:c(h,p);if((f-=g.length)<n)return o(t,e,a,i.placeholder,void 0,h,g,void 0,void 0,n-f);var y=this&&this!==u&&this instanceof i?l:t;return r(y,this,h)}}},8026:function(t,e,n){var r=n(5598),i=n(7038),a=n(2192),o=n(9560),s=n(3629),c=n(8156);t.exports=function(t){return i((function(e){var n=e.length,i=n,u=r.prototype.thru;for(t&&e.reverse();i--;){var l=e[i];if("function"!=typeof l)throw new TypeError("Expected a function");if(u&&!f&&"wrapper"==o(l))var f=new r([],!0)}for(i=f?i:n;++i<n;){l=e[i];var h=o(l),d="wrapper"==h?a(l):void 0;f=d&&c(d[0])&&424==d[1]&&!d[4].length&&1==d[9]?f[o(d[0])].apply(f,d[3]):1==l.length&&c(l)?f[h]():f.thru(l)}return function(){var t=arguments,r=t[0];if(f&&1==t.length&&s(r))return f.plant(r).value();for(var i=0,a=n?e[i].apply(this,t):r;++i<n;)a=e[i].call(this,a);return a}}))}},997:function(t,e,n){var r=n(6557),i=n(449),a=n(4498),o=n(777),s=n(5607),c=n(3885),u=n(4794),l=n(2784),f=n(7009);t.exports=function t(e,n,h,d,p,g,y,v,m,_){var b=128&n,w=1&n,x=2&n,k=24&n,C=512&n,E=x?void 0:o(e);return function A(){for(var S=arguments.length,T=Array(S),P=S;P--;)T[P]=arguments[P];if(k)var O=c(A),R=a(T,O);if(d&&(T=r(T,d,p,k)),g&&(T=i(T,g,y,k)),S-=R,k&&S<_){var L=l(T,O);return s(e,n,t,A.placeholder,h,T,L,v,m,_-S)}var M=w?h:this,I=x?M[e]:e;return S=T.length,v?T=u(T,v):C&&S>1&&T.reverse(),b&&m<S&&(T.length=m),this&&this!==f&&this instanceof A&&(I=E||o(I)),I.apply(M,T)}}},3346:function(t,e,n){var r=n(3665),i=n(777),a=n(7009);t.exports=function(t,e,n,o){var s=1&e,c=i(t);return function e(){for(var i=-1,u=arguments.length,l=-1,f=o.length,h=Array(f+u),d=this&&this!==a&&this instanceof e?c:t;++l<f;)h[l]=o[l];for(;u--;)h[l++]=arguments[++i];return r(d,s?n:this,h)}}},5607:function(t,e,n){var r=n(8156),i=n(6226),a=n(4603);t.exports=function(t,e,n,o,s,c,u,l,f,h){var d=8&e;e|=d?32:64,4&(e&=~(d?64:32))||(e&=-4);var p=[t,e,s,d?c:void 0,d?u:void 0,d?void 0:c,d?void 0:u,l,f,h],g=n.apply(void 0,p);return r(t)&&i(g,p),g.placeholder=o,a(g,t,e)}},1121:function(t,e,n){var r=n(7026),i=n(5006),a=n(3884),o=n(997),s=n(3346),c=n(2192),u=n(7935),l=n(6226),f=n(4603),h=n(9753),d=Math.max;t.exports=function(t,e,n,p,g,y,v,m){var _=2&e;if(!_&&"function"!=typeof t)throw new TypeError("Expected a function");var b=p?p.length:0;if(b||(e&=-97,p=g=void 0),v=void 0===v?v:d(h(v),0),m=void 0===m?m:h(m),b-=g?g.length:0,64&e){var w=p,x=g;p=g=void 0}var k=_?void 0:c(t),C=[t,e,n,p,g,w,x,y,v,m];if(k&&u(C,k),t=C[0],e=C[1],n=C[2],p=C[3],g=C[4],!(m=C[9]=void 0===C[9]?_?0:t.length:d(C[9]-b,0))&&24&e&&(e&=-25),e&&1!=e)E=8==e||16==e?a(t,e,m):32!=e&&33!=e||g.length?o.apply(void 0,C):s(t,e,n,p);else var E=i(t,e,n);return f((k?r:l)(E,C),t,e)}},8528:function(t,e,n){var r=n(8136),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=i},5305:function(t,e,n){var r=n(692),i=n(7897),a=n(75);t.exports=function(t,e,n,o,s,c){var u=1&n,l=t.length,f=e.length;if(l!=f&&!(u&&f>l))return!1;var h=c.get(t),d=c.get(e);if(h&&d)return h==e&&d==t;var p=-1,g=!0,y=2&n?new r:void 0;for(c.set(t,e),c.set(e,t);++p<l;){var v=t[p],m=e[p];if(o)var _=u?o(m,v,p,e,t,c):o(v,m,p,t,e,c);if(void 0!==_){if(_)continue;g=!1;break}if(y){if(!i(e,(function(t,e){if(!a(y,e)&&(v===t||s(v,t,n,o,c)))return y.push(e)}))){g=!1;break}}else if(v!==m&&!s(v,m,n,o,c)){g=!1;break}}return c.delete(t),c.delete(e),g}},2206:function(t,e,n){var r=n(7197),i=n(6219),a=n(9231),o=n(5305),s=n(234),c=n(2230),u=r?r.prototype:void 0,l=u?u.valueOf:void 0;t.exports=function(t,e,n,r,u,f,h){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!f(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var d=s;case"[object Set]":var p=1&r;if(d||(d=c),t.size!=e.size&&!p)return!1;var g=h.get(t);if(g)return g==e;r|=2,h.set(t,e);var y=o(d(t),d(e),r,u,f,h);return h.delete(t),y;case"[object Symbol]":if(l)return l.call(t)==l.call(e)}return!1}},8078:function(t,e,n){var r=n(8248),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,a,o,s){var c=1&n,u=r(t),l=u.length;if(l!=r(e).length&&!c)return!1;for(var f=l;f--;){var h=u[f];if(!(c?h in e:i.call(e,h)))return!1}var d=s.get(t),p=s.get(e);if(d&&p)return d==e&&p==t;var g=!0;s.set(t,e),s.set(e,t);for(var y=c;++f<l;){var v=t[h=u[f]],m=e[h];if(a)var _=c?a(m,v,h,e,t,s):a(v,m,h,t,e,s);if(!(void 0===_?v===m||o(v,m,n,a,s):_)){g=!1;break}y||(y="constructor"==h)}if(g&&!y){var b=t.constructor,w=e.constructor;b==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(g=!1)}return s.delete(t),s.delete(e),g}},7038:function(t,e,n){var r=n(5506),i=n(4262),a=n(9156);t.exports=function(t){return a(i(t,void 0,r),t+"")}},1032:function(t,e,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},8248:function(t,e,n){var r=n(1986),i=n(5918),a=n(2742);t.exports=function(t){return r(t,a,i)}},5341:function(t,e,n){var r=n(1986),i=n(8487),a=n(3961);t.exports=function(t){return r(t,a,i)}},2192:function(t,e,n){var r=n(1921),i=n(9694),a=r?function(t){return r.get(t)}:i;t.exports=a},9560:function(t,e,n){var r=n(583),i=Object.prototype.hasOwnProperty;t.exports=function(t){for(var e=t.name+"",n=r[e],a=i.call(r,e)?n.length:0;a--;){var o=n[a],s=o.func;if(null==s||s==t)return o.name}return e}},3885:function(t){t.exports=function(t){return t.placeholder}},2799:function(t,e,n){var r=n(9518);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},9091:function(t,e,n){var r=n(5072),i=n(2742);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var a=e[n],o=t[a];e[n]=[a,o,r(o)]}return e}},8136:function(t,e,n){var r=n(6703),i=n(40);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},1137:function(t,e,n){var r=n(2709)(Object.getPrototypeOf,Object);t.exports=r},1587:function(t,e,n){var r=n(7197),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=a.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(c){}var i=o.call(t);return r&&(e?t[s]=n:delete t[s]),i}},5918:function(t,e,n){var r=n(4903),i=n(9810),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(t){return null==t?[]:(t=Object(t),r(o(t),(function(e){return a.call(t,e)})))}:i;t.exports=s},8487:function(t,e,n){var r=n(1705),i=n(1137),a=n(5918),o=n(9810),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,a(t)),t=i(t);return e}:o;t.exports=s},8383:function(t,e,n){var r=n(908),i=n(5797),a=n(8319),o=n(3924),s=n(7091),c=n(9066),u=n(7907),l="[object Map]",f="[object Promise]",h="[object Set]",d="[object WeakMap]",p="[object DataView]",g=u(r),y=u(i),v=u(a),m=u(o),_=u(s),b=c;(r&&b(new r(new ArrayBuffer(1)))!=p||i&&b(new i)!=l||a&&b(a.resolve())!=f||o&&b(new o)!=h||s&&b(new s)!=d)&&(b=function(t){var e=c(t),n="[object Object]"==e?t.constructor:void 0,r=n?u(n):"";if(r)switch(r){case g:return p;case y:return l;case v:return f;case m:return h;case _:return d}return e}),t.exports=b},40:function(t){t.exports=function(t,e){return null==t?void 0:t[e]}},2812:function(t){var e=/\{\n\/\* \[wrapped with (.+)\] \*/,n=/,? & /;t.exports=function(t){var r=t.match(e);return r?r[1].split(n):[]}},6417:function(t,e,n){var r=n(3082),i=n(4963),a=n(3629),o=n(6800),s=n(4635),c=n(9793);t.exports=function(t,e,n){for(var u=-1,l=(e=r(e,t)).length,f=!1;++u<l;){var h=c(e[u]);if(!(f=null!=t&&n(t,h)))break;t=t[h]}return f||++u!=l?f:!!(l=null==t?0:t.length)&&s(l)&&o(h,l)&&(a(t)||i(t))}},5403:function(t,e,n){var r=n(9620);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(t){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},6037:function(t,e,n){var r=n(9620),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},4154:function(t,e,n){var r=n(9620),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},7728:function(t,e,n){var r=n(9620);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},9243:function(t){var e=Object.prototype.hasOwnProperty;t.exports=function(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},9759:function(t,e,n){var r=n(7010),i=n(1022),a=n(8503),o=n(4720),s=n(613);t.exports=function(t,e,n){var c=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new c(+t);case"[object DataView]":return i(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,n);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(t);case"[object RegExp]":return a(t);case"[object Symbol]":return o(t)}}},548:function(t,e,n){var r=n(5763),i=n(1137),a=n(2936);t.exports=function(t){return"function"!=typeof t.constructor||a(t)?{}:r(i(t))}},7795:function(t){var e=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;t.exports=function(t,n){var r=n.length;if(!r)return t;var i=r-1;return n[i]=(r>1?"& ":"")+n[i],n=n.join(r>2?", ":" "),t.replace(e,"{\n/* [wrapped with "+n+"] */\n")}},3529:function(t,e,n){var r=n(7197),i=n(4963),a=n(3629),o=r?r.isConcatSpreadable:void 0;t.exports=function(t){return a(t)||i(t)||!!(o&&t&&t[o])}},6800:function(t){var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}},5823:function(t,e,n){var r=n(3629),i=n(152),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(o.test(t)||!a.test(t)||null!=e&&t in Object(e))}},9518:function(t){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},8156:function(t,e,n){var r=n(2492),i=n(2192),a=n(9560),o=n(2857);t.exports=function(t){var e=a(t),n=o[e];if("function"!=typeof n||!(e in r.prototype))return!1;if(t===n)return!0;var s=i(n);return!!s&&t===s[0]}},257:function(t,e,n){var r=n(5525),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!i&&i in t}},2936:function(t){var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},5072:function(t,e,n){var r=n(8092);t.exports=function(t){return t===t&&!r(t)}},3894:function(t){t.exports=function(){this.__data__=[],this.size=0}},8699:function(t,e,n){var r=n(7112),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},4957:function(t,e,n){var r=n(7112);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},7184:function(t,e,n){var r=n(7112);t.exports=function(t){return r(this.__data__,t)>-1}},7109:function(t,e,n){var r=n(7112);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},4086:function(t,e,n){var r=n(9676),i=n(8384),a=n(5797);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},9255:function(t,e,n){var r=n(2799);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},9186:function(t,e,n){var r=n(2799);t.exports=function(t){return r(this,t).get(t)}},3423:function(t,e,n){var r=n(2799);t.exports=function(t){return r(this,t).has(t)}},3739:function(t,e,n){var r=n(2799);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},234:function(t){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},284:function(t){t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},4634:function(t,e,n){var r=n(9151);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},7935:function(t,e,n){var r=n(6557),i=n(449),a=n(2784),o="__lodash_placeholder__",s=128,c=Math.min;t.exports=function(t,e){var n=t[1],u=e[1],l=n|u,f=l<131,h=u==s&&8==n||u==s&&256==n&&t[7].length<=e[8]||384==u&&e[7].length<=e[8]&&8==n;if(!f&&!h)return t;1&u&&(t[2]=e[2],l|=1&n?0:4);var d=e[3];if(d){var p=t[3];t[3]=p?r(p,d,e[4]):d,t[4]=p?a(t[3],o):e[4]}return(d=e[5])&&(p=t[5],t[5]=p?i(p,d,e[6]):d,t[6]=p?a(t[5],o):e[6]),(d=e[7])&&(t[7]=d),u&s&&(t[8]=null==t[8]?e[8]:c(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=l,t}},1921:function(t,e,n){var r=n(7091),i=r&&new r;t.exports=i},9620:function(t,e,n){var r=n(8136)(Object,"create");t.exports=r},5964:function(t,e,n){var r=n(2709)(Object.keys,Object);t.exports=r},4221:function(t){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},9494:function(t,e,n){t=n.nmd(t);var r=n(1032),i=e&&!e.nodeType&&e,a=i&&t&&!t.nodeType&&t,o=a&&a.exports===i&&r.process,s=function(){try{var t=a&&a.require&&a.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(e){}}();t.exports=s},3581:function(t){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},2709:function(t){t.exports=function(t,e){return function(n){return t(e(n))}}},4262:function(t,e,n){var r=n(3665),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var a=arguments,o=-1,s=i(a.length-e,0),c=Array(s);++o<s;)c[o]=a[e+o];o=-1;for(var u=Array(e+1);++o<e;)u[o]=a[o];return u[e]=n(c),r(t,this,u)}}},583:function(t){t.exports={}},4794:function(t,e,n){var r=n(291),i=n(6800),a=Math.min;t.exports=function(t,e){for(var n=t.length,o=a(e.length,n),s=r(t);o--;){var c=e[o];t[o]=i(c,n)?s[c]:void 0}return t}},2784:function(t){var e="__lodash_placeholder__";t.exports=function(t,n){for(var r=-1,i=t.length,a=0,o=[];++r<i;){var s=t[r];s!==n&&s!==e||(t[r]=e,o[a++]=r)}return o}},7009:function(t,e,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();t.exports=a},5774:function(t){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},1596:function(t){t.exports=function(t){return this.__data__.has(t)}},6226:function(t,e,n){var r=n(7026),i=n(3197)(r);t.exports=i},2230:function(t){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},9156:function(t,e,n){var r=n(7532),i=n(3197)(r);t.exports=i},4603:function(t,e,n){var r=n(2812),i=n(7795),a=n(9156),o=n(2806);t.exports=function(t,e,n){var s=e+"";return a(t,i(s,o(r(s),n)))}},3197:function(t){var e=Date.now;t.exports=function(t){var n=0,r=0;return function(){var i=e(),a=16-(i-r);if(r=i,a>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},511:function(t,e,n){var r=n(8384);t.exports=function(){this.__data__=new r,this.size=0}},835:function(t){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},707:function(t){t.exports=function(t){return this.__data__.get(t)}},8832:function(t){t.exports=function(t){return this.__data__.has(t)}},5077:function(t,e,n){var r=n(8384),i=n(5797),a=n(8059);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(t,e),this.size=n.size,this}},7167:function(t){t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},170:function(t,e,n){var r=n(4634),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(a,"$1"):n||t)})),e}));t.exports=o},9793:function(t,e,n){var r=n(152);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}},7907:function(t){var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(n){}try{return t+""}catch(n){}}return""}},6050:function(t){var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},2806:function(t,e,n){var r=n(4550),i=n(9055),a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];t.exports=function(t,e){return r(a,(function(n){var r="_."+n[0];e&n[1]&&!i(t,r)&&t.push(r)})),t.sort()}},8878:function(t,e,n){var r=n(2492),i=n(5598),a=n(291);t.exports=function(t){if(t instanceof r)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=a(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}},9991:function(t,e,n){var r=n(1121);t.exports=function(t,e,n){return e=n?void 0:e,e=t&&null==e?t.length:e,r(t,128,void 0,void 0,void 0,void 0,e)}},8787:function(t,e,n){var r=n(1905);t.exports=function(t){return r(t,4)}},1547:function(t){t.exports=function(t){return function(){return t}}},5129:function(t,e,n){var r=n(1121);function i(t,e,n){var a=r(t,8,void 0,void 0,void 0,void 0,void 0,e=n?void 0:e);return a.placeholder=i.placeholder,a}i.placeholder={},t.exports=i},9231:function(t){t.exports=function(t,e){return t===e||t!==t&&e!==e}},5506:function(t,e,n){var r=n(5182);t.exports=function(t){return(null==t?0:t.length)?r(t,1):[]}},6829:function(t,e,n){var r=n(8026)();t.exports=r},4717:function(t,e,n){var r=n(767),i=n(8485),a=Array.prototype.push;function o(t,e){return 2==e?function(e,n){return t(e,n)}:function(e){return t(e)}}function s(t){for(var e=t?t.length:0,n=Array(e);e--;)n[e]=t[e];return n}function c(t,e){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var i=r[0]=e.apply(void 0,r);return t.apply(void 0,r),i}}}t.exports=function t(e,n,u,l){var f="function"==typeof n,h=n===Object(n);if(h&&(l=u,u=n,n=void 0),null==u)throw new TypeError;l||(l={});var d=!("cap"in l)||l.cap,p=!("curry"in l)||l.curry,g=!("fixed"in l)||l.fixed,y=!("immutable"in l)||l.immutable,v=!("rearg"in l)||l.rearg,m=f?u:i,_="curry"in l&&l.curry,b="fixed"in l&&l.fixed,w="rearg"in l&&l.rearg,x=f?u.runInContext():void 0,k=f?u:{ary:e.ary,assign:e.assign,clone:e.clone,curry:e.curry,forEach:e.forEach,isArray:e.isArray,isError:e.isError,isFunction:e.isFunction,isWeakMap:e.isWeakMap,iteratee:e.iteratee,keys:e.keys,rearg:e.rearg,toInteger:e.toInteger,toPath:e.toPath},C=k.ary,E=k.assign,A=k.clone,S=k.curry,T=k.forEach,P=k.isArray,O=k.isError,R=k.isFunction,L=k.isWeakMap,M=k.keys,I=k.rearg,D=k.toInteger,N=k.toPath,F=M(r.aryMethod),j={castArray:function(t){return function(){var e=arguments[0];return P(e)?t(s(e)):t.apply(void 0,arguments)}},iteratee:function(t){return function(){var e=arguments[0],n=arguments[1],r=t(e,n),i=r.length;return d&&"number"==typeof n?(n=n>2?n-2:1,i&&i<=n?r:o(r,n)):r}},mixin:function(t){return function(e){var n=this;if(!R(n))return t(n,Object(e));var r=[];return T(M(e),(function(t){R(e[t])&&r.push([t,n.prototype[t]])})),t(n,Object(e)),T(r,(function(t){var e=t[1];R(e)?n.prototype[t[0]]=e:delete n.prototype[t[0]]})),n}},nthArg:function(t){return function(e){var n=e<0?1:D(e)+1;return S(t(e),n)}},rearg:function(t){return function(e,n){var r=n?n.length:0;return S(t(e,n),r)}},runInContext:function(n){return function(r){return t(e,n(r),l)}}};function W(t,e){if(d){var n=r.iterateeRearg[t];if(n)return function(t,e){return H(t,(function(t){var n=e.length;return function(t,e){return 2==e?function(e,n){return t.apply(void 0,arguments)}:function(e){return t.apply(void 0,arguments)}}(I(o(t,n),e),n)}))}(e,n);var i=!f&&r.iterateeAry[t];if(i)return function(t,e){return H(t,(function(t){return"function"==typeof t?o(t,e):t}))}(e,i)}return e}function G(t,e,n){if(g&&(b||!r.skipFixed[t])){var i=r.methodSpread[t],o=i&&i.start;return void 0===o?C(e,n):function(t,e){return function(){for(var n=arguments.length,r=n-1,i=Array(n);n--;)i[n]=arguments[n];var o=i[e],s=i.slice(0,e);return o&&a.apply(s,o),e!=r&&a.apply(s,i.slice(e+1)),t.apply(this,s)}}(e,o)}return e}function z(t,e,n){return v&&n>1&&(w||!r.skipRearg[t])?I(e,r.methodRearg[t]||r.aryRearg[n]):e}function U(t,e){for(var n=-1,r=(e=N(e)).length,i=r-1,a=A(Object(t)),o=a;null!=o&&++n<r;){var s=e[n],c=o[s];null==c||R(c)||O(c)||L(c)||(o[s]=A(n==i?c:Object(c))),o=o[s]}return a}function B(e,n){var i=r.aliasToReal[e]||e,a=r.remap[i]||i,o=l;return function(e){var r=f?x:k,s=f?x[a]:n,c=E(E({},o),e);return t(r,i,s,c)}}function H(t,e){return function(){var n=arguments.length;if(!n)return t();for(var r=Array(n);n--;)r[n]=arguments[n];var i=v?0:n-1;return r[i]=e(r[i]),t.apply(void 0,r)}}function V(t,e,n){var i,a=r.aliasToReal[t]||t,o=e,u=j[a];return u?o=u(e):y&&(r.mutate.array[a]?o=c(e,s):r.mutate.object[a]?o=c(e,function(t){return function(e){return t({},e)}}(e)):r.mutate.set[a]&&(o=c(e,U))),T(F,(function(t){return T(r.aryMethod[t],(function(e){if(a==e){var n=r.methodSpread[a],s=n&&n.afterRearg;return i=s?G(a,z(a,o,t),t):z(a,G(a,o,t),t),i=function(t,e,n){return _||p&&n>1?S(e,n):e}(0,i=W(a,i),t),!1}})),!i})),i||(i=o),i==e&&(i=_?S(i,1):function(){return e.apply(this,arguments)}),i.convert=B(a,e),i.placeholder=e.placeholder=n,i}if(!h)return V(n,u,m);var q=u,K=[];return T(F,(function(t){T(r.aryMethod[t],(function(t){var e=q[r.remap[t]||t];e&&K.push([t,V(t,e,q)])}))})),T(M(q),(function(t){var e=q[t];if("function"==typeof e){for(var n=K.length;n--;)if(K[n][0]==t)return;e.convert=B(t,e),K.push([t,e])}})),T(K,(function(t){q[t[0]]=t[1]})),q.convert=function(t){return q.runInContext.convert(t)(void 0)},q.placeholder=q,T(M(q),(function(t){T(r.realToAlias[t]||[],(function(e){q[e]=q[t]}))})),q}},767:function(t,e){e.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},e.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},e.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},e.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},e.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},e.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},e.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},e.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},e.realToAlias=function(){var t=Object.prototype.hasOwnProperty,n=e.aliasToReal,r={};for(var i in n){var a=n[i];t.call(r,a)?r[a].push(i):r[a]=[i]}return r}(),e.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},e.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},e.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},2635:function(t,e,n){t.exports={ary:n(9991),assign:n(1855),clone:n(8787),curry:n(5129),forEach:n(4550),isArray:n(3629),isError:n(3908),isFunction:n(4786),isWeakMap:n(5183),iteratee:n(8608),keys:n(3654),rearg:n(1968),toInteger:n(9753),toPath:n(168)}},1294:function(t,e,n){var r=n(4717),i=n(2635);t.exports=function(t,e,n){return r(i,t,e,n)}},4808:function(t,e,n){var r=n(1294)("flow",n(6829));r.placeholder=n(8485),t.exports=r},146:function(t,e,n){t.exports=n(4808)},8485:function(t){t.exports={}},6181:function(t,e,n){var r=n(8667);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},5658:function(t,e,n){var r=n(529),i=n(6417);t.exports=function(t,e){return null!=t&&i(t,e,r)}},2100:function(t){t.exports=function(t){return t}},4963:function(t,e,n){var r=n(4906),i=n(3141),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return i(t)&&o.call(t,"callee")&&!s.call(t,"callee")};t.exports=c},3629:function(t){var e=Array.isArray;t.exports=e},1473:function(t,e,n){var r=n(4786),i=n(4635);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},5174:function(t,e,n){t=n.nmd(t);var r=n(7009),i=n(9488),a=e&&!e.nodeType&&e,o=a&&t&&!t.nodeType&&t,s=o&&o.exports===a?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;t.exports=c},3908:function(t,e,n){var r=n(9066),i=n(3141),a=n(3977);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Error]"==e||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!a(t)}},4786:function(t,e,n){var r=n(9066),i=n(8092);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},4635:function(t){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},103:function(t,e,n){var r=n(3085),i=n(6194),a=n(9494),o=a&&a.isMap,s=o?i(o):r;t.exports=s},8092:function(t){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},3141:function(t){t.exports=function(t){return null!=t&&"object"==typeof t}},3977:function(t,e,n){var r=n(9066),i=n(1137),a=n(3141),o=Function.prototype,s=Object.prototype,c=o.toString,u=s.hasOwnProperty,l=c.call(Object);t.exports=function(t){if(!a(t)||"[object Object]"!=r(t))return!1;var e=i(t);if(null===e)return!0;var n=u.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==l}},6995:function(t,e,n){var r=n(8680),i=n(6194),a=n(9494),o=a&&a.isSet,s=o?i(o):r;t.exports=s},152:function(t,e,n){var r=n(9066),i=n(3141);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},9102:function(t,e,n){var r=n(8150),i=n(6194),a=n(9494),o=a&&a.isTypedArray,s=o?i(o):r;t.exports=s},5183:function(t,e,n){var r=n(8383),i=n(3141);t.exports=function(t){return i(t)&&"[object WeakMap]"==r(t)}},8608:function(t,e,n){var r=n(1905),i=n(6025);t.exports=function(t){return i("function"==typeof t?t:r(t,1))}},2742:function(t,e,n){var r=n(7538),i=n(3654),a=n(1473);t.exports=function(t){return a(t)?r(t):i(t)}},3961:function(t,e,n){var r=n(7538),i=n(8664),a=n(1473);t.exports=function(t){return a(t)?r(t,!0):i(t)}},763:function(t,e,n){var r;t=n.nmd(t),function(){var i,a="Expected a function",o="__lodash_hash_undefined__",s="__lodash_placeholder__",c=16,u=32,l=64,f=128,h=256,d=1/0,p=9007199254740991,g=NaN,y=4294967295,v=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",c],["flip",512],["partial",u],["partialRight",l],["rearg",h]],m="[object Arguments]",_="[object Array]",b="[object Boolean]",w="[object Date]",x="[object Error]",k="[object Function]",C="[object GeneratorFunction]",E="[object Map]",A="[object Number]",S="[object Object]",T="[object Promise]",P="[object RegExp]",O="[object Set]",R="[object String]",L="[object Symbol]",M="[object WeakMap]",I="[object ArrayBuffer]",D="[object DataView]",N="[object Float32Array]",F="[object Float64Array]",j="[object Int8Array]",W="[object Int16Array]",G="[object Int32Array]",z="[object Uint8Array]",U="[object Uint8ClampedArray]",B="[object Uint16Array]",H="[object Uint32Array]",V=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,X=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,$=RegExp(X.source),Q=RegExp(Y.source),Z=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,it=/[\\^$.*+?()[\]{}|]/g,at=RegExp(it.source),ot=/^\s+/,st=/\s/,ct=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ut=/\{\n\/\* \[wrapped with (.+)\] \*/,lt=/,? & /,ft=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ht=/[()=,{}\[\]\/\s]/,dt=/\\(\\)?/g,pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gt=/\w*$/,yt=/^[-+]0x[0-9a-f]+$/i,vt=/^0b[01]+$/i,mt=/^\[object .+?Constructor\]$/,_t=/^0o[0-7]+$/i,bt=/^(?:0|[1-9]\d*)$/,wt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xt=/($^)/,kt=/['\n\r\u2028\u2029\\]/g,Ct="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Et="\\u2700-\\u27bf",At="a-z\\xdf-\\xf6\\xf8-\\xff",St="A-Z\\xc0-\\xd6\\xd8-\\xde",Tt="\\ufe0e\\ufe0f",Pt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ot="['\u2019]",Rt="[\\ud800-\\udfff]",Lt="["+Pt+"]",Mt="["+Ct+"]",It="\\d+",Dt="[\\u2700-\\u27bf]",Nt="["+At+"]",Ft="[^\\ud800-\\udfff"+Pt+It+Et+At+St+"]",jt="\\ud83c[\\udffb-\\udfff]",Wt="[^\\ud800-\\udfff]",Gt="(?:\\ud83c[\\udde6-\\uddff]){2}",zt="[\\ud800-\\udbff][\\udc00-\\udfff]",Ut="["+St+"]",Bt="(?:"+Nt+"|"+Ft+")",Ht="(?:"+Ut+"|"+Ft+")",Vt="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",qt="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Kt="(?:"+Mt+"|"+jt+")"+"?",Xt="[\\ufe0e\\ufe0f]?",Yt=Xt+Kt+("(?:\\u200d(?:"+[Wt,Gt,zt].join("|")+")"+Xt+Kt+")*"),$t="(?:"+[Dt,Gt,zt].join("|")+")"+Yt,Qt="(?:"+[Wt+Mt+"?",Mt,Gt,zt,Rt].join("|")+")",Zt=RegExp(Ot,"g"),Jt=RegExp(Mt,"g"),te=RegExp(jt+"(?="+jt+")|"+Qt+Yt,"g"),ee=RegExp([Ut+"?"+Nt+"+"+Vt+"(?="+[Lt,Ut,"$"].join("|")+")",Ht+"+"+qt+"(?="+[Lt,Ut+Bt,"$"].join("|")+")",Ut+"?"+Bt+"+"+Vt,Ut+"+"+qt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",It,$t].join("|"),"g"),ne=RegExp("[\\u200d\\ud800-\\udfff"+Ct+Tt+"]"),re=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ie=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ae=-1,oe={};oe[N]=oe[F]=oe[j]=oe[W]=oe[G]=oe[z]=oe[U]=oe[B]=oe[H]=!0,oe[m]=oe[_]=oe[I]=oe[b]=oe[D]=oe[w]=oe[x]=oe[k]=oe[E]=oe[A]=oe[S]=oe[P]=oe[O]=oe[R]=oe[M]=!1;var se={};se[m]=se[_]=se[I]=se[D]=se[b]=se[w]=se[N]=se[F]=se[j]=se[W]=se[G]=se[E]=se[A]=se[S]=se[P]=se[O]=se[R]=se[L]=se[z]=se[U]=se[B]=se[H]=!0,se[x]=se[k]=se[M]=!1;var ce={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ue=parseFloat,le=parseInt,fe="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,he="object"==typeof self&&self&&self.Object===Object&&self,de=fe||he||Function("return this")(),pe=e&&!e.nodeType&&e,ge=pe&&t&&!t.nodeType&&t,ye=ge&&ge.exports===pe,ve=ye&&fe.process,me=function(){try{var t=ge&&ge.require&&ge.require("util").types;return t||ve&&ve.binding&&ve.binding("util")}catch(e){}}(),_e=me&&me.isArrayBuffer,be=me&&me.isDate,we=me&&me.isMap,xe=me&&me.isRegExp,ke=me&&me.isSet,Ce=me&&me.isTypedArray;function Ee(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ae(t,e,n,r){for(var i=-1,a=null==t?0:t.length;++i<a;){var o=t[i];e(r,o,n(o),t)}return r}function Se(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Te(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Pe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Oe(t,e){for(var n=-1,r=null==t?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}function Re(t,e){return!!(null==t?0:t.length)&&ze(t,e,0)>-1}function Le(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Me(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Ie(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function De(t,e,n,r){var i=-1,a=null==t?0:t.length;for(r&&a&&(n=t[++i]);++i<a;)n=e(n,t[i],i,t);return n}function Ne(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Fe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var je=Ve("length");function We(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function Ge(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}function ze(t,e,n){return e===e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Ge(t,Be,n)}function Ue(t,e,n,r){for(var i=n-1,a=t.length;++i<a;)if(r(t[i],e))return i;return-1}function Be(t){return t!==t}function He(t,e){var n=null==t?0:t.length;return n?Xe(t,e)/n:g}function Ve(t){return function(e){return null==e?i:e[t]}}function qe(t){return function(e){return null==t?i:t[e]}}function Ke(t,e,n,r,i){return i(t,(function(t,i,a){n=r?(r=!1,t):e(n,t,i,a)})),n}function Xe(t,e){for(var n,r=-1,a=t.length;++r<a;){var o=e(t[r]);o!==i&&(n=n===i?o:n+o)}return n}function Ye(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function $e(t){return t?t.slice(0,gn(t)+1).replace(ot,""):t}function Qe(t){return function(e){return t(e)}}function Ze(t,e){return Me(e,(function(e){return t[e]}))}function Je(t,e){return t.has(e)}function tn(t,e){for(var n=-1,r=t.length;++n<r&&ze(e,t[n],0)>-1;);return n}function en(t,e){for(var n=t.length;n--&&ze(e,t[n],0)>-1;);return n}function nn(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var rn=qe({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),an=qe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(t){return"\\"+ce[t]}function sn(t){return ne.test(t)}function cn(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function un(t,e){return function(n){return t(e(n))}}function ln(t,e){for(var n=-1,r=t.length,i=0,a=[];++n<r;){var o=t[n];o!==e&&o!==s||(t[n]=s,a[i++]=n)}return a}function fn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function hn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function dn(t){return sn(t)?function(t){var e=te.lastIndex=0;for(;te.test(t);)++e;return e}(t):je(t)}function pn(t){return sn(t)?function(t){return t.match(te)||[]}(t):function(t){return t.split("")}(t)}function gn(t){for(var e=t.length;e--&&st.test(t.charAt(e)););return e}var yn=qe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vn=function t(e){var n=(e=null==e?de:vn.defaults(de.Object(),e,vn.pick(de,ie))).Array,r=e.Date,st=e.Error,Ct=e.Function,Et=e.Math,At=e.Object,St=e.RegExp,Tt=e.String,Pt=e.TypeError,Ot=n.prototype,Rt=Ct.prototype,Lt=At.prototype,Mt=e["__core-js_shared__"],It=Rt.toString,Dt=Lt.hasOwnProperty,Nt=0,Ft=function(){var t=/[^.]+$/.exec(Mt&&Mt.keys&&Mt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),jt=Lt.toString,Wt=It.call(At),Gt=de._,zt=St("^"+It.call(Dt).replace(it,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ut=ye?e.Buffer:i,Bt=e.Symbol,Ht=e.Uint8Array,Vt=Ut?Ut.allocUnsafe:i,qt=un(At.getPrototypeOf,At),Kt=At.create,Xt=Lt.propertyIsEnumerable,Yt=Ot.splice,$t=Bt?Bt.isConcatSpreadable:i,Qt=Bt?Bt.iterator:i,te=Bt?Bt.toStringTag:i,ne=function(){try{var t=ha(At,"defineProperty");return t({},"",{}),t}catch(e){}}(),ce=e.clearTimeout!==de.clearTimeout&&e.clearTimeout,fe=r&&r.now!==de.Date.now&&r.now,he=e.setTimeout!==de.setTimeout&&e.setTimeout,pe=Et.ceil,ge=Et.floor,ve=At.getOwnPropertySymbols,me=Ut?Ut.isBuffer:i,je=e.isFinite,qe=Ot.join,mn=un(At.keys,At),_n=Et.max,bn=Et.min,wn=r.now,xn=e.parseInt,kn=Et.random,Cn=Ot.reverse,En=ha(e,"DataView"),An=ha(e,"Map"),Sn=ha(e,"Promise"),Tn=ha(e,"Set"),Pn=ha(e,"WeakMap"),On=ha(At,"create"),Rn=Pn&&new Pn,Ln={},Mn=Wa(En),In=Wa(An),Dn=Wa(Sn),Nn=Wa(Tn),Fn=Wa(Pn),jn=Bt?Bt.prototype:i,Wn=jn?jn.valueOf:i,Gn=jn?jn.toString:i;function zn(t){if(rs(t)&&!qo(t)&&!(t instanceof Vn)){if(t instanceof Hn)return t;if(Dt.call(t,"__wrapped__"))return Ga(t)}return new Hn(t)}var Un=function(){function t(){}return function(e){if(!ns(e))return{};if(Kt)return Kt(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function Bn(){}function Hn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function Vn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=y,this.__views__=[]}function qn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Kn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Xn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Yn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Xn;++e<n;)this.add(t[e])}function $n(t){var e=this.__data__=new Kn(t);this.size=e.size}function Qn(t,e){var n=qo(t),r=!n&&Vo(t),i=!n&&!r&&$o(t),a=!n&&!r&&!i&&fs(t),o=n||r||i||a,s=o?Ye(t.length,Tt):[],c=s.length;for(var u in t)!e&&!Dt.call(t,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||_a(u,c))||s.push(u);return s}function Zn(t){var e=t.length;return e?t[Yr(0,e-1)]:i}function Jn(t,e){return Na(Oi(t),cr(e,0,t.length))}function tr(t){return Na(Oi(t))}function er(t,e,n){(n!==i&&!Uo(t[e],n)||n===i&&!(e in t))&&or(t,e,n)}function nr(t,e,n){var r=t[e];Dt.call(t,e)&&Uo(r,n)&&(n!==i||e in t)||or(t,e,n)}function rr(t,e){for(var n=t.length;n--;)if(Uo(t[n][0],e))return n;return-1}function ir(t,e,n,r){return dr(t,(function(t,i,a){e(r,t,n(t),a)})),r}function ar(t,e){return t&&Ri(e,Ms(e),t)}function or(t,e,n){"__proto__"==e&&ne?ne(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function sr(t,e){for(var r=-1,a=e.length,o=n(a),s=null==t;++r<a;)o[r]=s?i:Ts(t,e[r]);return o}function cr(t,e,n){return t===t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function ur(t,e,n,r,a,o){var s,c=1&e,u=2&e,l=4&e;if(n&&(s=a?n(t,r,a,o):n(t)),s!==i)return s;if(!ns(t))return t;var f=qo(t);if(f){if(s=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Dt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!c)return Oi(t,s)}else{var h=ga(t),d=h==k||h==C;if($o(t))return Ci(t,c);if(h==S||h==m||d&&!a){if(s=u||d?{}:va(t),!c)return u?function(t,e){return Ri(t,pa(t),e)}(t,function(t,e){return t&&Ri(e,Is(e),t)}(s,t)):function(t,e){return Ri(t,da(t),e)}(t,ar(s,t))}else{if(!se[h])return a?t:{};s=function(t,e,n){var r=t.constructor;switch(e){case I:return Ei(t);case b:case w:return new r(+t);case D:return function(t,e){var n=e?Ei(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case N:case F:case j:case W:case G:case z:case U:case B:case H:return Ai(t,n);case E:return new r;case A:case R:return new r(t);case P:return function(t){var e=new t.constructor(t.source,gt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case O:return new r;case L:return i=t,Wn?At(Wn.call(i)):{}}var i}(t,h,c)}}o||(o=new $n);var p=o.get(t);if(p)return p;o.set(t,s),cs(t)?t.forEach((function(r){s.add(ur(r,e,n,r,t,o))})):is(t)&&t.forEach((function(r,i){s.set(i,ur(r,e,n,i,t,o))}));var g=f?i:(l?u?aa:ia:u?Is:Ms)(t);return Se(g||t,(function(r,i){g&&(r=t[i=r]),nr(s,i,ur(r,e,n,i,t,o))})),s}function lr(t,e,n){var r=n.length;if(null==t)return!r;for(t=At(t);r--;){var a=n[r],o=e[a],s=t[a];if(s===i&&!(a in t)||!o(s))return!1}return!0}function fr(t,e,n){if("function"!=typeof t)throw new Pt(a);return La((function(){t.apply(i,n)}),e)}function hr(t,e,n,r){var i=-1,a=Re,o=!0,s=t.length,c=[],u=e.length;if(!s)return c;n&&(e=Me(e,Qe(n))),r?(a=Le,o=!1):e.length>=200&&(a=Je,o=!1,e=new Yn(e));t:for(;++i<s;){var l=t[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,o&&f===f){for(var h=u;h--;)if(e[h]===f)continue t;c.push(l)}else a(e,f,r)||c.push(l)}return c}zn.templateSettings={escape:Z,evaluate:J,interpolate:tt,variable:"",imports:{_:zn}},zn.prototype=Bn.prototype,zn.prototype.constructor=zn,Hn.prototype=Un(Bn.prototype),Hn.prototype.constructor=Hn,Vn.prototype=Un(Bn.prototype),Vn.prototype.constructor=Vn,qn.prototype.clear=function(){this.__data__=On?On(null):{},this.size=0},qn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},qn.prototype.get=function(t){var e=this.__data__;if(On){var n=e[t];return n===o?i:n}return Dt.call(e,t)?e[t]:i},qn.prototype.has=function(t){var e=this.__data__;return On?e[t]!==i:Dt.call(e,t)},qn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=On&&e===i?o:e,this},Kn.prototype.clear=function(){this.__data__=[],this.size=0},Kn.prototype.delete=function(t){var e=this.__data__,n=rr(e,t);return!(n<0)&&(n==e.length-1?e.pop():Yt.call(e,n,1),--this.size,!0)},Kn.prototype.get=function(t){var e=this.__data__,n=rr(e,t);return n<0?i:e[n][1]},Kn.prototype.has=function(t){return rr(this.__data__,t)>-1},Kn.prototype.set=function(t,e){var n=this.__data__,r=rr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Xn.prototype.clear=function(){this.size=0,this.__data__={hash:new qn,map:new(An||Kn),string:new qn}},Xn.prototype.delete=function(t){var e=la(this,t).delete(t);return this.size-=e?1:0,e},Xn.prototype.get=function(t){return la(this,t).get(t)},Xn.prototype.has=function(t){return la(this,t).has(t)},Xn.prototype.set=function(t,e){var n=la(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Yn.prototype.add=Yn.prototype.push=function(t){return this.__data__.set(t,o),this},Yn.prototype.has=function(t){return this.__data__.has(t)},$n.prototype.clear=function(){this.__data__=new Kn,this.size=0},$n.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},$n.prototype.get=function(t){return this.__data__.get(t)},$n.prototype.has=function(t){return this.__data__.has(t)},$n.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Kn){var r=n.__data__;if(!An||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Xn(r)}return n.set(t,e),this.size=n.size,this};var dr=Ii(wr),pr=Ii(xr,!0);function gr(t,e){var n=!0;return dr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function yr(t,e,n){for(var r=-1,a=t.length;++r<a;){var o=t[r],s=e(o);if(null!=s&&(c===i?s===s&&!ls(s):n(s,c)))var c=s,u=o}return u}function vr(t,e){var n=[];return dr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function mr(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=ma),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?mr(s,e-1,n,r,i):Ie(i,s):r||(i[i.length]=s)}return i}var _r=Di(),br=Di(!0);function wr(t,e){return t&&_r(t,e,Ms)}function xr(t,e){return t&&br(t,e,Ms)}function kr(t,e){return Oe(e,(function(e){return Jo(t[e])}))}function Cr(t,e){for(var n=0,r=(e=bi(e,t)).length;null!=t&&n<r;)t=t[ja(e[n++])];return n&&n==r?t:i}function Er(t,e,n){var r=e(t);return qo(t)?r:Ie(r,n(t))}function Ar(t){return null==t?t===i?"[object Undefined]":"[object Null]":te&&te in At(t)?function(t){var e=Dt.call(t,te),n=t[te];try{t[te]=i;var r=!0}catch(o){}var a=jt.call(t);r&&(e?t[te]=n:delete t[te]);return a}(t):function(t){return jt.call(t)}(t)}function Sr(t,e){return t>e}function Tr(t,e){return null!=t&&Dt.call(t,e)}function Pr(t,e){return null!=t&&e in At(t)}function Or(t,e,r){for(var a=r?Le:Re,o=t[0].length,s=t.length,c=s,u=n(s),l=1/0,f=[];c--;){var h=t[c];c&&e&&(h=Me(h,Qe(e))),l=bn(h.length,l),u[c]=!r&&(e||o>=120&&h.length>=120)?new Yn(c&&h):i}h=t[0];var d=-1,p=u[0];t:for(;++d<o&&f.length<l;){var g=h[d],y=e?e(g):g;if(g=r||0!==g?g:0,!(p?Je(p,y):a(f,y,r))){for(c=s;--c;){var v=u[c];if(!(v?Je(v,y):a(t[c],y,r)))continue t}p&&p.push(y),f.push(g)}}return f}function Rr(t,e,n){var r=null==(t=Ta(t,e=bi(e,t)))?t:t[ja(Qa(e))];return null==r?i:Ee(r,t,n)}function Lr(t){return rs(t)&&Ar(t)==m}function Mr(t,e,n,r,a){return t===e||(null==t||null==e||!rs(t)&&!rs(e)?t!==t&&e!==e:function(t,e,n,r,a,o){var s=qo(t),c=qo(e),u=s?_:ga(t),l=c?_:ga(e),f=(u=u==m?S:u)==S,h=(l=l==m?S:l)==S,d=u==l;if(d&&$o(t)){if(!$o(e))return!1;s=!0,f=!1}if(d&&!f)return o||(o=new $n),s||fs(t)?na(t,e,n,r,a,o):function(t,e,n,r,i,a,o){switch(n){case D:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case I:return!(t.byteLength!=e.byteLength||!a(new Ht(t),new Ht(e)));case b:case w:case A:return Uo(+t,+e);case x:return t.name==e.name&&t.message==e.message;case P:case R:return t==e+"";case E:var s=cn;case O:var c=1&r;if(s||(s=fn),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;r|=2,o.set(t,e);var l=na(s(t),s(e),r,i,a,o);return o.delete(t),l;case L:if(Wn)return Wn.call(t)==Wn.call(e)}return!1}(t,e,u,n,r,a,o);if(!(1&n)){var p=f&&Dt.call(t,"__wrapped__"),g=h&&Dt.call(e,"__wrapped__");if(p||g){var y=p?t.value():t,v=g?e.value():e;return o||(o=new $n),a(y,v,n,r,o)}}if(!d)return!1;return o||(o=new $n),function(t,e,n,r,a,o){var s=1&n,c=ia(t),u=c.length,l=ia(e).length;if(u!=l&&!s)return!1;var f=u;for(;f--;){var h=c[f];if(!(s?h in e:Dt.call(e,h)))return!1}var d=o.get(t),p=o.get(e);if(d&&p)return d==e&&p==t;var g=!0;o.set(t,e),o.set(e,t);var y=s;for(;++f<u;){var v=t[h=c[f]],m=e[h];if(r)var _=s?r(m,v,h,e,t,o):r(v,m,h,t,e,o);if(!(_===i?v===m||a(v,m,n,r,o):_)){g=!1;break}y||(y="constructor"==h)}if(g&&!y){var b=t.constructor,w=e.constructor;b==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(g=!1)}return o.delete(t),o.delete(e),g}(t,e,n,r,a,o)}(t,e,n,r,Mr,a))}function Ir(t,e,n,r){var a=n.length,o=a,s=!r;if(null==t)return!o;for(t=At(t);a--;){var c=n[a];if(s&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<o;){var u=(c=n[a])[0],l=t[u],f=c[1];if(s&&c[2]){if(l===i&&!(u in t))return!1}else{var h=new $n;if(r)var d=r(l,f,u,t,e,h);if(!(d===i?Mr(f,l,3,r,h):d))return!1}}return!0}function Dr(t){return!(!ns(t)||(e=t,Ft&&Ft in e))&&(Jo(t)?zt:mt).test(Wa(t));var e}function Nr(t){return"function"==typeof t?t:null==t?ac:"object"==typeof t?qo(t)?Ur(t[0],t[1]):zr(t):pc(t)}function Fr(t){if(!Ca(t))return mn(t);var e=[];for(var n in At(t))Dt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function jr(t){if(!ns(t))return function(t){var e=[];if(null!=t)for(var n in At(t))e.push(n);return e}(t);var e=Ca(t),n=[];for(var r in t)("constructor"!=r||!e&&Dt.call(t,r))&&n.push(r);return n}function Wr(t,e){return t<e}function Gr(t,e){var r=-1,i=Xo(t)?n(t.length):[];return dr(t,(function(t,n,a){i[++r]=e(t,n,a)})),i}function zr(t){var e=fa(t);return 1==e.length&&e[0][2]?Aa(e[0][0],e[0][1]):function(n){return n===t||Ir(n,t,e)}}function Ur(t,e){return wa(t)&&Ea(e)?Aa(ja(t),e):function(n){var r=Ts(n,t);return r===i&&r===e?Ps(n,t):Mr(e,r,3)}}function Br(t,e,n,r,a){t!==e&&_r(e,(function(o,s){if(a||(a=new $n),ns(o))!function(t,e,n,r,a,o,s){var c=Oa(t,n),u=Oa(e,n),l=s.get(u);if(l)return void er(t,n,l);var f=o?o(c,u,n+"",t,e,s):i,h=f===i;if(h){var d=qo(u),p=!d&&$o(u),g=!d&&!p&&fs(u);f=u,d||p||g?qo(c)?f=c:Yo(c)?f=Oi(c):p?(h=!1,f=Ci(u,!0)):g?(h=!1,f=Ai(u,!0)):f=[]:os(u)||Vo(u)?(f=c,Vo(c)?f=_s(c):ns(c)&&!Jo(c)||(f=va(u))):h=!1}h&&(s.set(u,f),a(f,u,r,o,s),s.delete(u));er(t,n,f)}(t,e,s,n,Br,r,a);else{var c=r?r(Oa(t,s),o,s+"",t,e,a):i;c===i&&(c=o),er(t,s,c)}}),Is)}function Hr(t,e){var n=t.length;if(n)return _a(e+=e<0?n:0,n)?t[e]:i}function Vr(t,e,n){e=e.length?Me(e,(function(t){return qo(t)?function(e){return Cr(e,1===t.length?t[0]:t)}:t})):[ac];var r=-1;e=Me(e,Qe(ua()));var i=Gr(t,(function(t,n,i){var a=Me(e,(function(e){return e(t)}));return{criteria:a,index:++r,value:t}}));return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(i,(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;for(;++r<o;){var c=Si(i[r],a[r]);if(c)return r>=s?c:c*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function qr(t,e,n){for(var r=-1,i=e.length,a={};++r<i;){var o=e[r],s=Cr(t,o);n(s,o)&&ti(a,bi(o,t),s)}return a}function Kr(t,e,n,r){var i=r?Ue:ze,a=-1,o=e.length,s=t;for(t===e&&(e=Oi(e)),n&&(s=Me(t,Qe(n)));++a<o;)for(var c=0,u=e[a],l=n?n(u):u;(c=i(s,l,c,r))>-1;)s!==t&&Yt.call(s,c,1),Yt.call(t,c,1);return t}function Xr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==a){var a=i;_a(i)?Yt.call(t,i,1):hi(t,i)}}return t}function Yr(t,e){return t+ge(kn()*(e-t+1))}function $r(t,e){var n="";if(!t||e<1||e>p)return n;do{e%2&&(n+=t),(e=ge(e/2))&&(t+=t)}while(e);return n}function Qr(t,e){return Ma(Sa(t,e,ac),t+"")}function Zr(t){return Zn(Us(t))}function Jr(t,e){var n=Us(t);return Na(n,cr(e,0,n.length))}function ti(t,e,n,r){if(!ns(t))return t;for(var a=-1,o=(e=bi(e,t)).length,s=o-1,c=t;null!=c&&++a<o;){var u=ja(e[a]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(a!=s){var f=c[u];(l=r?r(f,u,c):i)===i&&(l=ns(f)?f:_a(e[a+1])?[]:{})}nr(c,u,l),c=c[u]}return t}var ei=Rn?function(t,e){return Rn.set(t,e),t}:ac,ni=ne?function(t,e){return ne(t,"toString",{configurable:!0,enumerable:!1,value:nc(e),writable:!0})}:ac;function ri(t){return Na(Us(t))}function ii(t,e,r){var i=-1,a=t.length;e<0&&(e=-e>a?0:a+e),(r=r>a?a:r)<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var o=n(a);++i<a;)o[i]=t[i+e];return o}function ai(t,e){var n;return dr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function oi(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=t[a];null!==o&&!ls(o)&&(n?o<=e:o<e)?r=a+1:i=a}return i}return si(t,e,ac,n)}function si(t,e,n,r){var a=0,o=null==t?0:t.length;if(0===o)return 0;for(var s=(e=n(e))!==e,c=null===e,u=ls(e),l=e===i;a<o;){var f=ge((a+o)/2),h=n(t[f]),d=h!==i,p=null===h,g=h===h,y=ls(h);if(s)var v=r||g;else v=l?g&&(r||d):c?g&&d&&(r||!p):u?g&&d&&!p&&(r||!y):!p&&!y&&(r?h<=e:h<e);v?a=f+1:o=f}return bn(o,4294967294)}function ci(t,e){for(var n=-1,r=t.length,i=0,a=[];++n<r;){var o=t[n],s=e?e(o):o;if(!n||!Uo(s,c)){var c=s;a[i++]=0===o?0:o}}return a}function ui(t){return"number"==typeof t?t:ls(t)?g:+t}function li(t){if("string"==typeof t)return t;if(qo(t))return Me(t,li)+"";if(ls(t))return Gn?Gn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function fi(t,e,n){var r=-1,i=Re,a=t.length,o=!0,s=[],c=s;if(n)o=!1,i=Le;else if(a>=200){var u=e?null:$i(t);if(u)return fn(u);o=!1,i=Je,c=new Yn}else c=e?[]:s;t:for(;++r<a;){var l=t[r],f=e?e(l):l;if(l=n||0!==l?l:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue t;e&&c.push(f),s.push(l)}else i(c,f,n)||(c!==s&&c.push(f),s.push(l))}return s}function hi(t,e){return null==(t=Ta(t,e=bi(e,t)))||delete t[ja(Qa(e))]}function di(t,e,n,r){return ti(t,e,n(Cr(t,e)),r)}function pi(t,e,n,r){for(var i=t.length,a=r?i:-1;(r?a--:++a<i)&&e(t[a],a,t););return n?ii(t,r?0:a,r?a+1:i):ii(t,r?a+1:0,r?i:a)}function gi(t,e){var n=t;return n instanceof Vn&&(n=n.value()),De(e,(function(t,e){return e.func.apply(e.thisArg,Ie([t],e.args))}),n)}function yi(t,e,r){var i=t.length;if(i<2)return i?fi(t[0]):[];for(var a=-1,o=n(i);++a<i;)for(var s=t[a],c=-1;++c<i;)c!=a&&(o[a]=hr(o[a]||s,t[c],e,r));return fi(mr(o,1),e,r)}function vi(t,e,n){for(var r=-1,a=t.length,o=e.length,s={};++r<a;){var c=r<o?e[r]:i;n(s,t[r],c)}return s}function mi(t){return Yo(t)?t:[]}function _i(t){return"function"==typeof t?t:ac}function bi(t,e){return qo(t)?t:wa(t,e)?[t]:Fa(bs(t))}var wi=Qr;function xi(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:ii(t,e,n)}var ki=ce||function(t){return de.clearTimeout(t)};function Ci(t,e){if(e)return t.slice();var n=t.length,r=Vt?Vt(n):new t.constructor(n);return t.copy(r),r}function Ei(t){var e=new t.constructor(t.byteLength);return new Ht(e).set(new Ht(t)),e}function Ai(t,e){var n=e?Ei(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Si(t,e){if(t!==e){var n=t!==i,r=null===t,a=t===t,o=ls(t),s=e!==i,c=null===e,u=e===e,l=ls(e);if(!c&&!l&&!o&&t>e||o&&s&&u&&!c&&!l||r&&s&&u||!n&&u||!a)return 1;if(!r&&!o&&!l&&t<e||l&&n&&a&&!r&&!o||c&&n&&a||!s&&a||!u)return-1}return 0}function Ti(t,e,r,i){for(var a=-1,o=t.length,s=r.length,c=-1,u=e.length,l=_n(o-s,0),f=n(u+l),h=!i;++c<u;)f[c]=e[c];for(;++a<s;)(h||a<o)&&(f[r[a]]=t[a]);for(;l--;)f[c++]=t[a++];return f}function Pi(t,e,r,i){for(var a=-1,o=t.length,s=-1,c=r.length,u=-1,l=e.length,f=_n(o-c,0),h=n(f+l),d=!i;++a<f;)h[a]=t[a];for(var p=a;++u<l;)h[p+u]=e[u];for(;++s<c;)(d||a<o)&&(h[p+r[s]]=t[a++]);return h}function Oi(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function Ri(t,e,n,r){var a=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var c=e[o],u=r?r(n[c],t[c],c,n,t):i;u===i&&(u=t[c]),a?or(n,c,u):nr(n,c,u)}return n}function Li(t,e){return function(n,r){var i=qo(n)?Ae:ir,a=e?e():{};return i(n,t,ua(r,2),a)}}function Mi(t){return Qr((function(e,n){var r=-1,a=n.length,o=a>1?n[a-1]:i,s=a>2?n[2]:i;for(o=t.length>3&&"function"==typeof o?(a--,o):i,s&&ba(n[0],n[1],s)&&(o=a<3?i:o,a=1),e=At(e);++r<a;){var c=n[r];c&&t(e,c,r,o)}return e}))}function Ii(t,e){return function(n,r){if(null==n)return n;if(!Xo(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=At(n);(e?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function Di(t){return function(e,n,r){for(var i=-1,a=At(e),o=r(e),s=o.length;s--;){var c=o[t?s:++i];if(!1===n(a[c],c,a))break}return e}}function Ni(t){return function(e){var n=sn(e=bs(e))?pn(e):i,r=n?n[0]:e.charAt(0),a=n?xi(n,1).join(""):e.slice(1);return r[t]()+a}}function Fi(t){return function(e){return De(Js(Vs(e).replace(Zt,"")),t,"")}}function ji(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Un(t.prototype),r=t.apply(n,e);return ns(r)?r:n}}function Wi(t){return function(e,n,r){var a=At(e);if(!Xo(e)){var o=ua(n,3);e=Ms(e),n=function(t){return o(a[t],t,a)}}var s=t(e,n,r);return s>-1?a[o?e[s]:s]:i}}function Gi(t){return ra((function(e){var n=e.length,r=n,o=Hn.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if("function"!=typeof s)throw new Pt(a);if(o&&!c&&"wrapper"==sa(s))var c=new Hn([],!0)}for(r=c?r:n;++r<n;){var u=sa(s=e[r]),l="wrapper"==u?oa(s):i;c=l&&xa(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[sa(l[0])].apply(c,l[3]):1==s.length&&xa(s)?c[u]():c.thru(s)}return function(){var t=arguments,r=t[0];if(c&&1==t.length&&qo(r))return c.plant(r).value();for(var i=0,a=n?e[i].apply(this,t):r;++i<n;)a=e[i].call(this,a);return a}}))}function zi(t,e,r,a,o,s,c,u,l,h){var d=e&f,p=1&e,g=2&e,y=24&e,v=512&e,m=g?i:ji(t);return function i(){for(var f=arguments.length,_=n(f),b=f;b--;)_[b]=arguments[b];if(y)var w=ca(i),x=nn(_,w);if(a&&(_=Ti(_,a,o,y)),s&&(_=Pi(_,s,c,y)),f-=x,y&&f<h){var k=ln(_,w);return Xi(t,e,zi,i.placeholder,r,_,k,u,l,h-f)}var C=p?r:this,E=g?C[t]:t;return f=_.length,u?_=Pa(_,u):v&&f>1&&_.reverse(),d&&l<f&&(_.length=l),this&&this!==de&&this instanceof i&&(E=m||ji(E)),E.apply(C,_)}}function Ui(t,e){return function(n,r){return function(t,e,n,r){return wr(t,(function(t,i,a){e(r,n(t),i,a)})),r}(n,t,e(r),{})}}function Bi(t,e){return function(n,r){var a;if(n===i&&r===i)return e;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=li(n),r=li(r)):(n=ui(n),r=ui(r)),a=t(n,r)}return a}}function Hi(t){return ra((function(e){return e=Me(e,Qe(ua())),Qr((function(n){var r=this;return t(e,(function(t){return Ee(t,r,n)}))}))}))}function Vi(t,e){var n=(e=e===i?" ":li(e)).length;if(n<2)return n?$r(e,t):e;var r=$r(e,pe(t/dn(e)));return sn(e)?xi(pn(r),0,t).join(""):r.slice(0,t)}function qi(t){return function(e,r,a){return a&&"number"!=typeof a&&ba(e,r,a)&&(r=a=i),e=gs(e),r===i?(r=e,e=0):r=gs(r),function(t,e,r,i){for(var a=-1,o=_n(pe((e-t)/(r||1)),0),s=n(o);o--;)s[i?o:++a]=t,t+=r;return s}(e,r,a=a===i?e<r?1:-1:gs(a),t)}}function Ki(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ms(e),n=ms(n)),t(e,n)}}function Xi(t,e,n,r,a,o,s,c,f,h){var d=8&e;e|=d?u:l,4&(e&=~(d?l:u))||(e&=-4);var p=[t,e,a,d?o:i,d?s:i,d?i:o,d?i:s,c,f,h],g=n.apply(i,p);return xa(t)&&Ra(g,p),g.placeholder=r,Ia(g,t,e)}function Yi(t){var e=Et[t];return function(t,n){if(t=ms(t),(n=null==n?0:bn(ys(n),292))&&je(t)){var r=(bs(t)+"e").split("e");return+((r=(bs(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var $i=Tn&&1/fn(new Tn([,-0]))[1]==d?function(t){return new Tn(t)}:lc;function Qi(t){return function(e){var n=ga(e);return n==E?cn(e):n==O?hn(e):function(t,e){return Me(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Zi(t,e,r,o,d,p,g,y){var v=2&e;if(!v&&"function"!=typeof t)throw new Pt(a);var m=o?o.length:0;if(m||(e&=-97,o=d=i),g=g===i?g:_n(ys(g),0),y=y===i?y:ys(y),m-=d?d.length:0,e&l){var _=o,b=d;o=d=i}var w=v?i:oa(t),x=[t,e,r,o,d,_,b,p,g,y];if(w&&function(t,e){var n=t[1],r=e[1],i=n|r,a=i<131,o=r==f&&8==n||r==f&&n==h&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!a&&!o)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var c=e[3];if(c){var u=t[3];t[3]=u?Ti(u,c,e[4]):c,t[4]=u?ln(t[3],s):e[4]}(c=e[5])&&(u=t[5],t[5]=u?Pi(u,c,e[6]):c,t[6]=u?ln(t[5],s):e[6]);(c=e[7])&&(t[7]=c);r&f&&(t[8]=null==t[8]?e[8]:bn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(x,w),t=x[0],e=x[1],r=x[2],o=x[3],d=x[4],!(y=x[9]=x[9]===i?v?0:t.length:_n(x[9]-m,0))&&24&e&&(e&=-25),e&&1!=e)k=8==e||e==c?function(t,e,r){var a=ji(t);return function o(){for(var s=arguments.length,c=n(s),u=s,l=ca(o);u--;)c[u]=arguments[u];var f=s<3&&c[0]!==l&&c[s-1]!==l?[]:ln(c,l);return(s-=f.length)<r?Xi(t,e,zi,o.placeholder,i,c,f,i,i,r-s):Ee(this&&this!==de&&this instanceof o?a:t,this,c)}}(t,e,y):e!=u&&33!=e||d.length?zi.apply(i,x):function(t,e,r,i){var a=1&e,o=ji(t);return function e(){for(var s=-1,c=arguments.length,u=-1,l=i.length,f=n(l+c),h=this&&this!==de&&this instanceof e?o:t;++u<l;)f[u]=i[u];for(;c--;)f[u++]=arguments[++s];return Ee(h,a?r:this,f)}}(t,e,r,o);else var k=function(t,e,n){var r=1&e,i=ji(t);return function e(){return(this&&this!==de&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,r);return Ia((w?ei:Ra)(k,x),t,e)}function Ji(t,e,n,r){return t===i||Uo(t,Lt[n])&&!Dt.call(r,n)?e:t}function ta(t,e,n,r,a,o){return ns(t)&&ns(e)&&(o.set(e,t),Br(t,e,i,ta,o),o.delete(e)),t}function ea(t){return os(t)?i:t}function na(t,e,n,r,a,o){var s=1&n,c=t.length,u=e.length;if(c!=u&&!(s&&u>c))return!1;var l=o.get(t),f=o.get(e);if(l&&f)return l==e&&f==t;var h=-1,d=!0,p=2&n?new Yn:i;for(o.set(t,e),o.set(e,t);++h<c;){var g=t[h],y=e[h];if(r)var v=s?r(y,g,h,e,t,o):r(g,y,h,t,e,o);if(v!==i){if(v)continue;d=!1;break}if(p){if(!Fe(e,(function(t,e){if(!Je(p,e)&&(g===t||a(g,t,n,r,o)))return p.push(e)}))){d=!1;break}}else if(g!==y&&!a(g,y,n,r,o)){d=!1;break}}return o.delete(t),o.delete(e),d}function ra(t){return Ma(Sa(t,i,qa),t+"")}function ia(t){return Er(t,Ms,da)}function aa(t){return Er(t,Is,pa)}var oa=Rn?function(t){return Rn.get(t)}:lc;function sa(t){for(var e=t.name+"",n=Ln[e],r=Dt.call(Ln,e)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==t)return i.name}return e}function ca(t){return(Dt.call(zn,"placeholder")?zn:t).placeholder}function ua(){var t=zn.iteratee||oc;return t=t===oc?Nr:t,arguments.length?t(arguments[0],arguments[1]):t}function la(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function fa(t){for(var e=Ms(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Ea(i)]}return e}function ha(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return Dr(n)?n:i}var da=ve?function(t){return null==t?[]:(t=At(t),Oe(ve(t),(function(e){return Xt.call(t,e)})))}:vc,pa=ve?function(t){for(var e=[];t;)Ie(e,da(t)),t=qt(t);return e}:vc,ga=Ar;function ya(t,e,n){for(var r=-1,i=(e=bi(e,t)).length,a=!1;++r<i;){var o=ja(e[r]);if(!(a=null!=t&&n(t,o)))break;t=t[o]}return a||++r!=i?a:!!(i=null==t?0:t.length)&&es(i)&&_a(o,i)&&(qo(t)||Vo(t))}function va(t){return"function"!=typeof t.constructor||Ca(t)?{}:Un(qt(t))}function ma(t){return qo(t)||Vo(t)||!!($t&&t&&t[$t])}function _a(t,e){var n=typeof t;return!!(e=null==e?p:e)&&("number"==n||"symbol"!=n&&bt.test(t))&&t>-1&&t%1==0&&t<e}function ba(t,e,n){if(!ns(n))return!1;var r=typeof e;return!!("number"==r?Xo(n)&&_a(e,n.length):"string"==r&&e in n)&&Uo(n[e],t)}function wa(t,e){if(qo(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ls(t))||(nt.test(t)||!et.test(t)||null!=e&&t in At(e))}function xa(t){var e=sa(t),n=zn[e];if("function"!=typeof n||!(e in Vn.prototype))return!1;if(t===n)return!0;var r=oa(n);return!!r&&t===r[0]}(En&&ga(new En(new ArrayBuffer(1)))!=D||An&&ga(new An)!=E||Sn&&ga(Sn.resolve())!=T||Tn&&ga(new Tn)!=O||Pn&&ga(new Pn)!=M)&&(ga=function(t){var e=Ar(t),n=e==S?t.constructor:i,r=n?Wa(n):"";if(r)switch(r){case Mn:return D;case In:return E;case Dn:return T;case Nn:return O;case Fn:return M}return e});var ka=Mt?Jo:mc;function Ca(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Lt)}function Ea(t){return t===t&&!ns(t)}function Aa(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==i||t in At(n)))}}function Sa(t,e,r){return e=_n(e===i?t.length-1:e,0),function(){for(var i=arguments,a=-1,o=_n(i.length-e,0),s=n(o);++a<o;)s[a]=i[e+a];a=-1;for(var c=n(e+1);++a<e;)c[a]=i[a];return c[e]=r(s),Ee(t,this,c)}}function Ta(t,e){return e.length<2?t:Cr(t,ii(e,0,-1))}function Pa(t,e){for(var n=t.length,r=bn(e.length,n),a=Oi(t);r--;){var o=e[r];t[r]=_a(o,n)?a[o]:i}return t}function Oa(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var Ra=Da(ei),La=he||function(t,e){return de.setTimeout(t,e)},Ma=Da(ni);function Ia(t,e,n){var r=e+"";return Ma(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(ct,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Se(v,(function(n){var r="_."+n[0];e&n[1]&&!Re(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(ut);return e?e[1].split(lt):[]}(r),n)))}function Da(t){var e=0,n=0;return function(){var r=wn(),a=16-(r-n);if(n=r,a>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Na(t,e){var n=-1,r=t.length,a=r-1;for(e=e===i?r:e;++n<e;){var o=Yr(n,a),s=t[o];t[o]=t[n],t[n]=s}return t.length=e,t}var Fa=function(t){var e=No(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(rt,(function(t,n,r,i){e.push(r?i.replace(dt,"$1"):n||t)})),e}));function ja(t){if("string"==typeof t||ls(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Wa(t){if(null!=t){try{return It.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Ga(t){if(t instanceof Vn)return t.clone();var e=new Hn(t.__wrapped__,t.__chain__);return e.__actions__=Oi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var za=Qr((function(t,e){return Yo(t)?hr(t,mr(e,1,Yo,!0)):[]})),Ua=Qr((function(t,e){var n=Qa(e);return Yo(n)&&(n=i),Yo(t)?hr(t,mr(e,1,Yo,!0),ua(n,2)):[]})),Ba=Qr((function(t,e){var n=Qa(e);return Yo(n)&&(n=i),Yo(t)?hr(t,mr(e,1,Yo,!0),i,n):[]}));function Ha(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ys(n);return i<0&&(i=_n(r+i,0)),Ge(t,ua(e,3),i)}function Va(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var a=r-1;return n!==i&&(a=ys(n),a=n<0?_n(r+a,0):bn(a,r-1)),Ge(t,ua(e,3),a,!0)}function qa(t){return(null==t?0:t.length)?mr(t,1):[]}function Ka(t){return t&&t.length?t[0]:i}var Xa=Qr((function(t){var e=Me(t,mi);return e.length&&e[0]===t[0]?Or(e):[]})),Ya=Qr((function(t){var e=Qa(t),n=Me(t,mi);return e===Qa(n)?e=i:n.pop(),n.length&&n[0]===t[0]?Or(n,ua(e,2)):[]})),$a=Qr((function(t){var e=Qa(t),n=Me(t,mi);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?Or(n,i,e):[]}));function Qa(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Za=Qr(Ja);function Ja(t,e){return t&&t.length&&e&&e.length?Kr(t,e):t}var to=ra((function(t,e){var n=null==t?0:t.length,r=sr(t,e);return Xr(t,Me(e,(function(t){return _a(t,n)?+t:t})).sort(Si)),r}));function eo(t){return null==t?t:Cn.call(t)}var no=Qr((function(t){return fi(mr(t,1,Yo,!0))})),ro=Qr((function(t){var e=Qa(t);return Yo(e)&&(e=i),fi(mr(t,1,Yo,!0),ua(e,2))})),io=Qr((function(t){var e=Qa(t);return e="function"==typeof e?e:i,fi(mr(t,1,Yo,!0),i,e)}));function ao(t){if(!t||!t.length)return[];var e=0;return t=Oe(t,(function(t){if(Yo(t))return e=_n(t.length,e),!0})),Ye(e,(function(e){return Me(t,Ve(e))}))}function oo(t,e){if(!t||!t.length)return[];var n=ao(t);return null==e?n:Me(n,(function(t){return Ee(e,i,t)}))}var so=Qr((function(t,e){return Yo(t)?hr(t,e):[]})),co=Qr((function(t){return yi(Oe(t,Yo))})),uo=Qr((function(t){var e=Qa(t);return Yo(e)&&(e=i),yi(Oe(t,Yo),ua(e,2))})),lo=Qr((function(t){var e=Qa(t);return e="function"==typeof e?e:i,yi(Oe(t,Yo),i,e)})),fo=Qr(ao);var ho=Qr((function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,oo(t,n)}));function po(t){var e=zn(t);return e.__chain__=!0,e}function go(t,e){return e(t)}var yo=ra((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,a=function(e){return sr(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Vn&&_a(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:go,args:[a],thisArg:i}),new Hn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(a)}));var vo=Li((function(t,e,n){Dt.call(t,n)?++t[n]:or(t,n,1)}));var mo=Wi(Ha),_o=Wi(Va);function bo(t,e){return(qo(t)?Se:dr)(t,ua(e,3))}function wo(t,e){return(qo(t)?Te:pr)(t,ua(e,3))}var xo=Li((function(t,e,n){Dt.call(t,n)?t[n].push(e):or(t,n,[e])}));var ko=Qr((function(t,e,r){var i=-1,a="function"==typeof e,o=Xo(t)?n(t.length):[];return dr(t,(function(t){o[++i]=a?Ee(e,t,r):Rr(t,e,r)})),o})),Co=Li((function(t,e,n){or(t,n,e)}));function Eo(t,e){return(qo(t)?Me:Gr)(t,ua(e,3))}var Ao=Li((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var So=Qr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&ba(t,e[0],e[1])?e=[]:n>2&&ba(e[0],e[1],e[2])&&(e=[e[0]]),Vr(t,mr(e,1),[])})),To=fe||function(){return de.Date.now()};function Po(t,e,n){return e=n?i:e,e=t&&null==e?t.length:e,Zi(t,f,i,i,i,i,e)}function Oo(t,e){var n;if("function"!=typeof e)throw new Pt(a);return t=ys(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var Ro=Qr((function(t,e,n){var r=1;if(n.length){var i=ln(n,ca(Ro));r|=u}return Zi(t,r,e,n,i)})),Lo=Qr((function(t,e,n){var r=3;if(n.length){var i=ln(n,ca(Lo));r|=u}return Zi(e,r,t,n,i)}));function Mo(t,e,n){var r,o,s,c,u,l,f=0,h=!1,d=!1,p=!0;if("function"!=typeof t)throw new Pt(a);function g(e){var n=r,a=o;return r=o=i,f=e,c=t.apply(a,n)}function y(t){return f=t,u=La(m,e),h?g(t):c}function v(t){var n=t-l;return l===i||n>=e||n<0||d&&t-f>=s}function m(){var t=To();if(v(t))return _(t);u=La(m,function(t){var n=e-(t-l);return d?bn(n,s-(t-f)):n}(t))}function _(t){return u=i,p&&r?g(t):(r=o=i,c)}function b(){var t=To(),n=v(t);if(r=arguments,o=this,l=t,n){if(u===i)return y(l);if(d)return ki(u),u=La(m,e),g(l)}return u===i&&(u=La(m,e)),c}return e=ms(e)||0,ns(n)&&(h=!!n.leading,s=(d="maxWait"in n)?_n(ms(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p),b.cancel=function(){u!==i&&ki(u),f=0,r=l=o=u=i},b.flush=function(){return u===i?c:_(To())},b}var Io=Qr((function(t,e){return fr(t,1,e)})),Do=Qr((function(t,e,n){return fr(t,ms(e)||0,n)}));function No(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Pt(a);var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(No.Cache||Xn),n}function Fo(t){if("function"!=typeof t)throw new Pt(a);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}No.Cache=Xn;var jo=wi((function(t,e){var n=(e=1==e.length&&qo(e[0])?Me(e[0],Qe(ua())):Me(mr(e,1),Qe(ua()))).length;return Qr((function(r){for(var i=-1,a=bn(r.length,n);++i<a;)r[i]=e[i].call(this,r[i]);return Ee(t,this,r)}))})),Wo=Qr((function(t,e){var n=ln(e,ca(Wo));return Zi(t,u,i,e,n)})),Go=Qr((function(t,e){var n=ln(e,ca(Go));return Zi(t,l,i,e,n)})),zo=ra((function(t,e){return Zi(t,h,i,i,i,e)}));function Uo(t,e){return t===e||t!==t&&e!==e}var Bo=Ki(Sr),Ho=Ki((function(t,e){return t>=e})),Vo=Lr(function(){return arguments}())?Lr:function(t){return rs(t)&&Dt.call(t,"callee")&&!Xt.call(t,"callee")},qo=n.isArray,Ko=_e?Qe(_e):function(t){return rs(t)&&Ar(t)==I};function Xo(t){return null!=t&&es(t.length)&&!Jo(t)}function Yo(t){return rs(t)&&Xo(t)}var $o=me||mc,Qo=be?Qe(be):function(t){return rs(t)&&Ar(t)==w};function Zo(t){if(!rs(t))return!1;var e=Ar(t);return e==x||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!os(t)}function Jo(t){if(!ns(t))return!1;var e=Ar(t);return e==k||e==C||"[object AsyncFunction]"==e||"[object Proxy]"==e}function ts(t){return"number"==typeof t&&t==ys(t)}function es(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=p}function ns(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function rs(t){return null!=t&&"object"==typeof t}var is=we?Qe(we):function(t){return rs(t)&&ga(t)==E};function as(t){return"number"==typeof t||rs(t)&&Ar(t)==A}function os(t){if(!rs(t)||Ar(t)!=S)return!1;var e=qt(t);if(null===e)return!0;var n=Dt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&It.call(n)==Wt}var ss=xe?Qe(xe):function(t){return rs(t)&&Ar(t)==P};var cs=ke?Qe(ke):function(t){return rs(t)&&ga(t)==O};function us(t){return"string"==typeof t||!qo(t)&&rs(t)&&Ar(t)==R}function ls(t){return"symbol"==typeof t||rs(t)&&Ar(t)==L}var fs=Ce?Qe(Ce):function(t){return rs(t)&&es(t.length)&&!!oe[Ar(t)]};var hs=Ki(Wr),ds=Ki((function(t,e){return t<=e}));function ps(t){if(!t)return[];if(Xo(t))return us(t)?pn(t):Oi(t);if(Qt&&t[Qt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Qt]());var e=ga(t);return(e==E?cn:e==O?fn:Us)(t)}function gs(t){return t?(t=ms(t))===d||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}function ys(t){var e=gs(t),n=e%1;return e===e?n?e-n:e:0}function vs(t){return t?cr(ys(t),0,y):0}function ms(t){if("number"==typeof t)return t;if(ls(t))return g;if(ns(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ns(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=$e(t);var n=vt.test(t);return n||_t.test(t)?le(t.slice(2),n?2:8):yt.test(t)?g:+t}function _s(t){return Ri(t,Is(t))}function bs(t){return null==t?"":li(t)}var ws=Mi((function(t,e){if(Ca(e)||Xo(e))Ri(e,Ms(e),t);else for(var n in e)Dt.call(e,n)&&nr(t,n,e[n])})),xs=Mi((function(t,e){Ri(e,Is(e),t)})),ks=Mi((function(t,e,n,r){Ri(e,Is(e),t,r)})),Cs=Mi((function(t,e,n,r){Ri(e,Ms(e),t,r)})),Es=ra(sr);var As=Qr((function(t,e){t=At(t);var n=-1,r=e.length,a=r>2?e[2]:i;for(a&&ba(e[0],e[1],a)&&(r=1);++n<r;)for(var o=e[n],s=Is(o),c=-1,u=s.length;++c<u;){var l=s[c],f=t[l];(f===i||Uo(f,Lt[l])&&!Dt.call(t,l))&&(t[l]=o[l])}return t})),Ss=Qr((function(t){return t.push(i,ta),Ee(Ns,i,t)}));function Ts(t,e,n){var r=null==t?i:Cr(t,e);return r===i?n:r}function Ps(t,e){return null!=t&&ya(t,e,Pr)}var Os=Ui((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=jt.call(e)),t[e]=n}),nc(ac)),Rs=Ui((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=jt.call(e)),Dt.call(t,e)?t[e].push(n):t[e]=[n]}),ua),Ls=Qr(Rr);function Ms(t){return Xo(t)?Qn(t):Fr(t)}function Is(t){return Xo(t)?Qn(t,!0):jr(t)}var Ds=Mi((function(t,e,n){Br(t,e,n)})),Ns=Mi((function(t,e,n,r){Br(t,e,n,r)})),Fs=ra((function(t,e){var n={};if(null==t)return n;var r=!1;e=Me(e,(function(e){return e=bi(e,t),r||(r=e.length>1),e})),Ri(t,aa(t),n),r&&(n=ur(n,7,ea));for(var i=e.length;i--;)hi(n,e[i]);return n}));var js=ra((function(t,e){return null==t?{}:function(t,e){return qr(t,e,(function(e,n){return Ps(t,n)}))}(t,e)}));function Ws(t,e){if(null==t)return{};var n=Me(aa(t),(function(t){return[t]}));return e=ua(e),qr(t,n,(function(t,n){return e(t,n[0])}))}var Gs=Qi(Ms),zs=Qi(Is);function Us(t){return null==t?[]:Ze(t,Ms(t))}var Bs=Fi((function(t,e,n){return e=e.toLowerCase(),t+(n?Hs(e):e)}));function Hs(t){return Zs(bs(t).toLowerCase())}function Vs(t){return(t=bs(t))&&t.replace(wt,rn).replace(Jt,"")}var qs=Fi((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ks=Fi((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Xs=Ni("toLowerCase");var Ys=Fi((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var $s=Fi((function(t,e,n){return t+(n?" ":"")+Zs(e)}));var Qs=Fi((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Zs=Ni("toUpperCase");function Js(t,e,n){return t=bs(t),(e=n?i:e)===i?function(t){return re.test(t)}(t)?function(t){return t.match(ee)||[]}(t):function(t){return t.match(ft)||[]}(t):t.match(e)||[]}var tc=Qr((function(t,e){try{return Ee(t,i,e)}catch(n){return Zo(n)?n:new st(n)}})),ec=ra((function(t,e){return Se(e,(function(e){e=ja(e),or(t,e,Ro(t[e],t))})),t}));function nc(t){return function(){return t}}var rc=Gi(),ic=Gi(!0);function ac(t){return t}function oc(t){return Nr("function"==typeof t?t:ur(t,1))}var sc=Qr((function(t,e){return function(n){return Rr(n,t,e)}})),cc=Qr((function(t,e){return function(n){return Rr(t,n,e)}}));function uc(t,e,n){var r=Ms(e),i=kr(e,r);null!=n||ns(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=kr(e,Ms(e)));var a=!(ns(n)&&"chain"in n)||!!n.chain,o=Jo(t);return Se(i,(function(n){var r=e[n];t[n]=r,o&&(t.prototype[n]=function(){var e=this.__chain__;if(a||e){var n=t(this.__wrapped__),i=n.__actions__=Oi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Ie([this.value()],arguments))})})),t}function lc(){}var fc=Hi(Me),hc=Hi(Pe),dc=Hi(Fe);function pc(t){return wa(t)?Ve(ja(t)):function(t){return function(e){return Cr(e,t)}}(t)}var gc=qi(),yc=qi(!0);function vc(){return[]}function mc(){return!1}var _c=Bi((function(t,e){return t+e}),0),bc=Yi("ceil"),wc=Bi((function(t,e){return t/e}),1),xc=Yi("floor");var kc=Bi((function(t,e){return t*e}),1),Cc=Yi("round"),Ec=Bi((function(t,e){return t-e}),0);return zn.after=function(t,e){if("function"!=typeof e)throw new Pt(a);return t=ys(t),function(){if(--t<1)return e.apply(this,arguments)}},zn.ary=Po,zn.assign=ws,zn.assignIn=xs,zn.assignInWith=ks,zn.assignWith=Cs,zn.at=Es,zn.before=Oo,zn.bind=Ro,zn.bindAll=ec,zn.bindKey=Lo,zn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return qo(t)?t:[t]},zn.chain=po,zn.chunk=function(t,e,r){e=(r?ba(t,e,r):e===i)?1:_n(ys(e),0);var a=null==t?0:t.length;if(!a||e<1)return[];for(var o=0,s=0,c=n(pe(a/e));o<a;)c[s++]=ii(t,o,o+=e);return c},zn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var a=t[e];a&&(i[r++]=a)}return i},zn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Ie(qo(r)?Oi(r):[r],mr(e,1))},zn.cond=function(t){var e=null==t?0:t.length,n=ua();return t=e?Me(t,(function(t){if("function"!=typeof t[1])throw new Pt(a);return[n(t[0]),t[1]]})):[],Qr((function(n){for(var r=-1;++r<e;){var i=t[r];if(Ee(i[0],this,n))return Ee(i[1],this,n)}}))},zn.conforms=function(t){return function(t){var e=Ms(t);return function(n){return lr(n,t,e)}}(ur(t,1))},zn.constant=nc,zn.countBy=vo,zn.create=function(t,e){var n=Un(t);return null==e?n:ar(n,e)},zn.curry=function t(e,n,r){var a=Zi(e,8,i,i,i,i,i,n=r?i:n);return a.placeholder=t.placeholder,a},zn.curryRight=function t(e,n,r){var a=Zi(e,c,i,i,i,i,i,n=r?i:n);return a.placeholder=t.placeholder,a},zn.debounce=Mo,zn.defaults=As,zn.defaultsDeep=Ss,zn.defer=Io,zn.delay=Do,zn.difference=za,zn.differenceBy=Ua,zn.differenceWith=Ba,zn.drop=function(t,e,n){var r=null==t?0:t.length;return r?ii(t,(e=n||e===i?1:ys(e))<0?0:e,r):[]},zn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ii(t,0,(e=r-(e=n||e===i?1:ys(e)))<0?0:e):[]},zn.dropRightWhile=function(t,e){return t&&t.length?pi(t,ua(e,3),!0,!0):[]},zn.dropWhile=function(t,e){return t&&t.length?pi(t,ua(e,3),!0):[]},zn.fill=function(t,e,n,r){var a=null==t?0:t.length;return a?(n&&"number"!=typeof n&&ba(t,e,n)&&(n=0,r=a),function(t,e,n,r){var a=t.length;for((n=ys(n))<0&&(n=-n>a?0:a+n),(r=r===i||r>a?a:ys(r))<0&&(r+=a),r=n>r?0:vs(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},zn.filter=function(t,e){return(qo(t)?Oe:vr)(t,ua(e,3))},zn.flatMap=function(t,e){return mr(Eo(t,e),1)},zn.flatMapDeep=function(t,e){return mr(Eo(t,e),d)},zn.flatMapDepth=function(t,e,n){return n=n===i?1:ys(n),mr(Eo(t,e),n)},zn.flatten=qa,zn.flattenDeep=function(t){return(null==t?0:t.length)?mr(t,d):[]},zn.flattenDepth=function(t,e){return(null==t?0:t.length)?mr(t,e=e===i?1:ys(e)):[]},zn.flip=function(t){return Zi(t,512)},zn.flow=rc,zn.flowRight=ic,zn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},zn.functions=function(t){return null==t?[]:kr(t,Ms(t))},zn.functionsIn=function(t){return null==t?[]:kr(t,Is(t))},zn.groupBy=xo,zn.initial=function(t){return(null==t?0:t.length)?ii(t,0,-1):[]},zn.intersection=Xa,zn.intersectionBy=Ya,zn.intersectionWith=$a,zn.invert=Os,zn.invertBy=Rs,zn.invokeMap=ko,zn.iteratee=oc,zn.keyBy=Co,zn.keys=Ms,zn.keysIn=Is,zn.map=Eo,zn.mapKeys=function(t,e){var n={};return e=ua(e,3),wr(t,(function(t,r,i){or(n,e(t,r,i),t)})),n},zn.mapValues=function(t,e){var n={};return e=ua(e,3),wr(t,(function(t,r,i){or(n,r,e(t,r,i))})),n},zn.matches=function(t){return zr(ur(t,1))},zn.matchesProperty=function(t,e){return Ur(t,ur(e,1))},zn.memoize=No,zn.merge=Ds,zn.mergeWith=Ns,zn.method=sc,zn.methodOf=cc,zn.mixin=uc,zn.negate=Fo,zn.nthArg=function(t){return t=ys(t),Qr((function(e){return Hr(e,t)}))},zn.omit=Fs,zn.omitBy=function(t,e){return Ws(t,Fo(ua(e)))},zn.once=function(t){return Oo(2,t)},zn.orderBy=function(t,e,n,r){return null==t?[]:(qo(e)||(e=null==e?[]:[e]),qo(n=r?i:n)||(n=null==n?[]:[n]),Vr(t,e,n))},zn.over=fc,zn.overArgs=jo,zn.overEvery=hc,zn.overSome=dc,zn.partial=Wo,zn.partialRight=Go,zn.partition=Ao,zn.pick=js,zn.pickBy=Ws,zn.property=pc,zn.propertyOf=function(t){return function(e){return null==t?i:Cr(t,e)}},zn.pull=Za,zn.pullAll=Ja,zn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Kr(t,e,ua(n,2)):t},zn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Kr(t,e,i,n):t},zn.pullAt=to,zn.range=gc,zn.rangeRight=yc,zn.rearg=zo,zn.reject=function(t,e){return(qo(t)?Oe:vr)(t,Fo(ua(e,3)))},zn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],a=t.length;for(e=ua(e,3);++r<a;){var o=t[r];e(o,r,t)&&(n.push(o),i.push(r))}return Xr(t,i),n},zn.rest=function(t,e){if("function"!=typeof t)throw new Pt(a);return Qr(t,e=e===i?e:ys(e))},zn.reverse=eo,zn.sampleSize=function(t,e,n){return e=(n?ba(t,e,n):e===i)?1:ys(e),(qo(t)?Jn:Jr)(t,e)},zn.set=function(t,e,n){return null==t?t:ti(t,e,n)},zn.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:ti(t,e,n,r)},zn.shuffle=function(t){return(qo(t)?tr:ri)(t)},zn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&ba(t,e,n)?(e=0,n=r):(e=null==e?0:ys(e),n=n===i?r:ys(n)),ii(t,e,n)):[]},zn.sortBy=So,zn.sortedUniq=function(t){return t&&t.length?ci(t):[]},zn.sortedUniqBy=function(t,e){return t&&t.length?ci(t,ua(e,2)):[]},zn.split=function(t,e,n){return n&&"number"!=typeof n&&ba(t,e,n)&&(e=n=i),(n=n===i?y:n>>>0)?(t=bs(t))&&("string"==typeof e||null!=e&&!ss(e))&&!(e=li(e))&&sn(t)?xi(pn(t),0,n):t.split(e,n):[]},zn.spread=function(t,e){if("function"!=typeof t)throw new Pt(a);return e=null==e?0:_n(ys(e),0),Qr((function(n){var r=n[e],i=xi(n,0,e);return r&&Ie(i,r),Ee(t,this,i)}))},zn.tail=function(t){var e=null==t?0:t.length;return e?ii(t,1,e):[]},zn.take=function(t,e,n){return t&&t.length?ii(t,0,(e=n||e===i?1:ys(e))<0?0:e):[]},zn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ii(t,(e=r-(e=n||e===i?1:ys(e)))<0?0:e,r):[]},zn.takeRightWhile=function(t,e){return t&&t.length?pi(t,ua(e,3),!1,!0):[]},zn.takeWhile=function(t,e){return t&&t.length?pi(t,ua(e,3)):[]},zn.tap=function(t,e){return e(t),t},zn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Pt(a);return ns(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Mo(t,e,{leading:r,maxWait:e,trailing:i})},zn.thru=go,zn.toArray=ps,zn.toPairs=Gs,zn.toPairsIn=zs,zn.toPath=function(t){return qo(t)?Me(t,ja):ls(t)?[t]:Oi(Fa(bs(t)))},zn.toPlainObject=_s,zn.transform=function(t,e,n){var r=qo(t),i=r||$o(t)||fs(t);if(e=ua(e,4),null==n){var a=t&&t.constructor;n=i?r?new a:[]:ns(t)&&Jo(a)?Un(qt(t)):{}}return(i?Se:wr)(t,(function(t,r,i){return e(n,t,r,i)})),n},zn.unary=function(t){return Po(t,1)},zn.union=no,zn.unionBy=ro,zn.unionWith=io,zn.uniq=function(t){return t&&t.length?fi(t):[]},zn.uniqBy=function(t,e){return t&&t.length?fi(t,ua(e,2)):[]},zn.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?fi(t,i,e):[]},zn.unset=function(t,e){return null==t||hi(t,e)},zn.unzip=ao,zn.unzipWith=oo,zn.update=function(t,e,n){return null==t?t:di(t,e,_i(n))},zn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:di(t,e,_i(n),r)},zn.values=Us,zn.valuesIn=function(t){return null==t?[]:Ze(t,Is(t))},zn.without=so,zn.words=Js,zn.wrap=function(t,e){return Wo(_i(e),t)},zn.xor=co,zn.xorBy=uo,zn.xorWith=lo,zn.zip=fo,zn.zipObject=function(t,e){return vi(t||[],e||[],nr)},zn.zipObjectDeep=function(t,e){return vi(t||[],e||[],ti)},zn.zipWith=ho,zn.entries=Gs,zn.entriesIn=zs,zn.extend=xs,zn.extendWith=ks,uc(zn,zn),zn.add=_c,zn.attempt=tc,zn.camelCase=Bs,zn.capitalize=Hs,zn.ceil=bc,zn.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=ms(n))===n?n:0),e!==i&&(e=(e=ms(e))===e?e:0),cr(ms(t),e,n)},zn.clone=function(t){return ur(t,4)},zn.cloneDeep=function(t){return ur(t,5)},zn.cloneDeepWith=function(t,e){return ur(t,5,e="function"==typeof e?e:i)},zn.cloneWith=function(t,e){return ur(t,4,e="function"==typeof e?e:i)},zn.conformsTo=function(t,e){return null==e||lr(t,e,Ms(e))},zn.deburr=Vs,zn.defaultTo=function(t,e){return null==t||t!==t?e:t},zn.divide=wc,zn.endsWith=function(t,e,n){t=bs(t),e=li(e);var r=t.length,a=n=n===i?r:cr(ys(n),0,r);return(n-=e.length)>=0&&t.slice(n,a)==e},zn.eq=Uo,zn.escape=function(t){return(t=bs(t))&&Q.test(t)?t.replace(Y,an):t},zn.escapeRegExp=function(t){return(t=bs(t))&&at.test(t)?t.replace(it,"\\$&"):t},zn.every=function(t,e,n){var r=qo(t)?Pe:gr;return n&&ba(t,e,n)&&(e=i),r(t,ua(e,3))},zn.find=mo,zn.findIndex=Ha,zn.findKey=function(t,e){return We(t,ua(e,3),wr)},zn.findLast=_o,zn.findLastIndex=Va,zn.findLastKey=function(t,e){return We(t,ua(e,3),xr)},zn.floor=xc,zn.forEach=bo,zn.forEachRight=wo,zn.forIn=function(t,e){return null==t?t:_r(t,ua(e,3),Is)},zn.forInRight=function(t,e){return null==t?t:br(t,ua(e,3),Is)},zn.forOwn=function(t,e){return t&&wr(t,ua(e,3))},zn.forOwnRight=function(t,e){return t&&xr(t,ua(e,3))},zn.get=Ts,zn.gt=Bo,zn.gte=Ho,zn.has=function(t,e){return null!=t&&ya(t,e,Tr)},zn.hasIn=Ps,zn.head=Ka,zn.identity=ac,zn.includes=function(t,e,n,r){t=Xo(t)?t:Us(t),n=n&&!r?ys(n):0;var i=t.length;return n<0&&(n=_n(i+n,0)),us(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&ze(t,e,n)>-1},zn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ys(n);return i<0&&(i=_n(r+i,0)),ze(t,e,i)},zn.inRange=function(t,e,n){return e=gs(e),n===i?(n=e,e=0):n=gs(n),function(t,e,n){return t>=bn(e,n)&&t<_n(e,n)}(t=ms(t),e,n)},zn.invoke=Ls,zn.isArguments=Vo,zn.isArray=qo,zn.isArrayBuffer=Ko,zn.isArrayLike=Xo,zn.isArrayLikeObject=Yo,zn.isBoolean=function(t){return!0===t||!1===t||rs(t)&&Ar(t)==b},zn.isBuffer=$o,zn.isDate=Qo,zn.isElement=function(t){return rs(t)&&1===t.nodeType&&!os(t)},zn.isEmpty=function(t){if(null==t)return!0;if(Xo(t)&&(qo(t)||"string"==typeof t||"function"==typeof t.splice||$o(t)||fs(t)||Vo(t)))return!t.length;var e=ga(t);if(e==E||e==O)return!t.size;if(Ca(t))return!Fr(t).length;for(var n in t)if(Dt.call(t,n))return!1;return!0},zn.isEqual=function(t,e){return Mr(t,e)},zn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?Mr(t,e,i,n):!!r},zn.isError=Zo,zn.isFinite=function(t){return"number"==typeof t&&je(t)},zn.isFunction=Jo,zn.isInteger=ts,zn.isLength=es,zn.isMap=is,zn.isMatch=function(t,e){return t===e||Ir(t,e,fa(e))},zn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,Ir(t,e,fa(e),n)},zn.isNaN=function(t){return as(t)&&t!=+t},zn.isNative=function(t){if(ka(t))throw new st("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Dr(t)},zn.isNil=function(t){return null==t},zn.isNull=function(t){return null===t},zn.isNumber=as,zn.isObject=ns,zn.isObjectLike=rs,zn.isPlainObject=os,zn.isRegExp=ss,zn.isSafeInteger=function(t){return ts(t)&&t>=-9007199254740991&&t<=p},zn.isSet=cs,zn.isString=us,zn.isSymbol=ls,zn.isTypedArray=fs,zn.isUndefined=function(t){return t===i},zn.isWeakMap=function(t){return rs(t)&&ga(t)==M},zn.isWeakSet=function(t){return rs(t)&&"[object WeakSet]"==Ar(t)},zn.join=function(t,e){return null==t?"":qe.call(t,e)},zn.kebabCase=qs,zn.last=Qa,zn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var a=r;return n!==i&&(a=(a=ys(n))<0?_n(r+a,0):bn(a,r-1)),e===e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,a):Ge(t,Be,a,!0)},zn.lowerCase=Ks,zn.lowerFirst=Xs,zn.lt=hs,zn.lte=ds,zn.max=function(t){return t&&t.length?yr(t,ac,Sr):i},zn.maxBy=function(t,e){return t&&t.length?yr(t,ua(e,2),Sr):i},zn.mean=function(t){return He(t,ac)},zn.meanBy=function(t,e){return He(t,ua(e,2))},zn.min=function(t){return t&&t.length?yr(t,ac,Wr):i},zn.minBy=function(t,e){return t&&t.length?yr(t,ua(e,2),Wr):i},zn.stubArray=vc,zn.stubFalse=mc,zn.stubObject=function(){return{}},zn.stubString=function(){return""},zn.stubTrue=function(){return!0},zn.multiply=kc,zn.nth=function(t,e){return t&&t.length?Hr(t,ys(e)):i},zn.noConflict=function(){return de._===this&&(de._=Gt),this},zn.noop=lc,zn.now=To,zn.pad=function(t,e,n){t=bs(t);var r=(e=ys(e))?dn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Vi(ge(i),n)+t+Vi(pe(i),n)},zn.padEnd=function(t,e,n){t=bs(t);var r=(e=ys(e))?dn(t):0;return e&&r<e?t+Vi(e-r,n):t},zn.padStart=function(t,e,n){t=bs(t);var r=(e=ys(e))?dn(t):0;return e&&r<e?Vi(e-r,n)+t:t},zn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),xn(bs(t).replace(ot,""),e||0)},zn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&ba(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=gs(t),e===i?(e=t,t=0):e=gs(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var a=kn();return bn(t+a*(e-t+ue("1e-"+((a+"").length-1))),e)}return Yr(t,e)},zn.reduce=function(t,e,n){var r=qo(t)?De:Ke,i=arguments.length<3;return r(t,ua(e,4),n,i,dr)},zn.reduceRight=function(t,e,n){var r=qo(t)?Ne:Ke,i=arguments.length<3;return r(t,ua(e,4),n,i,pr)},zn.repeat=function(t,e,n){return e=(n?ba(t,e,n):e===i)?1:ys(e),$r(bs(t),e)},zn.replace=function(){var t=arguments,e=bs(t[0]);return t.length<3?e:e.replace(t[1],t[2])},zn.result=function(t,e,n){var r=-1,a=(e=bi(e,t)).length;for(a||(a=1,t=i);++r<a;){var o=null==t?i:t[ja(e[r])];o===i&&(r=a,o=n),t=Jo(o)?o.call(t):o}return t},zn.round=Cc,zn.runInContext=t,zn.sample=function(t){return(qo(t)?Zn:Zr)(t)},zn.size=function(t){if(null==t)return 0;if(Xo(t))return us(t)?dn(t):t.length;var e=ga(t);return e==E||e==O?t.size:Fr(t).length},zn.snakeCase=Ys,zn.some=function(t,e,n){var r=qo(t)?Fe:ai;return n&&ba(t,e,n)&&(e=i),r(t,ua(e,3))},zn.sortedIndex=function(t,e){return oi(t,e)},zn.sortedIndexBy=function(t,e,n){return si(t,e,ua(n,2))},zn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=oi(t,e);if(r<n&&Uo(t[r],e))return r}return-1},zn.sortedLastIndex=function(t,e){return oi(t,e,!0)},zn.sortedLastIndexBy=function(t,e,n){return si(t,e,ua(n,2),!0)},zn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=oi(t,e,!0)-1;if(Uo(t[n],e))return n}return-1},zn.startCase=$s,zn.startsWith=function(t,e,n){return t=bs(t),n=null==n?0:cr(ys(n),0,t.length),e=li(e),t.slice(n,n+e.length)==e},zn.subtract=Ec,zn.sum=function(t){return t&&t.length?Xe(t,ac):0},zn.sumBy=function(t,e){return t&&t.length?Xe(t,ua(e,2)):0},zn.template=function(t,e,n){var r=zn.templateSettings;n&&ba(t,e,n)&&(e=i),t=bs(t),e=ks({},e,r,Ji);var a,o,s=ks({},e.imports,r.imports,Ji),c=Ms(s),u=Ze(s,c),l=0,f=e.interpolate||xt,h="__p += '",d=St((e.escape||xt).source+"|"+f.source+"|"+(f===tt?pt:xt).source+"|"+(e.evaluate||xt).source+"|$","g"),p="//# sourceURL="+(Dt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ae+"]")+"\n";t.replace(d,(function(e,n,r,i,s,c){return r||(r=i),h+=t.slice(l,c).replace(kt,on),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+e.length,e})),h+="';\n";var g=Dt.call(e,"variable")&&e.variable;if(g){if(ht.test(g))throw new st("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(V,""):h).replace(q,"$1").replace(K,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var y=tc((function(){return Ct(c,p+"return "+h).apply(i,u)}));if(y.source=h,Zo(y))throw y;return y},zn.times=function(t,e){if((t=ys(t))<1||t>p)return[];var n=y,r=bn(t,y);e=ua(e),t-=y;for(var i=Ye(r,e);++n<t;)e(n);return i},zn.toFinite=gs,zn.toInteger=ys,zn.toLength=vs,zn.toLower=function(t){return bs(t).toLowerCase()},zn.toNumber=ms,zn.toSafeInteger=function(t){return t?cr(ys(t),-9007199254740991,p):0===t?t:0},zn.toString=bs,zn.toUpper=function(t){return bs(t).toUpperCase()},zn.trim=function(t,e,n){if((t=bs(t))&&(n||e===i))return $e(t);if(!t||!(e=li(e)))return t;var r=pn(t),a=pn(e);return xi(r,tn(r,a),en(r,a)+1).join("")},zn.trimEnd=function(t,e,n){if((t=bs(t))&&(n||e===i))return t.slice(0,gn(t)+1);if(!t||!(e=li(e)))return t;var r=pn(t);return xi(r,0,en(r,pn(e))+1).join("")},zn.trimStart=function(t,e,n){if((t=bs(t))&&(n||e===i))return t.replace(ot,"");if(!t||!(e=li(e)))return t;var r=pn(t);return xi(r,tn(r,pn(e))).join("")},zn.truncate=function(t,e){var n=30,r="...";if(ns(e)){var a="separator"in e?e.separator:a;n="length"in e?ys(e.length):n,r="omission"in e?li(e.omission):r}var o=(t=bs(t)).length;if(sn(t)){var s=pn(t);o=s.length}if(n>=o)return t;var c=n-dn(r);if(c<1)return r;var u=s?xi(s,0,c).join(""):t.slice(0,c);if(a===i)return u+r;if(s&&(c+=u.length-c),ss(a)){if(t.slice(c).search(a)){var l,f=u;for(a.global||(a=St(a.source,bs(gt.exec(a))+"g")),a.lastIndex=0;l=a.exec(f);)var h=l.index;u=u.slice(0,h===i?c:h)}}else if(t.indexOf(li(a),c)!=c){var d=u.lastIndexOf(a);d>-1&&(u=u.slice(0,d))}return u+r},zn.unescape=function(t){return(t=bs(t))&&$.test(t)?t.replace(X,yn):t},zn.uniqueId=function(t){var e=++Nt;return bs(t)+e},zn.upperCase=Qs,zn.upperFirst=Zs,zn.each=bo,zn.eachRight=wo,zn.first=Ka,uc(zn,function(){var t={};return wr(zn,(function(e,n){Dt.call(zn.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),zn.VERSION="4.17.21",Se(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){zn[t].placeholder=zn})),Se(["drop","take"],(function(t,e){Vn.prototype[t]=function(n){n=n===i?1:_n(ys(n),0);var r=this.__filtered__&&!e?new Vn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,y),type:t+(r.__dir__<0?"Right":"")}),r},Vn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Se(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Vn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ua(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),Se(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Vn.prototype[t]=function(){return this[n](1).value()[0]}})),Se(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Vn.prototype[t]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(ac)},Vn.prototype.find=function(t){return this.filter(t).head()},Vn.prototype.findLast=function(t){return this.reverse().find(t)},Vn.prototype.invokeMap=Qr((function(t,e){return"function"==typeof t?new Vn(this):this.map((function(n){return Rr(n,t,e)}))})),Vn.prototype.reject=function(t){return this.filter(Fo(ua(t)))},Vn.prototype.slice=function(t,e){t=ys(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Vn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=ys(e))<0?n.dropRight(-e):n.take(e-t)),n)},Vn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Vn.prototype.toArray=function(){return this.take(y)},wr(Vn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),a=zn[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);a&&(zn.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,c=e instanceof Vn,u=s[0],l=c||qo(e),f=function(t){var e=a.apply(zn,Ie([t],s));return r&&h?e[0]:e};l&&n&&"function"==typeof u&&1!=u.length&&(c=l=!1);var h=this.__chain__,d=!!this.__actions__.length,p=o&&!h,g=c&&!d;if(!o&&l){e=g?e:new Vn(this);var y=t.apply(e,s);return y.__actions__.push({func:go,args:[f],thisArg:i}),new Hn(y,h)}return p&&g?t.apply(this,s):(y=this.thru(f),p?r?y.value()[0]:y.value():y)})})),Se(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Ot[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);zn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(qo(i)?i:[],t)}return this[n]((function(n){return e.apply(qo(n)?n:[],t)}))}})),wr(Vn.prototype,(function(t,e){var n=zn[e];if(n){var r=n.name+"";Dt.call(Ln,r)||(Ln[r]=[]),Ln[r].push({name:e,func:n})}})),Ln[zi(i,2).name]=[{name:"wrapper",func:i}],Vn.prototype.clone=function(){var t=new Vn(this.__wrapped__);return t.__actions__=Oi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Oi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Oi(this.__views__),t},Vn.prototype.reverse=function(){if(this.__filtered__){var t=new Vn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Vn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=qo(t),r=e<0,i=n?t.length:0,a=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=bn(e,t+o);break;case"takeRight":t=_n(t,e-o)}}return{start:t,end:e}}(0,i,this.__views__),o=a.start,s=a.end,c=s-o,u=r?s:o-1,l=this.__iteratees__,f=l.length,h=0,d=bn(c,this.__takeCount__);if(!n||!r&&i==c&&d==c)return gi(t,this.__actions__);var p=[];t:for(;c--&&h<d;){for(var g=-1,y=t[u+=e];++g<f;){var v=l[g],m=v.iteratee,_=v.type,b=m(y);if(2==_)y=b;else if(!b){if(1==_)continue t;break t}}p[h++]=y}return p},zn.prototype.at=yo,zn.prototype.chain=function(){return po(this)},zn.prototype.commit=function(){return new Hn(this.value(),this.__chain__)},zn.prototype.next=function(){this.__values__===i&&(this.__values__=ps(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},zn.prototype.plant=function(t){for(var e,n=this;n instanceof Bn;){var r=Ga(n);r.__index__=0,r.__values__=i,e?a.__wrapped__=r:e=r;var a=r;n=n.__wrapped__}return a.__wrapped__=t,e},zn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Vn){var e=t;return this.__actions__.length&&(e=new Vn(this)),(e=e.reverse()).__actions__.push({func:go,args:[eo],thisArg:i}),new Hn(e,this.__chain__)}return this.thru(eo)},zn.prototype.toJSON=zn.prototype.valueOf=zn.prototype.value=function(){return gi(this.__wrapped__,this.__actions__)},zn.prototype.first=zn.prototype.head,Qt&&(zn.prototype[Qt]=function(){return this}),zn}();de._=vn,(r=function(){return vn}.call(e,n,e,t))===i||(t.exports=r)}.call(this)},9151:function(t,e,n){var r=n(8059);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},9694:function(t){t.exports=function(){}},38:function(t,e,n){var r=n(9586),i=n(4084),a=n(5823),o=n(9793);t.exports=function(t){return a(t)?r(o(t)):i(t)}},1968:function(t,e,n){var r=n(1121),i=n(7038),a=i((function(t,e){return r(t,256,void 0,void 0,void 0,e)}));t.exports=a},9810:function(t){t.exports=function(){return[]}},9488:function(t){t.exports=function(){return!1}},1495:function(t,e,n){var r=n(2582),i=1/0;t.exports=function(t){return t?(t=r(t))===i||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}},9753:function(t,e,n){var r=n(1495);t.exports=function(t){var e=r(t),n=e%1;return e===e?n?e-n:e:0}},2582:function(t,e,n){var r=n(821),i=n(8092),a=n(152),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(a(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=s.test(t);return n||c.test(t)?u(t.slice(2),n?2:8):o.test(t)?NaN:+t}},168:function(t,e,n){var r=n(8950),i=n(291),a=n(3629),o=n(152),s=n(170),c=n(9793),u=n(3518);t.exports=function(t){return a(t)?r(t,c):o(t)?[t]:i(s(u(t)))}},3518:function(t,e,n){var r=n(2446);t.exports=function(t){return null==t?"":r(t)}},2857:function(t,e,n){var r=n(2492),i=n(5598),a=n(8807),o=n(3629),s=n(3141),c=n(8878),u=Object.prototype.hasOwnProperty;function l(t){if(s(t)&&!o(t)&&!(t instanceof r)){if(t instanceof i)return t;if(u.call(t,"__wrapped__"))return c(t)}return new i(t)}l.prototype=a.prototype,l.prototype.constructor=l,t.exports=l},1725:function(t){"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,a){for(var o,s,c=i(t),u=1;u<arguments.length;u++){for(var l in o=Object(arguments[u]))n.call(o,l)&&(c[l]=o[l]);if(e){s=e(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(c[s[f]]=o[s[f]])}}return c}},888:function(t,e,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(t,e,n){t.exports=n(888)()},9047:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4589:function(t,e,n){"use strict";t.exports=n(2079)},4463:function(t,e,n){"use strict";var r=n(2791),i=n(1725),a=n(5296);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));function s(t,e,n,r,i,a,o,s,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(l){this.onError(l)}}var c=!1,u=null,l=!1,f=null,h={onError:function(t){c=!0,u=t}};function d(t,e,n,r,i,a,o,l,f){c=!1,u=null,s.apply(h,arguments)}var p=null,g=null,y=null;function v(t,e,n){var r=t.type||"unknown-event";t.currentTarget=y(n),function(t,e,n,r,i,a,s,h,p){if(d.apply(this,arguments),c){if(!c)throw Error(o(198));var g=u;c=!1,u=null,l||(l=!0,f=g)}}(r,e,void 0,t),t.currentTarget=null}var m=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;m.hasOwnProperty("ReactCurrentDispatcher")||(m.ReactCurrentDispatcher={current:null}),m.hasOwnProperty("ReactCurrentBatchConfig")||(m.ReactCurrentBatchConfig={suspense:null});var _=/^(.*)[\\\/]/,b="function"===typeof Symbol&&Symbol.for,w=b?Symbol.for("react.element"):60103,x=b?Symbol.for("react.portal"):60106,k=b?Symbol.for("react.fragment"):60107,C=b?Symbol.for("react.strict_mode"):60108,E=b?Symbol.for("react.profiler"):60114,A=b?Symbol.for("react.provider"):60109,S=b?Symbol.for("react.context"):60110,T=b?Symbol.for("react.concurrent_mode"):60111,P=b?Symbol.for("react.forward_ref"):60112,O=b?Symbol.for("react.suspense"):60113,R=b?Symbol.for("react.suspense_list"):60120,L=b?Symbol.for("react.memo"):60115,M=b?Symbol.for("react.lazy"):60116,I=b?Symbol.for("react.block"):60121,D="function"===typeof Symbol&&Symbol.iterator;function N(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=D&&t[D]||t["@@iterator"])?t:null}function F(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case k:return"Fragment";case x:return"Portal";case E:return"Profiler";case C:return"StrictMode";case O:return"Suspense";case R:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case S:return"Context.Consumer";case A:return"Context.Provider";case P:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case L:return F(t.type);case I:return F(t.render);case M:if(t=1===t._status?t._result:null)return F(t)}return null}function j(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,a=F(t.type);n=null,r&&(n=F(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(_,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}e+=n,t=t.return}while(t);return e}var W=null,G={};function z(){if(W)for(var t in G){var e=G[t],n=W.indexOf(t);if(!(-1<n))throw Error(o(96,t));if(!B[n]){if(!e.extractEvents)throw Error(o(97,t));for(var r in B[n]=e,n=e.eventTypes){var i=void 0,a=n[r],s=e,c=r;if(H.hasOwnProperty(c))throw Error(o(99,c));H[c]=a;var u=a.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&U(u[i],s,c);i=!0}else a.registrationName?(U(a.registrationName,s,c),i=!0):i=!1;if(!i)throw Error(o(98,r,t))}}}}function U(t,e,n){if(V[t])throw Error(o(100,t));V[t]=e,q[t]=e.eventTypes[n].dependencies}var B=[],H={},V={},q={};function K(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];if(!G.hasOwnProperty(e)||G[e]!==r){if(G[e])throw Error(o(102,e));G[e]=r,n=!0}}n&&z()}var X=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Y=null,$=null,Q=null;function Z(t){if(t=g(t)){if("function"!==typeof Y)throw Error(o(280));var e=t.stateNode;e&&(e=p(e),Y(t.stateNode,t.type,e))}}function J(t){$?Q?Q.push(t):Q=[t]:$=t}function tt(){if($){var t=$,e=Q;if(Q=$=null,Z(t),e)for(t=0;t<e.length;t++)Z(e[t])}}function et(t,e){return t(e)}function nt(t,e,n,r,i){return t(e,n,r,i)}function rt(){}var it=et,at=!1,ot=!1;function st(){null===$&&null===Q||(rt(),tt())}function ct(t,e,n){if(ot)return t(e,n);ot=!0;try{return it(t,e,n)}finally{ot=!1,st()}}var ut=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lt=Object.prototype.hasOwnProperty,ft={},ht={};function dt(t,e,n,r,i,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){pt[t]=new dt(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];pt[e]=new dt(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){pt[t]=new dt(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){pt[t]=new dt(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){pt[t]=new dt(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){pt[t]=new dt(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){pt[t]=new dt(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){pt[t]=new dt(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){pt[t]=new dt(t,5,!1,t.toLowerCase(),null,!1)}));var gt=/[\-:]([a-z])/g;function yt(t){return t[1].toUpperCase()}function vt(t,e,n,r){var i=pt.hasOwnProperty(e)?pt[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!lt.call(ht,t)||!lt.call(ft,t)&&(ut.test(t)?ht[t]=!0:(ft[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}function mt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function _t(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function bt(t){t._valueTracker||(t._valueTracker=function(t){var e=_t(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,a.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function wt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_t(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function xt(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function kt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=mt(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Ct(t,e){null!=(e=e.checked)&&vt(t,"checked",e,!1)}function Et(t,e){Ct(t,e);var n=mt(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?St(t,e.type,n):e.hasOwnProperty("defaultValue")&&St(t,e.type,mt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function At(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function St(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function Tt(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function Pt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function Ot(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Rt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:mt(n)}}function Lt(t,e){var n=mt(e.value),r=mt(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function Mt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(gt,yt);pt[e]=new dt(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(gt,yt);pt[e]=new dt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(gt,yt);pt[e]=new dt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){pt[t]=new dt(t,1,!1,t.toLowerCase(),null,!1)})),pt.xlinkHref=new dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){pt[t]=new dt(t,1,!1,t.toLowerCase(),null,!0)}));var It="http://www.w3.org/1999/xhtml",Dt="http://www.w3.org/2000/svg";function Nt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ft(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Nt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var jt,Wt,Gt=(Wt=function(t,e){if(t.namespaceURI!==Dt||"innerHTML"in t)t.innerHTML=e;else{for((jt=jt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return Wt(t,e)}))}:Wt);function zt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function Ut(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bt={animationend:Ut("Animation","AnimationEnd"),animationiteration:Ut("Animation","AnimationIteration"),animationstart:Ut("Animation","AnimationStart"),transitionend:Ut("Transition","TransitionEnd")},Ht={},Vt={};function qt(t){if(Ht[t])return Ht[t];if(!Bt[t])return t;var e,n=Bt[t];for(e in n)if(n.hasOwnProperty(e)&&e in Vt)return Ht[t]=n[e];return t}X&&(Vt=document.createElement("div").style,"AnimationEvent"in window||(delete Bt.animationend.animation,delete Bt.animationiteration.animation,delete Bt.animationstart.animation),"TransitionEvent"in window||delete Bt.transitionend.transition);var Kt=qt("animationend"),Xt=qt("animationiteration"),Yt=qt("animationstart"),$t=qt("transitionend"),Qt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zt=new("function"===typeof WeakMap?WeakMap:Map);function Jt(t){var e=Zt.get(t);return void 0===e&&(e=new Map,Zt.set(t,e)),e}function te(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function ee(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ne(t){if(te(t)!==t)throw Error(o(188))}function re(t){if(t=function(t){var e=t.alternate;if(!e){if(null===(e=te(t)))throw Error(o(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return ne(i),t;if(a===r)return ne(i),e;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?t:e}(t),!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function ie(t,e){if(null==e)throw Error(o(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function ae(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var oe=null;function se(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)v(t,e[r],n[r]);else e&&v(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function ce(t){if(null!==t&&(oe=ie(oe,t)),t=oe,oe=null,t){if(ae(t,se),oe)throw Error(o(95));if(l)throw t=f,l=!1,f=null,t}}function ue(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function le(t){if(!X)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}var fe=[];function he(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>fe.length&&fe.push(t)}function de(t,e,n,r){if(fe.length){var i=fe.pop();return i.topLevelType=t,i.eventSystemFlags=r,i.nativeEvent=e,i.targetInst=n,i}return{topLevelType:t,eventSystemFlags:r,nativeEvent:e,targetInst:n,ancestors:[]}}function pe(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=Rn(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=ue(t.nativeEvent);r=t.topLevelType;var a=t.nativeEvent,o=t.eventSystemFlags;0===n&&(o|=64);for(var s=null,c=0;c<B.length;c++){var u=B[c];u&&(u=u.extractEvents(r,e,a,i,o))&&(s=ie(s,u))}ce(s)}}function ge(t,e,n){if(!n.has(t)){switch(t){case"scroll":Ye(e,"scroll",!0);break;case"focus":case"blur":Ye(e,"focus",!0),Ye(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":le(t)&&Ye(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Qt.indexOf(t)&&Xe(t,e)}n.set(t,null)}}var ye,ve,me,_e=!1,be=[],we=null,xe=null,ke=null,Ce=new Map,Ee=new Map,Ae=[],Se="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Te="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Pe(t,e,n,r,i){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Oe(t,e){switch(t){case"focus":case"blur":we=null;break;case"dragenter":case"dragleave":xe=null;break;case"mouseover":case"mouseout":ke=null;break;case"pointerover":case"pointerout":Ce.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ee.delete(e.pointerId)}}function Re(t,e,n,r,i,a){return null===t||t.nativeEvent!==a?(t=Pe(e,n,r,i,a),null!==e&&(null!==(e=Ln(e))&&ve(e)),t):(t.eventSystemFlags|=r,t)}function Le(t){var e=Rn(t.target);if(null!==e){var n=te(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=ee(n)))return t.blockedOn=e,void a.unstable_runWithPriority(t.priority,(function(){me(n)}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Me(t){if(null!==t.blockedOn)return!1;var e=Je(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var n=Ln(e);return null!==n&&ve(n),t.blockedOn=e,!1}return!0}function Ie(t,e,n){Me(t)&&n.delete(e)}function De(){for(_e=!1;0<be.length;){var t=be[0];if(null!==t.blockedOn){null!==(t=Ln(t.blockedOn))&&ye(t);break}var e=Je(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:be.shift()}null!==we&&Me(we)&&(we=null),null!==xe&&Me(xe)&&(xe=null),null!==ke&&Me(ke)&&(ke=null),Ce.forEach(Ie),Ee.forEach(Ie)}function Ne(t,e){t.blockedOn===e&&(t.blockedOn=null,_e||(_e=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,De)))}function Fe(t){function e(e){return Ne(e,t)}if(0<be.length){Ne(be[0],t);for(var n=1;n<be.length;n++){var r=be[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==we&&Ne(we,t),null!==xe&&Ne(xe,t),null!==ke&&Ne(ke,t),Ce.forEach(e),Ee.forEach(e),n=0;n<Ae.length;n++)(r=Ae[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Ae.length&&null===(n=Ae[0]).blockedOn;)Le(n),null===n.blockedOn&&Ae.shift()}var je={},We=new Map,Ge=new Map,ze=["abort","abort",Kt,"animationEnd",Xt,"animationIteration",Yt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",$t,"transitionEnd","waiting","waiting"];function Ue(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[r],eventPriority:e},Ge.set(r,e),We.set(r,a),je[i]=a}}Ue("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ue("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ue(ze,2);for(var Be="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),He=0;He<Be.length;He++)Ge.set(Be[He],0);var Ve=a.unstable_UserBlockingPriority,qe=a.unstable_runWithPriority,Ke=!0;function Xe(t,e){Ye(e,t,!1)}function Ye(t,e,n){var r=Ge.get(e);switch(void 0===r?2:r){case 0:r=$e.bind(null,e,1,t);break;case 1:r=Qe.bind(null,e,1,t);break;default:r=Ze.bind(null,e,1,t)}n?t.addEventListener(e,r,!0):t.addEventListener(e,r,!1)}function $e(t,e,n,r){at||rt();var i=Ze,a=at;at=!0;try{nt(i,t,e,n,r)}finally{(at=a)||st()}}function Qe(t,e,n,r){qe(Ve,Ze.bind(null,t,e,n,r))}function Ze(t,e,n,r){if(Ke)if(0<be.length&&-1<Se.indexOf(t))t=Pe(null,t,e,n,r),be.push(t);else{var i=Je(t,e,n,r);if(null===i)Oe(t,r);else if(-1<Se.indexOf(t))t=Pe(i,t,e,n,r),be.push(t);else if(!function(t,e,n,r,i){switch(e){case"focus":return we=Re(we,t,e,n,r,i),!0;case"dragenter":return xe=Re(xe,t,e,n,r,i),!0;case"mouseover":return ke=Re(ke,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ce.set(a,Re(Ce.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ee.set(a,Re(Ee.get(a)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r)){Oe(t,r),t=de(t,r,null,e);try{ct(pe,t)}finally{he(t)}}}}function Je(t,e,n,r){if(null!==(n=Rn(n=ue(r)))){var i=te(n);if(null===i)n=null;else{var a=i.tag;if(13===a){if(null!==(n=ee(i)))return n;n=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}t=de(t,r,n,e);try{ct(pe,t)}finally{he(t)}return null}var tn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function nn(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||tn.hasOwnProperty(t)&&tn[t]?(""+e).trim():e+"px"}function rn(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=nn(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(tn).forEach((function(t){en.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),tn[e]=tn[t]}))}));var an=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(t,e){if(e){if(an[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62,""))}}function sn(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cn=It;function un(t,e){var n=Jt(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=q[e];for(var r=0;r<e.length;r++)ge(e[r],t,n)}function ln(){}function fn(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function hn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dn(t,e){var n,r=hn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=hn(r)}}function pn(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?pn(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function gn(){for(var t=window,e=fn();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=fn((t=e.contentWindow).document)}return e}function yn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var vn="$?",mn="$!",_n=null,bn=null;function wn(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function xn(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var kn="function"===typeof setTimeout?setTimeout:void 0,Cn="function"===typeof clearTimeout?clearTimeout:void 0;function En(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function An(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||n===mn||n===vn){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Sn=Math.random().toString(36).slice(2),Tn="__reactInternalInstance$"+Sn,Pn="__reactEventHandlers$"+Sn,On="__reactContainere$"+Sn;function Rn(t){var e=t[Tn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[On]||n[Tn]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=An(t);null!==t;){if(n=t[Tn])return n;t=An(t)}return e}n=(t=n).parentNode}return null}function Ln(t){return!(t=t[Tn]||t[On])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Mn(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function In(t){return t[Pn]||null}function Dn(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Nn(t,e){var n=t.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(o(231,e,typeof n));return n}function Fn(t,e,n){(e=Nn(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=ie(n._dispatchListeners,e),n._dispatchInstances=ie(n._dispatchInstances,t))}function jn(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=Dn(e);for(e=n.length;0<e--;)Fn(n[e],"captured",t);for(e=0;e<n.length;e++)Fn(n[e],"bubbled",t)}}function Wn(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=Nn(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=ie(n._dispatchListeners,e),n._dispatchInstances=ie(n._dispatchInstances,t))}function Gn(t){t&&t.dispatchConfig.registrationName&&Wn(t._targetInst,null,t)}function zn(t){ae(t,jn)}var Un=null,Bn=null,Hn=null;function Vn(){if(Hn)return Hn;var t,e,n=Bn,r=n.length,i="value"in Un?Un.value:Un.textContent,a=i.length;for(t=0;t<r&&n[t]===i[t];t++);var o=r-t;for(e=1;e<=o&&n[r-e]===i[a-e];e++);return Hn=i.slice(t,1<e?1-e:void 0)}function qn(){return!0}function Kn(){return!1}function Xn(t,e,n,r){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?qn:Kn,this.isPropagationStopped=Kn,this}function Yn(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function $n(t){if(!(t instanceof this))throw Error(o(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Qn(t){t.eventPool=[],t.getPooled=Yn,t.release=$n}i(Xn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){this.isPersistent=qn},isPersistent:Kn,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Kn,this._dispatchInstances=this._dispatchListeners=null}}),Xn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Xn.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var a=new e;return i(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=i({},r.Interface,t),n.extend=r.extend,Qn(n),n},Qn(Xn);var Zn=Xn.extend({data:null}),Jn=Xn.extend({data:null}),tr=[9,13,27,32],er=X&&"CompositionEvent"in window,nr=null;X&&"documentMode"in document&&(nr=document.documentMode);var rr=X&&"TextEvent"in window&&!nr,ir=X&&(!er||nr&&8<nr&&11>=nr),ar=String.fromCharCode(32),or={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},sr=!1;function cr(t,e){switch(t){case"keyup":return-1!==tr.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function ur(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var lr=!1;var fr={eventTypes:or,extractEvents:function(t,e,n,r){var i;if(er)t:{switch(t){case"compositionstart":var a=or.compositionStart;break t;case"compositionend":a=or.compositionEnd;break t;case"compositionupdate":a=or.compositionUpdate;break t}a=void 0}else lr?cr(t,n)&&(a=or.compositionEnd):"keydown"===t&&229===n.keyCode&&(a=or.compositionStart);return a?(ir&&"ko"!==n.locale&&(lr||a!==or.compositionStart?a===or.compositionEnd&&lr&&(i=Vn()):(Bn="value"in(Un=r)?Un.value:Un.textContent,lr=!0)),a=Zn.getPooled(a,e,n,r),i?a.data=i:null!==(i=ur(n))&&(a.data=i),zn(a),i=a):i=null,(t=rr?function(t,e){switch(t){case"compositionend":return ur(e);case"keypress":return 32!==e.which?null:(sr=!0,ar);case"textInput":return(t=e.data)===ar&&sr?null:t;default:return null}}(t,n):function(t,e){if(lr)return"compositionend"===t||!er&&cr(t,e)?(t=Vn(),Hn=Bn=Un=null,lr=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ir&&"ko"!==e.locale?null:e.data}}(t,n))?((e=Jn.getPooled(or.beforeInput,e,n,r)).data=t,zn(e)):e=null,null===i?e:null===e?i:[i,e]}},hr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!hr[t.type]:"textarea"===e}var pr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function gr(t,e,n){return(t=Xn.getPooled(pr.change,t,e,n)).type="change",J(n),zn(t),t}var yr=null,vr=null;function mr(t){ce(t)}function _r(t){if(wt(Mn(t)))return t}function br(t,e){if("change"===t)return e}var wr=!1;function xr(){yr&&(yr.detachEvent("onpropertychange",kr),vr=yr=null)}function kr(t){if("value"===t.propertyName&&_r(vr))if(t=gr(vr,t,ue(t)),at)ce(t);else{at=!0;try{et(mr,t)}finally{at=!1,st()}}}function Cr(t,e,n){"focus"===t?(xr(),vr=n,(yr=e).attachEvent("onpropertychange",kr)):"blur"===t&&xr()}function Er(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return _r(vr)}function Ar(t,e){if("click"===t)return _r(e)}function Sr(t,e){if("input"===t||"change"===t)return _r(e)}X&&(wr=le("input")&&(!document.documentMode||9<document.documentMode));var Tr={eventTypes:pr,_isInputEventSupported:wr,extractEvents:function(t,e,n,r){var i=e?Mn(e):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=br;else if(dr(i))if(wr)o=Sr;else{o=Er;var s=Cr}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Ar);if(o&&(o=o(t,e)))return gr(o,n,r);s&&s(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&St(i,"number",i.value)}},Pr=Xn.extend({view:null,detail:null}),Or={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rr(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Or[t])&&!!e[t]}function Lr(){return Rr}var Mr=0,Ir=0,Dr=!1,Nr=!1,Fr=Pr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Lr,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Mr;return Mr=t.screenX,Dr?"mousemove"===t.type?t.screenX-e:0:(Dr=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Ir;return Ir=t.screenY,Nr?"mousemove"===t.type?t.screenY-e:0:(Nr=!0,0)}}),jr=Fr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Wr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Gr={eventTypes:Wr,extractEvents:function(t,e,n,r,i){var a="mouseover"===t||"pointerover"===t,o="mouseout"===t||"pointerout"===t;if(a&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,o)?(o=e,null!==(e=(e=n.relatedTarget||n.toElement)?Rn(e):null)&&(e!==te(e)||5!==e.tag&&6!==e.tag)&&(e=null)):o=null;if(o===e)return null;if("mouseout"===t||"mouseover"===t)var s=Fr,c=Wr.mouseLeave,u=Wr.mouseEnter,l="mouse";else"pointerout"!==t&&"pointerover"!==t||(s=jr,c=Wr.pointerLeave,u=Wr.pointerEnter,l="pointer");if(t=null==o?a:Mn(o),a=null==e?a:Mn(e),(c=s.getPooled(c,o,n,r)).type=l+"leave",c.target=t,c.relatedTarget=a,(n=s.getPooled(u,e,n,r)).type=l+"enter",n.target=a,n.relatedTarget=t,l=e,(r=o)&&l)t:{for(u=l,o=0,t=s=r;t;t=Dn(t))o++;for(t=0,e=u;e;e=Dn(e))t++;for(;0<o-t;)s=Dn(s),o--;for(;0<t-o;)u=Dn(u),t--;for(;o--;){if(s===u||s===u.alternate)break t;s=Dn(s),u=Dn(u)}s=null}else s=null;for(u=s,s=[];r&&r!==u&&(null===(o=r.alternate)||o!==u);)s.push(r),r=Dn(r);for(r=[];l&&l!==u&&(null===(o=l.alternate)||o!==u);)r.push(l),l=Dn(l);for(l=0;l<s.length;l++)Wn(s[l],"bubbled",c);for(l=r.length;0<l--;)Wn(r[l],"captured",n);return 0===(64&i)?[c]:[c,n]}};var zr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},Ur=Object.prototype.hasOwnProperty;function Br(t,e){if(zr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Ur.call(e,n[r])||!zr(t[n[r]],e[n[r]]))return!1;return!0}var Hr=X&&"documentMode"in document&&11>=document.documentMode,Vr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},qr=null,Kr=null,Xr=null,Yr=!1;function $r(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Yr||null==qr||qr!==fn(n)?null:("selectionStart"in(n=qr)&&yn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Xr&&Br(Xr,n)?null:(Xr=n,(t=Xn.getPooled(Vr.select,Kr,t,e)).type="select",t.target=qr,zn(t),t))}var Qr={eventTypes:Vr,extractEvents:function(t,e,n,r,i,a){if(!(a=!(i=a||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){t:{i=Jt(i),a=q.onSelect;for(var o=0;o<a.length;o++)if(!i.has(a[o])){i=!1;break t}i=!0}a=!i}if(a)return null;switch(i=e?Mn(e):window,t){case"focus":(dr(i)||"true"===i.contentEditable)&&(qr=i,Kr=e,Xr=null);break;case"blur":Xr=Kr=qr=null;break;case"mousedown":Yr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Yr=!1,$r(n,r);case"selectionchange":if(Hr)break;case"keydown":case"keyup":return $r(n,r)}return null}},Zr=Xn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Jr=Xn.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ti=Pr.extend({relatedTarget:null});function ei(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var ni={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ri={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ii=Pr.extend({key:function(t){if(t.key){var e=ni[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=ei(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?ri[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Lr,charCode:function(t){return"keypress"===t.type?ei(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?ei(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),ai=Fr.extend({dataTransfer:null}),oi=Pr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Lr}),si=Xn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ci=Fr.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),ui={eventTypes:je,extractEvents:function(t,e,n,r){var i=We.get(t);if(!i)return null;switch(t){case"keypress":if(0===ei(n))return null;case"keydown":case"keyup":t=ii;break;case"blur":case"focus":t=ti;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=ai;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=oi;break;case Kt:case Xt:case Yt:t=Zr;break;case $t:t=si;break;case"scroll":t=Pr;break;case"wheel":t=ci;break;case"copy":case"cut":case"paste":t=Jr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=jr;break;default:t=Xn}return zn(e=t.getPooled(i,e,n,r)),e}};if(W)throw Error(o(101));W=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),z(),p=In,g=Ln,y=Mn,K({SimpleEventPlugin:ui,EnterLeaveEventPlugin:Gr,ChangeEventPlugin:Tr,SelectEventPlugin:Qr,BeforeInputEventPlugin:fr});var li=[],fi=-1;function hi(t){0>fi||(t.current=li[fi],li[fi]=null,fi--)}function di(t,e){fi++,li[fi]=t.current,t.current=e}var pi={},gi={current:pi},yi={current:!1},vi=pi;function mi(t,e){var n=t.type.contextTypes;if(!n)return pi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function _i(t){return null!==(t=t.childContextTypes)&&void 0!==t}function bi(){hi(yi),hi(gi)}function wi(t,e,n){if(gi.current!==pi)throw Error(o(168));di(gi,e),di(yi,n)}function xi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(o(108,F(e)||"Unknown",a));return i({},n,{},r)}function ki(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pi,vi=gi.current,di(gi,t),di(yi,yi.current),!0}function Ci(t,e,n){var r=t.stateNode;if(!r)throw Error(o(169));n?(t=xi(t,e,vi),r.__reactInternalMemoizedMergedChildContext=t,hi(yi),hi(gi),di(gi,t)):hi(yi),di(yi,n)}var Ei=a.unstable_runWithPriority,Ai=a.unstable_scheduleCallback,Si=a.unstable_cancelCallback,Ti=a.unstable_requestPaint,Pi=a.unstable_now,Oi=a.unstable_getCurrentPriorityLevel,Ri=a.unstable_ImmediatePriority,Li=a.unstable_UserBlockingPriority,Mi=a.unstable_NormalPriority,Ii=a.unstable_LowPriority,Di=a.unstable_IdlePriority,Ni={},Fi=a.unstable_shouldYield,ji=void 0!==Ti?Ti:function(){},Wi=null,Gi=null,zi=!1,Ui=Pi(),Bi=1e4>Ui?Pi:function(){return Pi()-Ui};function Hi(){switch(Oi()){case Ri:return 99;case Li:return 98;case Mi:return 97;case Ii:return 96;case Di:return 95;default:throw Error(o(332))}}function Vi(t){switch(t){case 99:return Ri;case 98:return Li;case 97:return Mi;case 96:return Ii;case 95:return Di;default:throw Error(o(332))}}function qi(t,e){return t=Vi(t),Ei(t,e)}function Ki(t,e,n){return t=Vi(t),Ai(t,e,n)}function Xi(t){return null===Wi?(Wi=[t],Gi=Ai(Ri,$i)):Wi.push(t),Ni}function Yi(){if(null!==Gi){var t=Gi;Gi=null,Si(t)}$i()}function $i(){if(!zi&&null!==Wi){zi=!0;var t=0;try{var e=Wi;qi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Wi=null}catch(n){throw null!==Wi&&(Wi=Wi.slice(t+1)),Ai(Ri,Yi),n}finally{zi=!1}}}function Qi(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}function Zi(t,e){if(t&&t.defaultProps)for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var Ji={current:null},ta=null,ea=null,na=null;function ra(){na=ea=ta=null}function ia(t){var e=Ji.current;hi(Ji),t.type._context._currentValue=e}function aa(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function oa(t,e){ta=t,na=ea=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Io=!0),t.firstContext=null)}function sa(t,e){if(na!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(na=t,e=1073741823),e={context:t,observedBits:e,next:null},null===ea){if(null===ta)throw Error(o(308));ea=e,ta.dependencies={expirationTime:0,firstContext:e,responders:null}}else ea=ea.next=e;return t._currentValue}var ca=!1;function ua(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function la(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function fa(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function ha(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function da(t,e){var n=t.alternate;null!==n&&la(n,t),null===(n=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function pa(t,e,n,r){var a=t.updateQueue;ca=!1;var o=a.baseQueue,s=a.shared.pending;if(null!==s){if(null!==o){var c=o.next;o.next=s.next,s.next=c}o=s,a.shared.pending=null,null!==(c=t.alternate)&&(null!==(c=c.updateQueue)&&(c.baseQueue=s))}if(null!==o){c=o.next;var u=a.baseState,l=0,f=null,h=null,d=null;if(null!==c)for(var p=c;;){if((s=p.expirationTime)<r){var g={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===d?(h=d=g,f=u):d=d.next=g,s>l&&(l=s)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),dc(s,p.suspenseConfig);t:{var y=t,v=p;switch(s=e,g=n,v.tag){case 1:if("function"===typeof(y=v.payload)){u=y.call(g,u,s);break t}u=y;break t;case 3:y.effectTag=-4097&y.effectTag|64;case 0:if(null===(s="function"===typeof(y=v.payload)?y.call(g,u,s):y)||void 0===s)break t;u=i({},u,s);break t;case 2:ca=!0}}null!==p.callback&&(t.effectTag|=32,null===(s=a.effects)?a.effects=[p]:s.push(p))}if(null===(p=p.next)||p===c){if(null===(s=a.shared.pending))break;p=o.next=s.next,s.next=c,a.baseQueue=o=s,a.shared.pending=null}}null===d?f=u:d.next=h,a.baseState=f,a.baseQueue=d,pc(l),t.expirationTime=l,t.memoizedState=u}}function ga(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var ya=m.ReactCurrentBatchConfig,va=(new r.Component).refs;function ma(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}var _a={isMounted:function(t){return!!(t=t._reactInternalFiber)&&te(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=tc(),i=ya.suspense;(i=fa(r=ec(r,t,i),i)).payload=e,void 0!==n&&null!==n&&(i.callback=n),ha(t,i),nc(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=tc(),i=ya.suspense;(i=fa(r=ec(r,t,i),i)).tag=1,i.payload=e,void 0!==n&&null!==n&&(i.callback=n),ha(t,i),nc(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=tc(),r=ya.suspense;(r=fa(n=ec(n,t,r),r)).tag=2,void 0!==e&&null!==e&&(r.callback=e),ha(t,r),nc(t,n)}};function ba(t,e,n,r,i,a,o){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,a,o):!e.prototype||!e.prototype.isPureReactComponent||(!Br(n,r)||!Br(i,a))}function wa(t,e,n){var r=!1,i=pi,a=e.contextType;return"object"===typeof a&&null!==a?a=sa(a):(i=_i(e)?vi:gi.current,a=(r=null!==(r=e.contextTypes)&&void 0!==r)?mi(t,i):pi),e=new e(n,a),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=_a,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function xa(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_a.enqueueReplaceState(e,e.state,null)}function ka(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=va,ua(t);var a=e.contextType;"object"===typeof a&&null!==a?i.context=sa(a):(a=_i(e)?vi:gi.current,i.context=mi(t,a)),pa(t,n,i,r),i.state=t.memoizedState,"function"===typeof(a=e.getDerivedStateFromProps)&&(ma(t,e,a,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&_a.enqueueReplaceState(i,i.state,null),pa(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.effectTag|=4)}var Ca=Array.isArray;function Ea(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:(e=function(t){var e=r.refs;e===va&&(e=r.refs={}),null===t?delete e[i]:e[i]=t},e._stringRef=i,e)}if("string"!==typeof t)throw Error(o(284));if(!n._owner)throw Error(o(290,t))}return t}function Aa(t,e){if("textarea"!==t.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function Sa(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Ic(t,e)).index=0,t.sibling=null,t}function a(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function c(t,e,n,r){return null===e||6!==e.tag?((e=Fc(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function u(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=Ea(t,e,n),r.return=t,r):((r=Dc(n.type,n.key,n.props,null,t.mode,r)).ref=Ea(t,e,n),r.return=t,r)}function l(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=jc(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function f(t,e,n,r,a){return null===e||7!==e.tag?((e=Nc(n,t.mode,r,a)).return=t,e):((e=i(e,n)).return=t,e)}function h(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Fc(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case w:return(n=Dc(e.type,e.key,e.props,null,t.mode,n)).ref=Ea(t,null,e),n.return=t,n;case x:return(e=jc(e,t.mode,n)).return=t,e}if(Ca(e)||N(e))return(e=Nc(e,t.mode,n,null)).return=t,e;Aa(t,e)}return null}function d(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:c(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?n.type===k?f(t,e,n.props.children,r,i):u(t,e,n,r):null;case x:return n.key===i?l(t,e,n,r):null}if(Ca(n)||N(n))return null!==i?null:f(t,e,n,r,null);Aa(t,n)}return null}function p(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return c(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return t=t.get(null===r.key?n:r.key)||null,r.type===k?f(e,t,r.props.children,i,r.key):u(e,t,r,i);case x:return l(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(Ca(r)||N(r))return f(e,t=t.get(n)||null,r,i,null);Aa(e,r)}return null}function g(i,o,s,c){for(var u=null,l=null,f=o,g=o=0,y=null;null!==f&&g<s.length;g++){f.index>g?(y=f,f=null):y=f.sibling;var v=d(i,f,s[g],c);if(null===v){null===f&&(f=y);break}t&&f&&null===v.alternate&&e(i,f),o=a(v,o,g),null===l?u=v:l.sibling=v,l=v,f=y}if(g===s.length)return n(i,f),u;if(null===f){for(;g<s.length;g++)null!==(f=h(i,s[g],c))&&(o=a(f,o,g),null===l?u=f:l.sibling=f,l=f);return u}for(f=r(i,f);g<s.length;g++)null!==(y=p(f,i,g,s[g],c))&&(t&&null!==y.alternate&&f.delete(null===y.key?g:y.key),o=a(y,o,g),null===l?u=y:l.sibling=y,l=y);return t&&f.forEach((function(t){return e(i,t)})),u}function y(i,s,c,u){var l=N(c);if("function"!==typeof l)throw Error(o(150));if(null==(c=l.call(c)))throw Error(o(151));for(var f=l=null,g=s,y=s=0,v=null,m=c.next();null!==g&&!m.done;y++,m=c.next()){g.index>y?(v=g,g=null):v=g.sibling;var _=d(i,g,m.value,u);if(null===_){null===g&&(g=v);break}t&&g&&null===_.alternate&&e(i,g),s=a(_,s,y),null===f?l=_:f.sibling=_,f=_,g=v}if(m.done)return n(i,g),l;if(null===g){for(;!m.done;y++,m=c.next())null!==(m=h(i,m.value,u))&&(s=a(m,s,y),null===f?l=m:f.sibling=m,f=m);return l}for(g=r(i,g);!m.done;y++,m=c.next())null!==(m=p(g,i,y,m.value,u))&&(t&&null!==m.alternate&&g.delete(null===m.key?y:m.key),s=a(m,s,y),null===f?l=m:f.sibling=m,f=m);return t&&g.forEach((function(t){return e(i,t)})),l}return function(t,r,a,c){var u="object"===typeof a&&null!==a&&a.type===k&&null===a.key;u&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case w:t:{for(l=a.key,u=r;null!==u;){if(u.key===l){if(7===u.tag){if(a.type===k){n(t,u.sibling),(r=i(u,a.props.children)).return=t,t=r;break t}}else if(u.elementType===a.type){n(t,u.sibling),(r=i(u,a.props)).ref=Ea(t,u,a),r.return=t,t=r;break t}n(t,u);break}e(t,u),u=u.sibling}a.type===k?((r=Nc(a.props.children,t.mode,c,a.key)).return=t,t=r):((c=Dc(a.type,a.key,a.props,null,t.mode,c)).ref=Ea(t,r,a),c.return=t,t=c)}return s(t);case x:t:{for(u=a.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(t,r.sibling),(r=i(r,a.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=jc(a,t.mode,c)).return=t,t=r}return s(t)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,a)).return=t,t=r):(n(t,r),(r=Fc(a,t.mode,c)).return=t,t=r),s(t);if(Ca(a))return g(t,r,a,c);if(N(a))return y(t,r,a,c);if(l&&Aa(t,a),"undefined"===typeof a&&!u)switch(t.tag){case 1:case 0:throw t=t.type,Error(o(152,t.displayName||t.name||"Component"))}return n(t,r)}}var Ta=Sa(!0),Pa=Sa(!1),Oa={},Ra={current:Oa},La={current:Oa},Ma={current:Oa};function Ia(t){if(t===Oa)throw Error(o(174));return t}function Da(t,e){switch(di(Ma,e),di(La,t),di(Ra,Oa),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ft(null,"");break;default:e=Ft(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}hi(Ra),di(Ra,e)}function Na(){hi(Ra),hi(La),hi(Ma)}function Fa(t){Ia(Ma.current);var e=Ia(Ra.current),n=Ft(e,t.type);e!==n&&(di(La,t),di(Ra,n))}function ja(t){La.current===t&&(hi(Ra),hi(La))}var Wa={current:0};function Ga(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===vn||n.data===mn))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function za(t,e){return{responder:t,props:e}}var Ua=m.ReactCurrentDispatcher,Ba=m.ReactCurrentBatchConfig,Ha=0,Va=null,qa=null,Ka=null,Xa=!1;function Ya(){throw Error(o(321))}function $a(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!zr(t[n],e[n]))return!1;return!0}function Qa(t,e,n,r,i,a){if(Ha=a,Va=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,Ua.current=null===t||null===t.memoizedState?wo:xo,t=n(r,i),e.expirationTime===Ha){a=0;do{if(e.expirationTime=0,!(25>a))throw Error(o(301));a+=1,Ka=qa=null,e.updateQueue=null,Ua.current=ko,t=n(r,i)}while(e.expirationTime===Ha)}if(Ua.current=bo,e=null!==qa&&null!==qa.next,Ha=0,Ka=qa=Va=null,Xa=!1,e)throw Error(o(300));return t}function Za(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ka?Va.memoizedState=Ka=t:Ka=Ka.next=t,Ka}function Ja(){if(null===qa){var t=Va.alternate;t=null!==t?t.memoizedState:null}else t=qa.next;var e=null===Ka?Va.memoizedState:Ka.next;if(null!==e)Ka=e,qa=t;else{if(null===t)throw Error(o(310));t={memoizedState:(qa=t).memoizedState,baseState:qa.baseState,baseQueue:qa.baseQueue,queue:qa.queue,next:null},null===Ka?Va.memoizedState=Ka=t:Ka=Ka.next=t}return Ka}function to(t,e){return"function"===typeof e?e(t):e}function eo(t){var e=Ja(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=qa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var c=s=a=null,u=i;do{var l=u.expirationTime;if(l<Ha){var f={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===c?(s=c=f,a=r):c=c.next=f,l>Va.expirationTime&&(Va.expirationTime=l,pc(l))}else null!==c&&(c=c.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),dc(l,u.suspenseConfig),r=u.eagerReducer===t?u.eagerState:t(r,u.action);u=u.next}while(null!==u&&u!==i);null===c?a=r:c.next=s,zr(r,e.memoizedState)||(Io=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function no(t){var e=Ja(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=t(a,s.action),s=s.next}while(s!==i);zr(a,e.memoizedState)||(Io=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function ro(t){var e=Za();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:to,lastRenderedState:t}).dispatch=_o.bind(null,Va,t),[e.memoizedState,t]}function io(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=Va.updateQueue)?(e={lastEffect:null},Va.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function ao(){return Ja().memoizedState}function oo(t,e,n,r){var i=Za();Va.effectTag|=t,i.memoizedState=io(1|e,n,void 0,void 0===r?null:r)}function so(t,e,n,r){var i=Ja();r=void 0===r?null:r;var a=void 0;if(null!==qa){var o=qa.memoizedState;if(a=o.destroy,null!==r&&$a(r,o.deps))return void io(e,n,a,r)}Va.effectTag|=t,i.memoizedState=io(1|e,n,a,r)}function co(t,e){return oo(516,4,t,e)}function uo(t,e){return so(516,4,t,e)}function lo(t,e){return so(4,2,t,e)}function fo(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function ho(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,so(4,2,fo.bind(null,e,t),n)}function po(){}function go(t,e){return Za().memoizedState=[t,void 0===e?null:e],t}function yo(t,e){var n=Ja();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&$a(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vo(t,e){var n=Ja();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&$a(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mo(t,e,n){var r=Hi();qi(98>r?98:r,(function(){t(!0)})),qi(97<r?97:r,(function(){var r=Ba.suspense;Ba.suspense=void 0===e?null:e;try{t(!1),n()}finally{Ba.suspense=r}}))}function _o(t,e,n){var r=tc(),i=ya.suspense;i={expirationTime:r=ec(r,t,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var a=e.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),e.pending=i,a=t.alternate,t===Va||null!==a&&a===Va)Xa=!0,i.expirationTime=Ha,Va.expirationTime=Ha;else{if(0===t.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=e.lastRenderedReducer))try{var o=e.lastRenderedState,s=a(o,n);if(i.eagerReducer=a,i.eagerState=s,zr(s,o))return}catch(c){}nc(t,r)}}var bo={readContext:sa,useCallback:Ya,useContext:Ya,useEffect:Ya,useImperativeHandle:Ya,useLayoutEffect:Ya,useMemo:Ya,useReducer:Ya,useRef:Ya,useState:Ya,useDebugValue:Ya,useResponder:Ya,useDeferredValue:Ya,useTransition:Ya},wo={readContext:sa,useCallback:go,useContext:sa,useEffect:co,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,oo(4,2,fo.bind(null,e,t),n)},useLayoutEffect:function(t,e){return oo(4,2,t,e)},useMemo:function(t,e){var n=Za();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Za();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=_o.bind(null,Va,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},Za().memoizedState=t},useState:ro,useDebugValue:po,useResponder:za,useDeferredValue:function(t,e){var n=ro(t),r=n[0],i=n[1];return co((function(){var n=Ba.suspense;Ba.suspense=void 0===e?null:e;try{i(t)}finally{Ba.suspense=n}}),[t,e]),r},useTransition:function(t){var e=ro(!1),n=e[0];return e=e[1],[go(mo.bind(null,e,t),[e,t]),n]}},xo={readContext:sa,useCallback:yo,useContext:sa,useEffect:uo,useImperativeHandle:ho,useLayoutEffect:lo,useMemo:vo,useReducer:eo,useRef:ao,useState:function(){return eo(to)},useDebugValue:po,useResponder:za,useDeferredValue:function(t,e){var n=eo(to),r=n[0],i=n[1];return uo((function(){var n=Ba.suspense;Ba.suspense=void 0===e?null:e;try{i(t)}finally{Ba.suspense=n}}),[t,e]),r},useTransition:function(t){var e=eo(to),n=e[0];return e=e[1],[yo(mo.bind(null,e,t),[e,t]),n]}},ko={readContext:sa,useCallback:yo,useContext:sa,useEffect:uo,useImperativeHandle:ho,useLayoutEffect:lo,useMemo:vo,useReducer:no,useRef:ao,useState:function(){return no(to)},useDebugValue:po,useResponder:za,useDeferredValue:function(t,e){var n=no(to),r=n[0],i=n[1];return uo((function(){var n=Ba.suspense;Ba.suspense=void 0===e?null:e;try{i(t)}finally{Ba.suspense=n}}),[t,e]),r},useTransition:function(t){var e=no(to),n=e[0];return e=e[1],[yo(mo.bind(null,e,t),[e,t]),n]}},Co=null,Eo=null,Ao=!1;function So(t,e){var n=Lc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function To(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Po(t){if(Ao){var e=Eo;if(e){var n=e;if(!To(t,e)){if(!(e=En(n.nextSibling))||!To(t,e))return t.effectTag=-1025&t.effectTag|2,Ao=!1,void(Co=t);So(Co,n)}Co=t,Eo=En(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,Ao=!1,Co=t}}function Oo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Co=t}function Ro(t){if(t!==Co)return!1;if(!Ao)return Oo(t),Ao=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!xn(e,t.memoizedProps))for(e=Eo;e;)So(t,e),e=En(e.nextSibling);if(Oo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Eo=En(t.nextSibling);break t}e--}else"$"!==n&&n!==mn&&n!==vn||e++}t=t.nextSibling}Eo=null}}else Eo=Co?En(t.stateNode.nextSibling):null;return!0}function Lo(){Eo=Co=null,Ao=!1}var Mo=m.ReactCurrentOwner,Io=!1;function Do(t,e,n,r){e.child=null===t?Pa(e,null,n,r):Ta(e,t.child,n,r)}function No(t,e,n,r,i){n=n.render;var a=e.ref;return oa(e,i),r=Qa(t,e,n,r,a,i),null===t||Io?(e.effectTag|=1,Do(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Zo(t,e,i))}function Fo(t,e,n,r,i,a){if(null===t){var o=n.type;return"function"!==typeof o||Mc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Dc(n.type,null,r,null,e.mode,a)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,jo(t,e,o,r,i,a))}return o=t.child,i<a&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:Br)(i,r)&&t.ref===e.ref)?Zo(t,e,a):(e.effectTag|=1,(t=Ic(o,r)).ref=e.ref,t.return=e,e.child=t)}function jo(t,e,n,r,i,a){return null!==t&&Br(t.memoizedProps,r)&&t.ref===e.ref&&(Io=!1,i<a)?(e.expirationTime=t.expirationTime,Zo(t,e,a)):Go(t,e,n,r,a)}function Wo(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function Go(t,e,n,r,i){var a=_i(n)?vi:gi.current;return a=mi(e,a),oa(e,i),n=Qa(t,e,n,r,a,i),null===t||Io?(e.effectTag|=1,Do(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Zo(t,e,i))}function zo(t,e,n,r,i){if(_i(n)){var a=!0;ki(e)}else a=!1;if(oa(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),wa(e,n,r),ka(e,n,r,i),r=!0;else if(null===t){var o=e.stateNode,s=e.memoizedProps;o.props=s;var c=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=sa(u):u=mi(e,u=_i(n)?vi:gi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||c!==u)&&xa(e,o,r,u),ca=!1;var h=e.memoizedState;o.state=h,pa(e,r,o,i),c=e.memoizedState,s!==r||h!==c||yi.current||ca?("function"===typeof l&&(ma(e,n,l,r),c=e.memoizedState),(s=ca||ba(e,n,s,r,h,c,u))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.effectTag|=4)):("function"===typeof o.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=s):("function"===typeof o.componentDidMount&&(e.effectTag|=4),r=!1)}else o=e.stateNode,la(t,e),s=e.memoizedProps,o.props=e.type===e.elementType?s:Zi(e.type,s),c=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=sa(u):u=mi(e,u=_i(n)?vi:gi.current),(f="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||c!==u)&&xa(e,o,r,u),ca=!1,c=e.memoizedState,o.state=c,pa(e,r,o,i),h=e.memoizedState,s!==r||c!==h||yi.current||ca?("function"===typeof l&&(ma(e,n,l,r),h=e.memoizedState),(l=ca||ba(e,n,s,r,c,h,u))?(f||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,u)),"function"===typeof o.componentDidUpdate&&(e.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof o.componentDidUpdate||s===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=h),o.props=r,o.state=h,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=256),r=!1);return Uo(t,e,n,r,a,i)}function Uo(t,e,n,r,i,a){Wo(t,e);var o=0!==(64&e.effectTag);if(!r&&!o)return i&&Ci(e,n,!1),Zo(t,e,a);r=e.stateNode,Mo.current=e;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&o?(e.child=Ta(e,t.child,null,a),e.child=Ta(e,null,s,a)):Do(t,e,s,a),e.memoizedState=r.state,i&&Ci(e,n,!0),e.child}function Bo(t){var e=t.stateNode;e.pendingContext?wi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&wi(0,e.context,!1),Da(t,e.containerInfo)}var Ho,Vo,qo,Ko={dehydrated:null,retryTime:0};function Xo(t,e,n){var r,i=e.mode,a=e.pendingProps,o=Wa.current,s=!1;if((r=0!==(64&e.effectTag))||(r=0!==(2&o)&&(null===t||null!==t.memoizedState)),r?(s=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),di(Wa,1&o),null===t){if(void 0!==a.fallback&&Po(e),s){if(s=a.fallback,(a=Nc(null,i,0,null)).return=e,0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,a.child=t;null!==t;)t.return=a,t=t.sibling;return(n=Nc(s,i,n,null)).return=e,a.sibling=n,e.memoizedState=Ko,e.child=a,n}return i=a.children,e.memoizedState=null,e.child=Pa(e,null,i,n)}if(null!==t.memoizedState){if(i=(t=t.child).sibling,s){if(a=a.fallback,(n=Ic(t,t.pendingProps)).return=e,0===(2&e.mode)&&(s=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Ic(i,a)).return=e,n.sibling=i,n.childExpirationTime=0,e.memoizedState=Ko,e.child=n,i}return n=Ta(e,t.child,a.children,n),e.memoizedState=null,e.child=n}if(t=t.child,s){if(s=a.fallback,(a=Nc(null,i,0,null)).return=e,a.child=t,null!==t&&(t.return=a),0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,a.child=t;null!==t;)t.return=a,t=t.sibling;return(n=Nc(s,i,n,null)).return=e,a.sibling=n,n.effectTag|=2,a.childExpirationTime=0,e.memoizedState=Ko,e.child=a,n}return e.memoizedState=null,e.child=Ta(e,t,a.children,n)}function Yo(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),aa(t.return,e)}function $o(t,e,n,r,i,a){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function Qo(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Do(t,e,r.children,n),0!==(2&(r=Wa.current)))r=1&r|2,e.effectTag|=64;else{if(null!==t&&0!==(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Yo(t,n);else if(19===t.tag)Yo(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(di(Wa,r),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Ga(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),$o(e,!1,i,n,a,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Ga(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}$o(e,!0,n,null,a,e.lastEffect);break;case"together":$o(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Zo(t,e,n){null!==t&&(e.dependencies=t.dependencies);var r=e.expirationTime;if(0!==r&&pc(r),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(n=Ic(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Ic(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Jo(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ts(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return _i(e.type)&&bi(),null;case 3:return Na(),hi(yi),hi(gi),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||!Ro(e)||(e.effectTag|=4),null;case 5:ja(e),n=Ia(Ma.current);var a=e.type;if(null!==t&&null!=e.stateNode)Vo(t,e,a,r,n),t.ref!==e.ref&&(e.effectTag|=128);else{if(!r){if(null===e.stateNode)throw Error(o(166));return null}if(t=Ia(Ra.current),Ro(e)){r=e.stateNode,a=e.type;var s=e.memoizedProps;switch(r[Tn]=e,r[Pn]=s,a){case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(t=0;t<Qt.length;t++)Xe(Qt[t],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"form":Xe("reset",r),Xe("submit",r);break;case"details":Xe("toggle",r);break;case"input":kt(r,s),Xe("invalid",r),un(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Xe("invalid",r),un(n,"onChange");break;case"textarea":Rt(r,s),Xe("invalid",r),un(n,"onChange")}for(var c in on(a,s),t=null,s)if(s.hasOwnProperty(c)){var u=s[c];"children"===c?"string"===typeof u?r.textContent!==u&&(t=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(t=["children",""+u]):V.hasOwnProperty(c)&&null!=u&&un(n,c)}switch(a){case"input":bt(r),At(r,s,!0);break;case"textarea":bt(r),Mt(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=ln)}n=t,e.updateQueue=n,null!==n&&(e.effectTag|=4)}else{switch(c=9===n.nodeType?n:n.ownerDocument,t===cn&&(t=Nt(a)),t===cn?"script"===a?((t=c.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=c.createElement(a,{is:r.is}):(t=c.createElement(a),"select"===a&&(c=t,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):t=c.createElementNS(t,a),t[Tn]=e,t[Pn]=r,Ho(t,e),e.stateNode=t,c=sn(a,r),a){case"iframe":case"object":case"embed":Xe("load",t),u=r;break;case"video":case"audio":for(u=0;u<Qt.length;u++)Xe(Qt[u],t);u=r;break;case"source":Xe("error",t),u=r;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),u=r;break;case"form":Xe("reset",t),Xe("submit",t),u=r;break;case"details":Xe("toggle",t),u=r;break;case"input":kt(t,r),u=xt(t,r),Xe("invalid",t),un(n,"onChange");break;case"option":u=Tt(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},u=i({},r,{value:void 0}),Xe("invalid",t),un(n,"onChange");break;case"textarea":Rt(t,r),u=Ot(t,r),Xe("invalid",t),un(n,"onChange");break;default:u=r}on(a,u);var l=u;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?rn(t,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&Gt(t,f):"children"===s?"string"===typeof f?("textarea"!==a||""!==f)&&zt(t,f):"number"===typeof f&&zt(t,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(V.hasOwnProperty(s)?null!=f&&un(n,s):null!=f&&vt(t,s,f,c))}switch(a){case"input":bt(t),At(t,r,!1);break;case"textarea":bt(t),Mt(t);break;case"option":null!=r.value&&t.setAttribute("value",""+mt(r.value));break;case"select":t.multiple=!!r.multiple,null!=(n=r.value)?Pt(t,!!r.multiple,n,!1):null!=r.defaultValue&&Pt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof u.onClick&&(t.onclick=ln)}wn(a,r)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)qo(0,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(o(166));n=Ia(Ma.current),Ia(Ra.current),Ro(e)?(n=e.stateNode,r=e.memoizedProps,n[Tn]=e,n.nodeValue!==r&&(e.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Tn]=e,e.stateNode=n)}return null;case 13:return hi(Wa),r=e.memoizedState,0!==(64&e.effectTag)?(e.expirationTime=n,e):(n=null!==r,r=!1,null===t?void 0!==e.memoizedProps.fallback&&Ro(e):(r=null!==(a=t.memoizedState),n||null===a||null!==(a=t.child.sibling)&&(null!==(s=e.firstEffect)?(e.firstEffect=a,a.nextEffect=s):(e.firstEffect=e.lastEffect=a,a.nextEffect=null),a.effectTag=8)),n&&!r&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Wa.current)?Ds===Ts&&(Ds=Ps):(Ds!==Ts&&Ds!==Ps||(Ds=Os),0!==Gs&&null!==Ls&&(zc(Ls,Is),Uc(Ls,Gs)))),(n||r)&&(e.effectTag|=4),null);case 4:return Na(),null;case 10:return ia(e),null;case 19:if(hi(Wa),null===(r=e.memoizedState))return null;if(a=0!==(64&e.effectTag),null===(s=r.rendering)){if(a)Jo(r,!1);else if(Ds!==Ts||null!==t&&0!==(64&t.effectTag))for(s=e.child;null!==s;){if(null!==(t=Ga(s))){for(e.effectTag|=64,Jo(r,!1),null!==(a=t.updateQueue)&&(e.updateQueue=a,e.effectTag|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=e.child;null!==r;)s=n,(a=r).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(t=a.alternate)?(a.childExpirationTime=0,a.expirationTime=s,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=t.childExpirationTime,a.expirationTime=t.expirationTime,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return di(Wa,1&Wa.current|2),e.child}s=s.sibling}}else{if(!a)if(null!==(t=Ga(s))){if(e.effectTag|=64,a=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.effectTag|=4),Jo(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>r.tailExpiration&&1<n&&(e.effectTag|=64,a=!0,Jo(r,!1),e.expirationTime=e.childExpirationTime=n-1);r.isBackwards?(s.sibling=e.child,e.child=s):(null!==(n=r.last)?n.sibling=s:e.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Bi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,e=Wa.current,di(Wa,a?1&e|2:1&e),n):null}throw Error(o(156,e.tag))}function es(t){switch(t.tag){case 1:_i(t.type)&&bi();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Na(),hi(yi),hi(gi),0!==(64&(e=t.effectTag)))throw Error(o(285));return t.effectTag=-4097&e|64,t;case 5:return ja(t),null;case 13:return hi(Wa),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return hi(Wa),null;case 4:return Na(),null;case 10:return ia(t),null;default:return null}}function ns(t,e){return{value:t,source:e,stack:j(e)}}Ho=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Vo=function(t,e,n,r,a){var o=t.memoizedProps;if(o!==r){var s,c,u=e.stateNode;switch(Ia(Ra.current),t=null,n){case"input":o=xt(u,o),r=xt(u,r),t=[];break;case"option":o=Tt(u,o),r=Tt(u,r),t=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),t=[];break;case"textarea":o=Ot(u,o),r=Ot(u,r),t=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(u.onclick=ln)}for(s in on(n,r),n=null,o)if(!r.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s)for(c in u=o[s])u.hasOwnProperty(c)&&(n||(n={}),n[c]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(V.hasOwnProperty(s)?t||(t=[]):(t=t||[]).push(s,null));for(s in r){var l=r[s];if(u=null!=o?o[s]:void 0,r.hasOwnProperty(s)&&l!==u&&(null!=l||null!=u))if("style"===s)if(u){for(c in u)!u.hasOwnProperty(c)||l&&l.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in l)l.hasOwnProperty(c)&&u[c]!==l[c]&&(n||(n={}),n[c]=l[c])}else n||(t||(t=[]),t.push(s,n)),n=l;else"dangerouslySetInnerHTML"===s?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(t=t||[]).push(s,l)):"children"===s?u===l||"string"!==typeof l&&"number"!==typeof l||(t=t||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(V.hasOwnProperty(s)?(null!=l&&un(a,s),t||u===l||(t=[])):(t=t||[]).push(s,l))}n&&(t=t||[]).push("style",n),a=t,(e.updateQueue=a)&&(e.effectTag|=4)}},qo=function(t,e,n,r){n!==r&&(e.effectTag|=4)};var rs="function"===typeof WeakSet?WeakSet:Set;function is(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=j(n)),null!==n&&F(n.type),e=e.value,null!==t&&1===t.tag&&F(t.type);try{console.error(e)}catch(i){setTimeout((function(){throw i}))}}function as(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){Ac(t,n)}else e.current=null}function os(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Zi(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return}throw Error(o(163))}function ss(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==e)}}function cs(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function us(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return void cs(3,n);case 1:if(t=n.stateNode,4&n.effectTag)if(null===e)t.componentDidMount();else{var r=n.elementType===n.type?e.memoizedProps:Zi(n.type,e.memoizedProps);t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=n.updateQueue)&&ga(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:case 1:t=n.child.stateNode}ga(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.effectTag&&wn(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Fe(n)))))}throw Error(o(163))}function ls(t,e,n){switch("function"===typeof Oc&&Oc(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var r=t.next;qi(97<n?97:n,(function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(a){Ac(i,a)}}t=t.next}while(t!==r)}))}break;case 1:as(e),"function"===typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(n){Ac(t,n)}}(e,n);break;case 5:as(e);break;case 4:ys(t,e,n)}}function fs(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&fs(e)}function hs(t){return 5===t.tag||3===t.tag||4===t.tag}function ds(t){t:{for(var e=t.return;null!==e;){if(hs(e)){var n=e;break t}e=e.return}throw Error(o(160))}switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.effectTag&&(zt(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||hs(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}r?ps(t,n,e):gs(t,n,e)}function ps(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=ln));else if(4!==r&&null!==(t=t.child))for(ps(t,e,n),t=t.sibling;null!==t;)ps(t,e,n),t=t.sibling}function gs(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(gs(t,e,n),t=t.sibling;null!==t;)gs(t,e,n),t=t.sibling}function ys(t,e,n){for(var r,i,a=e,s=!1;;){if(!s){s=a.return;t:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break t;case 3:case 4:r=r.containerInfo,i=!0;break t}s=s.return}s=!0}if(5===a.tag||6===a.tag){t:for(var c=t,u=a,l=n,f=u;;)if(ls(c,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===u)break t;for(;null===f.sibling;){if(null===f.return||f.return===u)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(c=r,u=a.stateNode,8===c.nodeType?c.parentNode.removeChild(u):c.removeChild(u)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(ls(t,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)break;for(;null===a.sibling;){if(null===a.return||a.return===e)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function vs(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void ss(3,e);case 1:case 12:case 17:return;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps,i=null!==t?t.memoizedProps:r;t=e.type;var a=e.updateQueue;if(e.updateQueue=null,null!==a){for(n[Pn]=r,"input"===t&&"radio"===r.type&&null!=r.name&&Ct(n,r),sn(t,i),e=sn(t,r),i=0;i<a.length;i+=2){var s=a[i],c=a[i+1];"style"===s?rn(n,c):"dangerouslySetInnerHTML"===s?Gt(n,c):"children"===s?zt(n,c):vt(n,s,c,e)}switch(t){case"input":Et(n,r);break;case"textarea":Lt(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(t=r.value)?Pt(n,!!r.multiple,t,!1):e!==!!r.multiple&&(null!=r.defaultValue?Pt(n,!!r.multiple,r.defaultValue,!0):Pt(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(o(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,Fe(e.containerInfo)));case 13:if(n=e,null===e.memoizedState?r=!1:(r=!0,n=e.child,Us=Bi()),null!==n)t:for(t=n;;){if(5===t.tag)a=t.stateNode,r?"function"===typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=t.stateNode,i=void 0!==(i=t.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,a.style.display=nn("display",i));else if(6===t.tag)t.stateNode.nodeValue=r?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(a=t.child.sibling).return=t,t=a;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void ms(e);case 19:return void ms(e)}throw Error(o(163))}function ms(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new rs),e.forEach((function(e){var r=Tc.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}var _s="function"===typeof WeakMap?WeakMap:Map;function bs(t,e,n){(n=fa(n,null)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Hs||(Hs=!0,Vs=r),is(t,e)},n}function ws(t,e,n){(n=fa(n,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return is(t,e),r(i)}}var a=t.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===qs?qs=new Set([this]):qs.add(this),is(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var xs,ks=Math.ceil,Cs=m.ReactCurrentDispatcher,Es=m.ReactCurrentOwner,As=16,Ss=32,Ts=0,Ps=3,Os=4,Rs=0,Ls=null,Ms=null,Is=0,Ds=Ts,Ns=null,Fs=1073741823,js=1073741823,Ws=null,Gs=0,zs=!1,Us=0,Bs=null,Hs=!1,Vs=null,qs=null,Ks=!1,Xs=null,Ys=90,$s=null,Qs=0,Zs=null,Js=0;function tc(){return 0!==(48&Rs)?1073741821-(Bi()/10|0):0!==Js?Js:Js=1073741821-(Bi()/10|0)}function ec(t,e,n){if(0===(2&(e=e.mode)))return 1073741823;var r=Hi();if(0===(4&e))return 99===r?1073741823:1073741822;if(0!==(Rs&As))return Is;if(null!==n)t=Qi(t,0|n.timeoutMs||5e3,250);else switch(r){case 99:t=1073741823;break;case 98:t=Qi(t,150,100);break;case 97:case 96:t=Qi(t,5e3,250);break;case 95:t=2;break;default:throw Error(o(326))}return null!==Ls&&t===Is&&--t,t}function nc(t,e){if(50<Qs)throw Qs=0,Zs=null,Error(o(185));if(null!==(t=rc(t,e))){var n=Hi();1073741823===e?0!==(8&Rs)&&0===(48&Rs)?sc(t):(ac(t),0===Rs&&Yi()):ac(t),0===(4&Rs)||98!==n&&99!==n||(null===$s?$s=new Map([[t,e]]):(void 0===(n=$s.get(t))||n>e)&&$s.set(t,e))}}function rc(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Ls===i&&(pc(e),Ds===Os&&zc(i,Is)),Uc(i,e)),i}function ic(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Gc(t,e=t.firstPendingTime))return e;var n=t.lastPingedTime;return 2>=(t=n>(t=t.nextKnownPendingLevel)?n:t)&&e!==t?0:t}function ac(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Xi(sc.bind(null,t));else{var e=ic(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=tc();if(1073741823===e?r=99:1===e||2===e?r=95:r=0>=(r=10*(1073741821-e)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=t.callbackPriority;if(t.callbackExpirationTime===e&&i>=r)return;n!==Ni&&Si(n)}t.callbackExpirationTime=e,t.callbackPriority=r,e=1073741823===e?Xi(sc.bind(null,t)):Ki(r,oc.bind(null,t),{timeout:10*(1073741821-e)-Bi()}),t.callbackNode=e}}}function oc(t,e){if(Js=0,e)return Bc(t,e=tc()),ac(t),null;var n=ic(t);if(0!==n){if(e=t.callbackNode,0!==(48&Rs))throw Error(o(327));if(kc(),t===Ls&&n===Is||lc(t,n),null!==Ms){var r=Rs;Rs|=As;for(var i=hc();;)try{yc();break}catch(c){fc(t,c)}if(ra(),Rs=r,Cs.current=i,1===Ds)throw e=Ns,lc(t,n),zc(t,n),ac(t),e;if(null===Ms)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,r=Ds,Ls=null,r){case Ts:case 1:throw Error(o(345));case 2:Bc(t,2<n?2:n);break;case Ps:if(zc(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=_c(i)),1073741823===Fs&&10<(i=Us+500-Bi())){if(zs){var a=t.lastPingedTime;if(0===a||a>=n){t.lastPingedTime=n,lc(t,n);break}}if(0!==(a=ic(t))&&a!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}t.timeoutHandle=kn(bc.bind(null,t),i);break}bc(t);break;case Os:if(zc(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=_c(i)),zs&&(0===(i=t.lastPingedTime)||i>=n)){t.lastPingedTime=n,lc(t,n);break}if(0!==(i=ic(t))&&i!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}if(1073741823!==js?r=10*(1073741821-js)-Bi():1073741823===Fs?r=0:(r=10*(1073741821-Fs)-5e3,0>(r=(i=Bi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ks(r/1960))-r)&&(r=n)),10<r){t.timeoutHandle=kn(bc.bind(null,t),r);break}bc(t);break;case 5:if(1073741823!==Fs&&null!==Ws){a=Fs;var s=Ws;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(a=Bi()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)))<=i?0:i+r-a),10<r){zc(t,n),t.timeoutHandle=kn(bc.bind(null,t),r);break}}bc(t);break;default:throw Error(o(329))}if(ac(t),t.callbackNode===e)return oc.bind(null,t)}}return null}function sc(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,0!==(48&Rs))throw Error(o(327));if(kc(),t===Ls&&e===Is||lc(t,e),null!==Ms){var n=Rs;Rs|=As;for(var r=hc();;)try{gc();break}catch(i){fc(t,i)}if(ra(),Rs=n,Cs.current=r,1===Ds)throw n=Ns,lc(t,e),zc(t,e),ac(t),n;if(null!==Ms)throw Error(o(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Ls=null,bc(t),ac(t)}return null}function cc(t,e){var n=Rs;Rs|=1;try{return t(e)}finally{0===(Rs=n)&&Yi()}}function uc(t,e){var n=Rs;Rs&=-2,Rs|=8;try{return t(e)}finally{0===(Rs=n)&&Yi()}}function lc(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,Cn(n)),null!==Ms)for(n=Ms.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&bi();break;case 3:Na(),hi(yi),hi(gi);break;case 5:ja(r);break;case 4:Na();break;case 13:case 19:hi(Wa);break;case 10:ia(r)}n=n.return}Ls=t,Ms=Ic(t.current,null),Is=e,Ds=Ts,Ns=null,js=Fs=1073741823,Ws=null,Gs=0,zs=!1}function fc(t,e){for(;;){try{if(ra(),Ua.current=bo,Xa)for(var n=Va.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Ha=0,Ka=qa=Va=null,Xa=!1,null===Ms||null===Ms.return)return Ds=1,Ns=e,Ms=null;t:{var i=t,a=Ms.return,o=Ms,s=e;if(e=Is,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&o.mode)){var u=o.alternate;u?(o.memoizedState=u.memoizedState,o.expirationTime=u.expirationTime):o.memoizedState=null}var l=0!==(1&Wa.current),f=a;do{var h;if(h=13===f.tag){var d=f.memoizedState;if(null!==d)h=null!==d.dehydrated;else{var p=f.memoizedProps;h=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!l)}}if(h){var g=f.updateQueue;if(null===g){var y=new Set;y.add(c),f.updateQueue=y}else g.add(c);if(0===(2&f.mode)){if(f.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var v=fa(1073741823,null);v.tag=2,ha(o,v)}o.expirationTime=1073741823;break t}s=void 0,o=e;var m=i.pingCache;if(null===m?(m=i.pingCache=new _s,s=new Set,m.set(c,s)):void 0===(s=m.get(c))&&(s=new Set,m.set(c,s)),!s.has(o)){s.add(o);var _=Sc.bind(null,i,c,o);c.then(_,_)}f.effectTag|=4096,f.expirationTime=e;break t}f=f.return}while(null!==f);s=Error((F(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+j(o))}5!==Ds&&(Ds=2),s=ns(s,o),f=a;do{switch(f.tag){case 3:c=s,f.effectTag|=4096,f.expirationTime=e,da(f,bs(f,c,e));break t;case 1:c=s;var b=f.type,w=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof b.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===qs||!qs.has(w)))){f.effectTag|=4096,f.expirationTime=e,da(f,ws(f,c,e));break t}}f=f.return}while(null!==f)}Ms=mc(Ms)}catch(x){e=x;continue}break}}function hc(){var t=Cs.current;return Cs.current=bo,null===t?bo:t}function dc(t,e){t<Fs&&2<t&&(Fs=t),null!==e&&t<js&&2<t&&(js=t,Ws=e)}function pc(t){t>Gs&&(Gs=t)}function gc(){for(;null!==Ms;)Ms=vc(Ms)}function yc(){for(;null!==Ms&&!Fi();)Ms=vc(Ms)}function vc(t){var e=xs(t.alternate,t,Is);return t.memoizedProps=t.pendingProps,null===e&&(e=mc(t)),Es.current=null,e}function mc(t){Ms=t;do{var e=Ms.alternate;if(t=Ms.return,0===(2048&Ms.effectTag)){if(e=ts(e,Ms,Is),1===Is||1!==Ms.childExpirationTime){for(var n=0,r=Ms.child;null!==r;){var i=r.expirationTime,a=r.childExpirationTime;i>n&&(n=i),a>n&&(n=a),r=r.sibling}Ms.childExpirationTime=n}if(null!==e)return e;null!==t&&0===(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Ms.firstEffect),null!==Ms.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Ms.firstEffect),t.lastEffect=Ms.lastEffect),1<Ms.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Ms:t.firstEffect=Ms,t.lastEffect=Ms))}else{if(null!==(e=es(Ms)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Ms.sibling))return e;Ms=t}while(null!==Ms);return Ds===Ts&&(Ds=5),null}function _c(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function bc(t){var e=Hi();return qi(99,wc.bind(null,t,e)),null}function wc(t,e){do{kc()}while(null!==Xs);if(0!==(48&Rs))throw Error(o(327));var n=t.finishedWork,r=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(o(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var i=_c(n);if(t.firstPendingTime=i,r<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:r<=t.firstSuspendedTime&&(t.firstSuspendedTime=r-1),r<=t.lastPingedTime&&(t.lastPingedTime=0),r<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Ls&&(Ms=Ls=null,Is=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var a=Rs;Rs|=Ss,Es.current=null,_n=Ke;var s=gn();if(yn(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else t:{var u=(c=(c=s.ownerDocument)&&c.defaultView||window).getSelection&&c.getSelection();if(u&&0!==u.rangeCount){c=u.anchorNode;var l=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{c.nodeType,f.nodeType}catch(A){c=null;break t}var h=0,d=-1,p=-1,g=0,y=0,v=s,m=null;e:for(;;){for(var _;v!==c||0!==l&&3!==v.nodeType||(d=h+l),v!==f||0!==u&&3!==v.nodeType||(p=h+u),3===v.nodeType&&(h+=v.nodeValue.length),null!==(_=v.firstChild);)m=v,v=_;for(;;){if(v===s)break e;if(m===c&&++g===l&&(d=h),m===f&&++y===u&&(p=h),null!==(_=v.nextSibling))break;m=(v=m).parentNode}v=_}c=-1===d||-1===p?null:{start:d,end:p}}else c=null}c=c||{start:0,end:0}}else c=null;bn={activeElementDetached:null,focusedElem:s,selectionRange:c},Ke=!1,Bs=i;do{try{xc()}catch(A){if(null===Bs)throw Error(o(330));Ac(Bs,A),Bs=Bs.nextEffect}}while(null!==Bs);Bs=i;do{try{for(s=t,c=e;null!==Bs;){var b=Bs.effectTag;if(16&b&&zt(Bs.stateNode,""),128&b){var w=Bs.alternate;if(null!==w){var x=w.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&b){case 2:ds(Bs),Bs.effectTag&=-3;break;case 6:ds(Bs),Bs.effectTag&=-3,vs(Bs.alternate,Bs);break;case 1024:Bs.effectTag&=-1025;break;case 1028:Bs.effectTag&=-1025,vs(Bs.alternate,Bs);break;case 4:vs(Bs.alternate,Bs);break;case 8:ys(s,l=Bs,c),fs(l)}Bs=Bs.nextEffect}}catch(A){if(null===Bs)throw Error(o(330));Ac(Bs,A),Bs=Bs.nextEffect}}while(null!==Bs);if(x=bn,w=gn(),b=x.focusedElem,c=x.selectionRange,w!==b&&b&&b.ownerDocument&&pn(b.ownerDocument.documentElement,b)){null!==c&&yn(b)&&(w=c.start,void 0===(x=c.end)&&(x=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(x,b.value.length)):(x=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),l=b.textContent.length,s=Math.min(c.start,l),c=void 0===c.end?s:Math.min(c.end,l),!x.extend&&s>c&&(l=c,c=s,s=l),l=dn(b,s),f=dn(b,c),l&&f&&(1!==x.rangeCount||x.anchorNode!==l.node||x.anchorOffset!==l.offset||x.focusNode!==f.node||x.focusOffset!==f.offset)&&((w=w.createRange()).setStart(l.node,l.offset),x.removeAllRanges(),s>c?(x.addRange(w),x.extend(f.node,f.offset)):(w.setEnd(f.node,f.offset),x.addRange(w))))),w=[];for(x=b;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(x=w[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Ke=!!_n,bn=_n=null,t.current=n,Bs=i;do{try{for(b=t;null!==Bs;){var k=Bs.effectTag;if(36&k&&us(b,Bs.alternate,Bs),128&k){w=void 0;var C=Bs.ref;if(null!==C){var E=Bs.stateNode;Bs.tag,w=E,"function"===typeof C?C(w):C.current=w}}Bs=Bs.nextEffect}}catch(A){if(null===Bs)throw Error(o(330));Ac(Bs,A),Bs=Bs.nextEffect}}while(null!==Bs);Bs=null,ji(),Rs=a}else t.current=n;if(Ks)Ks=!1,Xs=t,Ys=e;else for(Bs=i;null!==Bs;)e=Bs.nextEffect,Bs.nextEffect=null,Bs=e;if(0===(e=t.firstPendingTime)&&(qs=null),1073741823===e?t===Zs?Qs++:(Qs=0,Zs=t):Qs=0,"function"===typeof Pc&&Pc(n.stateNode,r),ac(t),Hs)throw Hs=!1,t=Vs,Vs=null,t;return 0!==(8&Rs)||Yi(),null}function xc(){for(;null!==Bs;){var t=Bs.effectTag;0!==(256&t)&&os(Bs.alternate,Bs),0===(512&t)||Ks||(Ks=!0,Ki(97,(function(){return kc(),null}))),Bs=Bs.nextEffect}}function kc(){if(90!==Ys){var t=97<Ys?97:Ys;return Ys=90,qi(t,Cc)}}function Cc(){if(null===Xs)return!1;var t=Xs;if(Xs=null,0!==(48&Rs))throw Error(o(331));var e=Rs;for(Rs|=Ss,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ss(5,n),cs(5,n)}}catch(r){if(null===t)throw Error(o(330));Ac(t,r)}n=t.nextEffect,t.nextEffect=null,t=n}return Rs=e,Yi(),!0}function Ec(t,e,n){ha(t,e=bs(t,e=ns(n,e),1073741823)),null!==(t=rc(t,1073741823))&&ac(t)}function Ac(t,e){if(3===t.tag)Ec(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Ec(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qs||!qs.has(r))){ha(n,t=ws(n,t=ns(e,t),1073741823)),null!==(n=rc(n,1073741823))&&ac(n);break}}n=n.return}}function Sc(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),Ls===t&&Is===n?Ds===Os||Ds===Ps&&1073741823===Fs&&Bi()-Us<500?lc(t,Is):zs=!0:Gc(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,ac(t)))}function Tc(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=ec(e=tc(),t,null)),null!==(t=rc(t,e))&&ac(t)}xs=function(t,e,n){var r=e.expirationTime;if(null!==t){var i=e.pendingProps;if(t.memoizedProps!==i||yi.current)Io=!0;else{if(r<n){switch(Io=!1,e.tag){case 3:Bo(e),Lo();break;case 5:if(Fa(e),4&e.mode&&1!==n&&i.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:_i(e.type)&&ki(e);break;case 4:Da(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value,i=e.type._context,di(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?Xo(t,e,n):(di(Wa,1&Wa.current),null!==(e=Zo(t,e,n))?e.sibling:null);di(Wa,1&Wa.current);break;case 19:if(r=e.childExpirationTime>=n,0!==(64&t.effectTag)){if(r)return Qo(t,e,n);e.effectTag|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null),di(Wa,Wa.current),!r)return null}return Zo(t,e,n)}Io=!1}}else Io=!1;switch(e.expirationTime=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,i=mi(e,gi.current),oa(e,n),i=Qa(null,e,r,t,i,n),e.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,_i(r)){var a=!0;ki(e)}else a=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(e);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(e,r,s,t),i.updater=_a,e.stateNode=i,i._reactInternalFiber=e,ka(e,r,t,n),e=Uo(null,e,r,!0,a,n)}else e.tag=0,Do(null,e,i,n),e=e.child;return e;case 16:t:{if(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,e.type=i,a=e.tag=function(t){if("function"===typeof t)return Mc(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===P)return 11;if(t===L)return 14}return 2}(i),t=Zi(i,t),a){case 0:e=Go(null,e,i,t,n);break t;case 1:e=zo(null,e,i,t,n);break t;case 11:e=No(null,e,i,t,n);break t;case 14:e=Fo(null,e,i,Zi(i.type,t),r,n);break t}throw Error(o(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,Go(t,e,r,i=e.elementType===r?i:Zi(r,i),n);case 1:return r=e.type,i=e.pendingProps,zo(t,e,r,i=e.elementType===r?i:Zi(r,i),n);case 3:if(Bo(e),r=e.updateQueue,null===t||null===r)throw Error(o(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,la(t,e),pa(e,r,null,n),(r=e.memoizedState.element)===i)Lo(),e=Zo(t,e,n);else{if((i=e.stateNode.hydrate)&&(Eo=En(e.stateNode.containerInfo.firstChild),Co=e,i=Ao=!0),i)for(n=Pa(e,null,r,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Do(t,e,r,n),Lo();e=e.child}return e;case 5:return Fa(e),null===t&&Po(e),r=e.type,i=e.pendingProps,a=null!==t?t.memoizedProps:null,s=i.children,xn(r,i)?s=null:null!==a&&xn(r,a)&&(e.effectTag|=16),Wo(t,e),4&e.mode&&1!==n&&i.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Do(t,e,s,n),e=e.child),e;case 6:return null===t&&Po(e),null;case 13:return Xo(t,e,n);case 4:return Da(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Ta(e,null,r,n):Do(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,No(t,e,r,i=e.elementType===r?i:Zi(r,i),n);case 7:return Do(t,e,e.pendingProps,n),e.child;case 8:case 12:return Do(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value;var c=e.type._context;if(di(Ji,c._currentValue),c._currentValue=a,null!==s)if(c=s.value,0===(a=zr(c,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(c,a):1073741823))){if(s.children===i.children&&!yi.current){e=Zo(t,e,n);break t}}else for(null!==(c=e.child)&&(c.return=e);null!==c;){var u=c.dependencies;if(null!==u){s=c.child;for(var l=u.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===c.tag&&((l=fa(n,null)).tag=2,ha(c,l)),c.expirationTime<n&&(c.expirationTime=n),null!==(l=c.alternate)&&l.expirationTime<n&&(l.expirationTime=n),aa(c.return,n),u.expirationTime<n&&(u.expirationTime=n);break}l=l.next}}else s=10===c.tag&&c.type===e.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===e){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}Do(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(a=e.pendingProps).children,oa(e,n),r=r(i=sa(i,a.unstable_observedBits)),e.effectTag|=1,Do(t,e,r,n),e.child;case 14:return a=Zi(i=e.type,e.pendingProps),Fo(t,e,i,a=Zi(i.type,a),r,n);case 15:return jo(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zi(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,_i(r)?(t=!0,ki(e)):t=!1,oa(e,n),wa(e,r,i),ka(e,r,i,n),Uo(null,e,r,!0,t,n);case 19:return Qo(t,e,n)}throw Error(o(156,e.tag))};var Pc=null,Oc=null;function Rc(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Lc(t,e,n,r){return new Rc(t,e,n,r)}function Mc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ic(t,e){var n=t.alternate;return null===n?((n=Lc(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Dc(t,e,n,r,i,a){var s=2;if(r=t,"function"===typeof t)Mc(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case k:return Nc(n.children,i,a,e);case T:s=8,i|=7;break;case C:s=8,i|=1;break;case E:return(t=Lc(12,n,e,8|i)).elementType=E,t.type=E,t.expirationTime=a,t;case O:return(t=Lc(13,n,e,i)).type=O,t.elementType=O,t.expirationTime=a,t;case R:return(t=Lc(19,n,e,i)).elementType=R,t.expirationTime=a,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case A:s=10;break t;case S:s=9;break t;case P:s=11;break t;case L:s=14;break t;case M:s=16,r=null;break t;case I:s=22;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Lc(s,n,e,i)).elementType=t,e.type=r,e.expirationTime=a,e}function Nc(t,e,n,r){return(t=Lc(7,t,r,e)).expirationTime=n,t}function Fc(t,e,n){return(t=Lc(6,t,null,e)).expirationTime=n,t}function jc(t,e,n){return(e=Lc(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Wc(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Gc(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function zc(t,e){var n=t.firstSuspendedTime,r=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(r>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Uc(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Bc(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function Hc(t,e,n,r){var i=e.current,a=tc(),s=ya.suspense;a=ec(a,i,s);t:if(n){e:{if(te(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(o(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(_i(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(null!==c);throw Error(o(171))}if(1===n.tag){var u=n.type;if(_i(u)){n=xi(n,u,c);break t}}n=c}else n=pi;return null===e.context?e.context=n:e.pendingContext=n,(e=fa(a,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),ha(i,e),nc(i,a),a}function Vc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function qc(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function Kc(t,e){qc(t,e),(t=t.alternate)&&qc(t,e)}function Xc(t,e,n){var r=new Wc(t,e,n=null!=n&&!0===n.hydrate),i=Lc(3,null,null,2===e?7:1===e?3:0);r.current=i,i.stateNode=r,ua(i),t[On]=r.current,n&&0!==e&&function(t,e){var n=Jt(e);Se.forEach((function(t){ge(t,e,n)})),Te.forEach((function(t){ge(t,e,n)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=r}function Yc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function $c(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var t=Vc(o);s.call(t)}}Hc(e,o,t,i)}else{if(a=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Xc(t,0,e?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var c=i;i=function(){var t=Vc(o);c.call(t)}}uc((function(){Hc(e,o,t,i)}))}return Vc(o)}function Qc(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Zc(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(e))throw Error(o(200));return Qc(t,e,null,n)}Xc.prototype.render=function(t){Hc(t,this._internalRoot,null,null)},Xc.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Hc(null,t,null,(function(){e[On]=null}))},ye=function(t){if(13===t.tag){var e=Qi(tc(),150,100);nc(t,e),Kc(t,e)}},ve=function(t){13===t.tag&&(nc(t,3),Kc(t,3))},me=function(t){if(13===t.tag){var e=tc();nc(t,e=ec(e,t,null)),Kc(t,e)}},Y=function(t,e,n){switch(e){case"input":if(Et(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=In(r);if(!i)throw Error(o(90));wt(r),Et(r,i)}}}break;case"textarea":Lt(t,n);break;case"select":null!=(e=n.value)&&Pt(t,!!n.multiple,e,!1)}},et=cc,nt=function(t,e,n,r,i){var a=Rs;Rs|=4;try{return qi(98,t.bind(null,e,n,r,i))}finally{0===(Rs=a)&&Yi()}},rt=function(){0===(49&Rs)&&(function(){if(null!==$s){var t=$s;$s=null,t.forEach((function(t,e){Bc(e,t),ac(e)})),Yi()}}(),kc())},it=function(t,e){var n=Rs;Rs|=2;try{return t(e)}finally{0===(Rs=n)&&Yi()}};var Jc={Events:[Ln,Mn,In,K,H,zn,function(t){ae(t,Gn)},J,tt,Ze,ce,kc,{current:!1}]};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);Pc=function(t){try{e.onCommitFiberRoot(n,t,void 0,64===(64&t.current.effectTag))}catch(r){}},Oc=function(t){try{e.onCommitFiberUnmount(n,t)}catch(r){}}}catch(r){}})(i({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:m.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=re(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Rn,bundleType:0,version:"16.13.0",rendererPackageName:"react-dom"}),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jc,e.createPortal=Zc,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw Error(o(268,Object.keys(t)))}return t=null===(t=re(e))?null:t.stateNode},e.flushSync=function(t,e){if(0!==(48&Rs))throw Error(o(187));var n=Rs;Rs|=1;try{return qi(99,t.bind(null,e))}finally{Rs=n,Yi()}},e.hydrate=function(t,e,n){if(!Yc(e))throw Error(o(200));return $c(null,t,e,!0,n)},e.render=function(t,e,n){if(!Yc(e))throw Error(o(200));return $c(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Yc(t))throw Error(o(40));return!!t._reactRootContainer&&(uc((function(){$c(null,null,t,!1,(function(){t._reactRootContainer=null,t[On]=null}))})),!0)},e.unstable_batchedUpdates=cc,e.unstable_createPortal=function(t,e){return Zc(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yc(n))throw Error(o(200));if(null==t||void 0===t._reactInternalFiber)throw Error(o(38));return $c(t,e,n,!1,r)},e.version="16.13.0"},4164:function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(4463)},2079:function(t,e,n){"use strict";e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=u(n(2791)),a=u(n(2007)),o=u(n(2326)),s=u(n(5241)),c=n(5127);function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}c.nameShape.isRequired,a.default.bool,a.default.bool,a.default.bool,(0,c.transitionTimeout)("Appear"),(0,c.transitionTimeout)("Enter"),(0,c.transitionTimeout)("Leave");var h=function(t){function e(){var n,r;l(this,e);for(var a=arguments.length,o=Array(a),c=0;c<a;c++)o[c]=arguments[c];return n=r=f(this,t.call.apply(t,[this].concat(o))),r._wrapChild=function(t){return i.default.createElement(s.default,{name:r.props.transitionName,appear:r.props.transitionAppear,enter:r.props.transitionEnter,leave:r.props.transitionLeave,appearTimeout:r.props.transitionAppearTimeout,enterTimeout:r.props.transitionEnterTimeout,leaveTimeout:r.props.transitionLeaveTimeout},t)},f(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(){return i.default.createElement(o.default,r({},this.props,{childFactory:this._wrapChild}))},e}(i.default.Component);h.displayName="CSSTransitionGroup",h.propTypes={},h.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},e.default=h,t.exports=e.default},5241:function(t,e,n){"use strict";e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=h(n(8354)),a=h(n(2910)),o=h(n(7584)),s=n(2232),c=h(n(2791)),u=h(n(2007)),l=n(4164),f=n(5127);function h(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var g=[];s.transitionEnd&&g.push(s.transitionEnd),s.animationEnd&&g.push(s.animationEnd);u.default.node,f.nameShape.isRequired,u.default.bool,u.default.bool,u.default.bool,u.default.number,u.default.number,u.default.number;var y=function(t){function e(){var n,r;d(this,e);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=p(this,t.call.apply(t,[this].concat(a))),r.componentWillAppear=function(t){r.props.appear?r.transition("appear",t,r.props.appearTimeout):t()},r.componentWillEnter=function(t){r.props.enter?r.transition("enter",t,r.props.enterTimeout):t()},r.componentWillLeave=function(t){r.props.leave?r.transition("leave",t,r.props.leaveTimeout):t()},p(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},e.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach((function(t){clearTimeout(t)})),this.classNameAndNodeQueue.length=0},e.prototype.transition=function(t,e,n){var r=(0,l.findDOMNode)(this);if(r){var o=this.props.name[t]||this.props.name+"-"+t,c=this.props.name[t+"Active"]||o+"-active",u=null,f=void 0;(0,i.default)(r,o),this.queueClassAndNode(c,r);var h=function(t){t&&t.target!==r||(clearTimeout(u),f&&f(),(0,a.default)(r,o),(0,a.default)(r,c),f&&f(),e&&e())};n?(u=setTimeout(h,n),this.transitionTimeouts.push(u)):s.transitionEnd&&(f=function(t,e){return g.length?g.forEach((function(n){return t.addEventListener(n,e,!1)})):setTimeout(e,0),function(){g.length&&g.forEach((function(n){return t.removeEventListener(n,e,!1)}))}}(r,h))}else e&&e()},e.prototype.queueClassAndNode=function(t,e){var n=this;this.classNameAndNodeQueue.push({className:t,node:e}),this.rafHandle||(this.rafHandle=(0,o.default)((function(){return n.flushClassNameAndNodeQueue()})))},e.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach((function(t){t.node.scrollTop,(0,i.default)(t.node,t.className)})),this.classNameAndNodeQueue.length=0,this.rafHandle=null},e.prototype.render=function(){var t=r({},this.props);return delete t.name,delete t.appear,delete t.enter,delete t.leave,delete t.appearTimeout,delete t.enterTimeout,delete t.leaveTimeout,delete t.children,c.default.cloneElement(c.default.Children.only(this.props.children),t)},e}(c.default.Component);y.displayName="CSSTransitionGroupChild",y.propTypes={},e.default=y,t.exports=e.default},2326:function(t,e,n){"use strict";e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=c(n(8174)),a=c(n(2791)),o=c(n(2007)),s=(c(n(7078)),n(8546));function c(t){return t&&t.__esModule?t:{default:t}}o.default.any,o.default.func,o.default.node;var u=function(t){function e(n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this,n,i));return a.performAppear=function(t,e){a.currentlyTransitioningKeys[t]=!0,e.componentWillAppear?e.componentWillAppear(a._handleDoneAppearing.bind(a,t,e)):a._handleDoneAppearing(t,e)},a._handleDoneAppearing=function(t,e){e.componentDidAppear&&e.componentDidAppear(),delete a.currentlyTransitioningKeys[t];var n=(0,s.getChildMapping)(a.props.children);n&&n.hasOwnProperty(t)||a.performLeave(t,e)},a.performEnter=function(t,e){a.currentlyTransitioningKeys[t]=!0,e.componentWillEnter?e.componentWillEnter(a._handleDoneEntering.bind(a,t,e)):a._handleDoneEntering(t,e)},a._handleDoneEntering=function(t,e){e.componentDidEnter&&e.componentDidEnter(),delete a.currentlyTransitioningKeys[t];var n=(0,s.getChildMapping)(a.props.children);n&&n.hasOwnProperty(t)||a.performLeave(t,e)},a.performLeave=function(t,e){a.currentlyTransitioningKeys[t]=!0,e.componentWillLeave?e.componentWillLeave(a._handleDoneLeaving.bind(a,t,e)):a._handleDoneLeaving(t,e)},a._handleDoneLeaving=function(t,e){e.componentDidLeave&&e.componentDidLeave(),delete a.currentlyTransitioningKeys[t];var n=(0,s.getChildMapping)(a.props.children);n&&n.hasOwnProperty(t)?a.keysToEnter.push(t):a.setState((function(e){var n=r({},e.children);return delete n[t],{children:n}}))},a.childRefs=Object.create(null),a.state={children:(0,s.getChildMapping)(n.children)},a}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},e.prototype.componentDidMount=function(){var t=this.state.children;for(var e in t)t[e]&&this.performAppear(e,this.childRefs[e])},e.prototype.componentWillReceiveProps=function(t){var e=(0,s.getChildMapping)(t.children),n=this.state.children;for(var r in this.setState({children:(0,s.mergeChildMappings)(n,e)}),e){var i=n&&n.hasOwnProperty(r);!e[r]||i||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var a in n){var o=e&&e.hasOwnProperty(a);!n[a]||o||this.currentlyTransitioningKeys[a]||this.keysToLeave.push(a)}},e.prototype.componentDidUpdate=function(){var t=this,e=this.keysToEnter;this.keysToEnter=[],e.forEach((function(e){return t.performEnter(e,t.childRefs[e])}));var n=this.keysToLeave;this.keysToLeave=[],n.forEach((function(e){return t.performLeave(e,t.childRefs[e])}))},e.prototype.render=function(){var t=this,e=[],n=function(n){var r=t.state.children[n];if(r){var o="string"!==typeof r.ref,s=t.props.childFactory(r),c=function(e){t.childRefs[n]=e};s===r&&o&&(c=(0,i.default)(r.ref,c)),e.push(a.default.cloneElement(s,{key:n,ref:c}))}};for(var o in this.state.children)n(o);var s=r({},this.props);return delete s.transitionLeave,delete s.transitionName,delete s.transitionAppear,delete s.transitionEnter,delete s.childFactory,delete s.transitionLeaveTimeout,delete s.transitionEnterTimeout,delete s.transitionAppearTimeout,delete s.component,a.default.createElement(this.props.component,s,e)},e}(a.default.Component);u.displayName="TransitionGroup",u.propTypes={},u.defaultProps={component:"span",childFactory:function(t){return t}},e.default=u,t.exports=e.default},8546:function(t,e,n){"use strict";e.__esModule=!0,e.getChildMapping=function(t){if(!t)return t;var e={};return r.Children.map(t,(function(t){return t})).forEach((function(t){e[t.key]=t})),e},e.mergeChildMappings=function(t,e){function n(n){return e.hasOwnProperty(n)?e[n]:t[n]}t=t||{},e=e||{};var r={},i=[];for(var a in t)e.hasOwnProperty(a)?i.length&&(r[a]=i,i=[]):i.push(a);var o=void 0,s={};for(var c in e){if(r.hasOwnProperty(c))for(o=0;o<r[c].length;o++){var u=r[c][o];s[r[c][o]]=n(u)}s[c]=n(c)}for(o=0;o<i.length;o++)s[i[o]]=n(i[o]);return s};var r=n(2791)},5127:function(t,e,n){"use strict";e.__esModule=!0,e.nameShape=void 0,e.transitionTimeout=function(t){var e="transition"+t+"Timeout",n="transition"+t;return function(t){if(t[n]){if(null==t[e])return new Error(e+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!==typeof t[e])return new Error(e+" must be a number (in milliseconds)")}return null}};i(n(2791));var r=i(n(2007));function i(t){return t&&t.__esModule?t:{default:t}}e.nameShape=r.default.oneOfType([r.default.string,r.default.shape({enter:r.default.string,leave:r.default.string,active:r.default.string}),r.default.shape({enter:r.default.string,enterActive:r.default.string,leave:r.default.string,leaveActive:r.default.string,appear:r.default.string,appearActive:r.default.string})])},9117:function(t,e,n){"use strict";var r=n(1725),i="function"===typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,c=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,y="function"===typeof Symbol&&Symbol.iterator;function v(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function b(t,e,n){this.props=t,this.context=e,this.refs=_,this.updater=n||m}function w(){}function x(t,e,n){this.props=t,this.context=e,this.refs=_,this.updater=n||m}b.prototype.isReactComponent={},b.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(v(85));this.updater.enqueueSetState(this,t,e,"setState")},b.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},w.prototype=b.prototype;var k=x.prototype=new w;k.constructor=x,r(k,b.prototype),k.isPureReactComponent=!0;var C={current:null},E=Object.prototype.hasOwnProperty,A={key:!0,ref:!0,__self:!0,__source:!0};function S(t,e,n){var r,i={},o=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(o=""+e.key),e)E.call(e,r)&&!A.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(r in c=t.defaultProps)void 0===i[r]&&(i[r]=c[r]);return{$$typeof:a,type:t,key:o,ref:s,props:i,_owner:C.current}}function T(t){return"object"===typeof t&&null!==t&&t.$$typeof===a}var P=/\/+/g,O=[];function R(t,e,n,r){if(O.length){var i=O.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function L(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>O.length&&O.push(t)}function M(t,e,n,r){var i=typeof t;"undefined"!==i&&"boolean"!==i||(t=null);var s=!1;if(null===t)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case a:case o:s=!0}}if(s)return n(r,t,""===e?"."+D(t,0):e),1;if(s=0,e=""===e?".":e+":",Array.isArray(t))for(var c=0;c<t.length;c++){var u=e+D(i=t[c],c);s+=M(i,u,n,r)}else if(null===t||"object"!==typeof t?u=null:u="function"===typeof(u=y&&t[y]||t["@@iterator"])?u:null,"function"===typeof u)for(t=u.call(t),c=0;!(i=t.next()).done;)s+=M(i=i.value,u=e+D(i,c++),n,r);else if("object"===i)throw n=""+t,Error(v(31,"[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return s}function I(t,e,n){return null==t?0:M(t,"",e,n)}function D(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function N(t,e){t.func.call(t.context,e,t.count++)}function F(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?j(t,r,n,(function(t){return t})):null!=t&&(T(t)&&(t=function(t,e){return{$$typeof:a,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(P,"$&/")+"/")+n)),r.push(t))}function j(t,e,n,r,i){var a="";null!=n&&(a=(""+n).replace(P,"$&/")+"/"),I(t,F,e=R(e,a,r,i)),L(e)}var W={current:null};function G(){var t=W.current;if(null===t)throw Error(v(321));return t}var z={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:C,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:function(t,e,n){if(null==t)return t;var r=[];return j(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;I(t,N,e=R(null,null,e,n)),L(e)},count:function(t){return I(t,(function(){return null}),null)},toArray:function(t){var e=[];return j(t,e,null,(function(t){return t})),e},only:function(t){if(!T(t))throw Error(v(143));return t}},e.Component=b,e.Fragment=s,e.Profiler=u,e.PureComponent=x,e.StrictMode=c,e.Suspense=d,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(v(267,t));var i=r({},t.props),o=t.key,s=t.ref,c=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,c=C.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(l in e)E.call(e,l)&&!A.hasOwnProperty(l)&&(i[l]=void 0===e[l]&&void 0!==u?u[l]:e[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){u=Array(l);for(var f=0;f<l;f++)u[f]=arguments[f+2];i.children=u}return{$$typeof:a,type:t.type,key:o,ref:s,props:i,_owner:c}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:f,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:t},t.Consumer=t},e.createElement=S,e.createFactory=function(t){var e=S.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:h,render:t}},e.isValidElement=T,e.lazy=function(t){return{$$typeof:g,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:p,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return G().useCallback(t,e)},e.useContext=function(t,e){return G().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return G().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return G().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return G().useLayoutEffect(t,e)},e.useMemo=function(t,e){return G().useMemo(t,e)},e.useReducer=function(t,e,n){return G().useReducer(t,e,n)},e.useRef=function(t){return G().useRef(t)},e.useState=function(t){return G().useState(t)},e.version="16.13.0"},2791:function(t,e,n){"use strict";t.exports=n(9117)},9727:function(t){var e=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(R){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),o=new T(r||[]);return a._invoke=function(t,e,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return O()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var c=l(t,e,n);if("normal"===c.type){if(r=n.done?p:h,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(t,n,o),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(R){return{type:"throw",arg:R}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",g={};function y(){}function v(){}function m(){}var _={};c(_,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(P([])));w&&w!==n&&r.call(w,a)&&(_=w);var x=m.prototype=y.prototype=Object.create(_);function k(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(i,a,o,s){var c=l(t[i],t,a);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"===typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(f).then((function(t){u.value=t,o(u)}),(function(t){return n("throw",t,o,s)}))}s(c.arg)}var i;this._invoke=function(t,r){function a(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(a,a):a()}}function E(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=l(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function P(t){if(t){var n=t[a];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:O}}function O(){return{value:e,done:!0}}return v.prototype=m,c(x,"constructor",m),c(m,"constructor",v),v.displayName=c(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,s,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},k(C.prototype),c(C.prototype,o,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new C(u(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},k(x),c(x,s,"Generator"),c(x,a,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=e}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},6813:function(t,e){"use strict";var n,r,i,a,o;if("undefined"===typeof window||"function"!==typeof MessageChannel){var s=null,c=null,u=function t(){if(null!==s)try{var n=e.unstable_now();s(!0,n),s=null}catch(r){throw setTimeout(t,0),r}},l=Date.now();e.unstable_now=function(){return Date.now()-l},n=function(t){null!==s?setTimeout(n,0,t):(s=t,setTimeout(u,0))},r=function(t,e){c=setTimeout(t,e)},i=function(){clearTimeout(c)},a=function(){return!1},o=e.unstable_forceFrameRate=function(){}}else{var f=window.performance,h=window.Date,d=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof f&&"function"===typeof f.now)e.unstable_now=function(){return f.now()};else{var y=h.now();e.unstable_now=function(){return h.now()-y}}var v=!1,m=null,_=-1,b=5,w=0;a=function(){return e.unstable_now()>=w},o=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):b=0<t?Math.floor(1e3/t):5};var x=new MessageChannel,k=x.port2;x.port1.onmessage=function(){if(null!==m){var t=e.unstable_now();w=t+b;try{m(!0,t)?k.postMessage(null):(v=!1,m=null)}catch(n){throw k.postMessage(null),n}}else v=!1},n=function(t){m=t,v||(v=!0,k.postMessage(null))},r=function(t,n){_=d((function(){t(e.unstable_now())}),n)},i=function(){p(_),_=-1}}function C(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<S(i,e)))break t;t[r]=e,t[n]=i,n=r}}function E(t){return void 0===(t=t[0])?null:t}function A(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var a=2*(r+1)-1,o=t[a],s=a+1,c=t[s];if(void 0!==o&&0>S(o,n))void 0!==c&&0>S(c,o)?(t[r]=c,t[s]=n,r=s):(t[r]=o,t[a]=n,r=a);else{if(!(void 0!==c&&0>S(c,n)))break t;t[r]=c,t[s]=n,r=s}}}return e}return null}function S(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var T=[],P=[],O=1,R=null,L=3,M=!1,I=!1,D=!1;function N(t){for(var e=E(P);null!==e;){if(null===e.callback)A(P);else{if(!(e.startTime<=t))break;A(P),e.sortIndex=e.expirationTime,C(T,e)}e=E(P)}}function F(t){if(D=!1,N(t),!I)if(null!==E(T))I=!0,n(j);else{var e=E(P);null!==e&&r(F,e.startTime-t)}}function j(t,n){I=!1,D&&(D=!1,i()),M=!0;var o=L;try{for(N(n),R=E(T);null!==R&&(!(R.expirationTime>n)||t&&!a());){var s=R.callback;if(null!==s){R.callback=null,L=R.priorityLevel;var c=s(R.expirationTime<=n);n=e.unstable_now(),"function"===typeof c?R.callback=c:R===E(T)&&A(T),N(n)}else A(T);R=E(T)}if(null!==R)var u=!0;else{var l=E(P);null!==l&&r(F,l.startTime-n),u=!1}return u}finally{R=null,L=o,M=!1}}function W(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var G=o;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){I||M||(I=!0,n(j))},e.unstable_getCurrentPriorityLevel=function(){return L},e.unstable_getFirstCallbackNode=function(){return E(T)},e.unstable_next=function(t){switch(L){case 1:case 2:case 3:var e=3;break;default:e=L}var n=L;L=e;try{return t()}finally{L=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=G,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=L;L=t;try{return e()}finally{L=n}},e.unstable_scheduleCallback=function(t,a,o){var s=e.unstable_now();if("object"===typeof o&&null!==o){var c=o.delay;c="number"===typeof c&&0<c?s+c:s,o="number"===typeof o.timeout?o.timeout:W(t)}else o=W(t),c=s;return t={id:O++,callback:a,priorityLevel:t,startTime:c,expirationTime:o=c+o,sortIndex:-1},c>s?(t.sortIndex=c,C(P,t),null===E(T)&&t===E(P)&&(D?i():D=!0,r(F,c-s))):(t.sortIndex=o,C(T,t),I||M||(I=!0,n(j))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();N(t);var n=E(T);return n!==R&&null!==R&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<R.expirationTime||a()},e.unstable_wrapCallback=function(t){var e=L;return function(){var n=L;L=e;try{return t.apply(this,arguments)}finally{L=n}}}},5296:function(t,e,n){"use strict";t.exports=n(6813)},1874:function(t){for(var e=[],n=0;n<256;++n)e[n]=(n+256).toString(16).substr(1);t.exports=function(t,n){var r=n||0,i=e;return[i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]]].join("")}},7180:function(t){var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var n=new Uint8Array(16);t.exports=function(){return e(n),n}}else{var r=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),r[e]=t>>>((3&e)<<3)&255;return r}}},7669:function(t,e,n){var r,i,a=n(7180),o=n(1874),s=0,c=0;t.exports=function(t,e,n){var u=e&&n||0,l=e||[],f=(t=t||{}).node||r,h=void 0!==t.clockseq?t.clockseq:i;if(null==f||null==h){var d=a();null==f&&(f=r=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==h&&(h=i=16383&(d[6]<<8|d[7]))}var p=void 0!==t.msecs?t.msecs:(new Date).getTime(),g=void 0!==t.nsecs?t.nsecs:c+1,y=p-s+(g-c)/1e4;if(y<0&&void 0===t.clockseq&&(h=h+1&16383),(y<0||p>s)&&void 0===t.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,c=g,i=h;var v=(1e4*(268435455&(p+=122192928e5))+g)%4294967296;l[u++]=v>>>24&255,l[u++]=v>>>16&255,l[u++]=v>>>8&255,l[u++]=255&v;var m=p/4294967296*1e4&268435455;l[u++]=m>>>8&255,l[u++]=255&m,l[u++]=m>>>24&15|16,l[u++]=m>>>16&255,l[u++]=h>>>8|128,l[u++]=255&h;for(var _=0;_<6;++_)l[u+_]=f[_];return e||o(l)}},7078:function(t){"use strict";t.exports=function(){}},9396:function(t){"use strict";t.exports=JSON.parse('{"cols":28,"rows":14,"tiles":{"0,0":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"0,1":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"0,2":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"0,3":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"0,4":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"0,5":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"0,6":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"0,7":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"0,8":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"0,9":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"0,10":{"type":1,"character":"sw","color":"#fff","data":{"type":"WALL_CORNER_SW"}},"0,11":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"0,12":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"0,13":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"1,0":{"type":1,"character":"+","color":"#fff","data":{"type":"SAFE"}},"1,1":{"type":1,"character":"+","color":"#fff","data":{"type":"SAFE"}},"1,2":{"type":0,"character":"","color":"white","data":null},"1,3":{"type":0,"character":"","color":"white","data":null},"1,4":{"type":0,"character":"","color":"white","data":null},"1,5":{"type":0,"character":"","color":"white","data":null},"1,6":{"type":0,"character":"","color":"white","data":null},"1,7":{"type":0,"character":"","color":"white","data":null},"1,8":{"type":0,"character":"","color":"white","data":null},"1,9":{"type":0,"character":"","color":"white","data":null},"1,10":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"1,11":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"1,12":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"1,13":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"2,0":{"type":1,"character":"+","color":"#fff","data":{"type":"SAFE"}},"2,1":{"type":1,"character":"+","color":"#fff","data":{"type":"SAFE"}},"2,2":{"type":0,"character":"","color":"white","data":null},"2,3":{"type":0,"character":"","color":"white","data":null},"2,4":{"type":0,"character":"","color":"white","data":null},"2,5":{"type":0,"character":"","color":"white","data":null},"2,6":{"type":0,"character":"","color":"white","data":null},"2,7":{"type":0,"character":"","color":"white","data":null},"2,8":{"type":0,"character":"","color":"white","data":null},"2,9":{"type":0,"character":"","color":"white","data":null},"2,10":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"2,11":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"2,12":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"2,13":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"3,0":{"type":1,"character":"+","color":"#fff","data":{"type":"SAFE"}},"3,1":{"type":1,"character":"+","color":"#fff","data":{"type":"SAFE"}},"3,2":{"type":0,"character":"","color":"white","data":null},"3,3":{"type":0,"character":"","color":"white","data":null},"3,4":{"type":0,"character":"","color":"white","data":null},"3,5":{"type":0,"character":"","color":"white","data":null},"3,6":{"type":0,"character":"","color":"white","data":null},"3,7":{"type":0,"character":"","color":"white","data":null},"3,8":{"type":0,"character":"","color":"white","data":null},"3,9":{"type":0,"character":"","color":"white","data":null},"3,10":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"3,11":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"3,12":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"3,13":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"4,0":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"4,1":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"4,2":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"4,3":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"4,4":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"4,5":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"4,6":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"4,7":{"type":0,"character":"","color":"white","data":null},"4,8":{"type":0,"character":"","color":"white","data":null},"4,9":{"type":0,"character":"","color":"white","data":null},"4,10":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"4,11":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"4,12":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"4,13":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"5,0":{"type":0,"character":"","color":"white","data":null},"5,1":{"type":0,"character":"","color":"white","data":null},"5,2":{"type":0,"character":"","color":"white","data":null},"5,3":{"type":0,"character":"","color":"white","data":null},"5,4":{"type":0,"character":"","color":"white","data":null},"5,5":{"type":0,"character":"","color":"white","data":null},"5,6":{"type":0,"character":"","color":"white","data":null},"5,7":{"type":0,"character":"","color":"white","data":null},"5,8":{"type":0,"character":"","color":"white","data":null},"5,9":{"type":0,"character":"","color":"white","data":null},"5,10":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"5,11":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"5,12":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"5,13":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"6,0":{"type":0,"character":"","color":"white","data":null},"6,1":{"type":0,"character":"","color":"white","data":null},"6,2":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"6,3":{"type":0,"character":"","color":"white","data":null},"6,4":{"type":0,"character":"","color":"white","data":null},"6,5":{"type":0,"character":"","color":"white","data":null},"6,6":{"type":0,"character":"","color":"white","data":null},"6,7":{"type":0,"character":"","color":"white","data":null},"6,8":{"type":0,"character":"","color":"white","data":null},"6,9":{"type":0,"character":"","color":"white","data":null},"6,10":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"6,11":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"6,12":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"6,13":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"7,0":{"type":0,"character":"","color":"white","data":null},"7,1":{"type":0,"character":"","color":"white","data":null},"7,2":{"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"7,3":{"type":0,"character":"","color":"white","data":null},"7,4":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"7,5":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"7,6":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"7,7":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"7,8":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"7,9":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"7,10":{"type":1,"character":"ne","color":"#fff","data":{"type":"WALL_CORNER_NE"}},"7,11":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"7,12":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"7,13":{"type":1,"character":"sw","color":"#fff","data":{"type":"WALL_CORNER_SW"}},"8,0":{"type":0,"character":"","color":"white","data":null},"8,1":{"type":0,"character":"","color":"white","data":null},"8,2":{"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"8,3":{"type":0,"character":"","color":"white","data":null},"8,4":{"type":0,"character":"","color":"white","data":null},"8,5":{"type":0,"character":"","color":"white","data":null},"8,6":{"type":0,"character":"","color":"white","data":null},"8,7":{"type":0,"character":"","color":"white","data":null},"8,8":{"type":0,"character":"","color":"white","data":null},"8,9":{"type":0,"character":"","color":"white","data":null},"8,10":{"type":0,"character":"","color":"white","data":null},"8,11":{"type":0,"character":"","color":"white","data":null},"8,12":{"type":0,"character":"","color":"white","data":null},"8,13":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"9,0":{"type":0,"character":"","color":"white","data":null},"9,1":{"type":0,"character":"","color":"white","data":null},"9,2":{"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"9,3":{"type":0,"character":"","color":"white","data":null},"9,4":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"9,5":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"9,6":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"9,7":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"9,8":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"9,9":{"type":1,"character":"nw","color":"#fff","data":{"type":"WALL_CORNER_NW"}},"9,10":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"9,11":{"type":0,"character":"","color":"white","data":null},"9,12":{"type":0,"character":"","color":"white","data":null},"9,13":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"10,0":{"type":0,"character":"","color":"white","data":null},"10,1":{"type":0,"character":"","color":"white","data":null},"10,2":{"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"10,3":{"type":0,"character":"","color":"white","data":null},"10,4":{"type":0,"character":"","color":"white","data":null},"10,5":{"type":0,"character":"","color":"white","data":null},"10,6":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"10,7":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"10,8":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"10,9":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"10,10":{"type":0,"character":"","color":"white","data":null},"10,11":{"type":0,"character":"","color":"white","data":null},"10,12":{"type":0,"character":"","color":"white","data":null},"10,13":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"11,0":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"11,1":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"11,2":{"type":1,"character":"se","color":"#fff","data":{"type":"WALL_CORNER_SE"}},"11,3":{"type":0,"character":"","color":"white","data":null},"11,4":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"11,5":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"11,6":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"11,7":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"11,8":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"11,9":{"type":1,"character":"ne","color":"#fff","data":{"type":"WALL_CORNER_NE"}},"11,10":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"11,11":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"11,12":{"type":0,"character":"","color":"white","data":null},"11,13":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"12,0":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"12,1":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"12,2":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"12,3":{"type":0,"character":"","color":"white","data":null},"12,4":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"12,5":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"12,6":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"12,7":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"12,8":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"12,9":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"12,10":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"12,11":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"12,12":{"type":0,"character":"","color":"white","data":null},"12,13":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"13,0":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"13,1":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"13,2":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"13,3":{"type":0,"character":"","color":"white","data":null},"13,4":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"13,5":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"13,6":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"13,7":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"13,8":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"13,9":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"13,10":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"13,11":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"13,12":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"13,13":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"14,0":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"14,1":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"14,2":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"14,3":{"type":0,"character":"","color":"white","data":null},"14,4":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"14,5":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"14,6":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"14,7":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"14,8":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"14,9":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"14,10":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"14,11":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"14,12":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"14,13":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"15,0":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"15,1":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"15,2":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"15,3":{"type":0,"character":"","color":"white","data":null},"15,4":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"15,5":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"15,6":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"15,7":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"15,8":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"15,9":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"15,10":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"15,11":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"15,12":{"type":0,"character":"","color":"white","data":null},"15,13":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"16,0":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"16,1":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"16,2":{"type":1,"character":"sw","color":"#fff","data":{"type":"WALL_CORNER_SW"}},"16,3":{"type":0,"character":"","color":"white","data":null},"16,4":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"16,5":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"16,6":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"16,7":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"16,8":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"16,9":{"type":1,"character":"nw","color":"#fff","data":{"type":"WALL_CORNER_NW"}},"16,10":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"16,11":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"16,12":{"type":0,"character":"","color":"white","data":null},"16,13":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"17,0":{"type":0,"character":"","color":"white","data":null},"17,1":{"type":0,"character":"","color":"white","data":null},"17,2":{"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"17,3":{"type":0,"character":"","color":"white","data":null},"17,4":{"type":0,"character":"","color":"white","data":null},"17,5":{"type":0,"character":"","color":"white","data":null},"17,6":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"17,7":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"17,8":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"17,9":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"17,10":{"type":0,"character":"","color":"white","data":null},"17,11":{"type":0,"character":"","color":"white","data":null},"17,12":{"type":0,"character":"","color":"white","data":null},"17,13":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"18,0":{"type":0,"character":"","color":"white","data":null},"18,1":{"type":0,"character":"","color":"white","data":null},"18,2":{"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"18,3":{"type":0,"character":"","color":"white","data":null},"18,4":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"18,5":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"18,6":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"18,7":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"18,8":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"18,9":{"type":1,"character":"ne","color":"#fff","data":{"type":"WALL_CORNER_NE"}},"18,10":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"18,11":{"type":0,"character":"","color":"white","data":null},"18,12":{"type":0,"character":"","color":"white","data":null},"18,13":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"19,0":{"type":0,"character":"","color":"white","data":null},"19,1":{"type":0,"character":"","color":"white","data":null},"19,2":{"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"19,3":{"type":0,"character":"","color":"white","data":null},"19,4":{"type":0,"character":"","color":"white","data":null},"19,5":{"type":0,"character":"","color":"white","data":null},"19,6":{"type":0,"character":"","color":"white","data":null},"19,7":{"type":0,"character":"","color":"white","data":null},"19,8":{"type":0,"character":"","color":"white","data":null},"19,9":{"type":0,"character":"","color":"white","data":null},"19,10":{"type":0,"character":"","color":"white","data":null},"19,11":{"type":0,"character":"","color":"white","data":null},"19,12":{"type":0,"character":"","color":"white","data":null},"19,13":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"20,0":{"type":0,"character":"","color":"white","data":null},"20,1":{"type":0,"character":"","color":"white","data":null},"20,2":{"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"20,3":{"type":0,"character":"","color":"white","data":null},"20,4":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"20,5":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"20,6":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"20,7":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"20,8":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"20,9":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"20,10":{"type":1,"character":"nw","color":"#fff","data":{"type":"WALL_CORNER_NW"}},"20,11":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"20,12":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"20,13":{"type":1,"character":"se","color":"#fff","data":{"type":"WALL_CORNER_SE"}},"21,0":{"type":0,"character":"","color":"white","data":null},"21,1":{"type":0,"character":"","color":"white","data":null},"21,2":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"21,3":{"type":0,"character":"","color":"white","data":null},"21,4":{"type":0,"character":"","color":"white","data":null},"21,5":{"type":0,"character":"","color":"white","data":null},"21,6":{"type":0,"character":"","color":"white","data":null},"21,7":{"type":0,"character":"","color":"white","data":null},"21,8":{"type":0,"character":"","color":"white","data":null},"21,9":{"type":0,"character":"","color":"white","data":null},"21,10":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"21,11":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"21,12":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"21,13":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"22,0":{"type":0,"character":"","color":"white","data":null},"22,1":{"type":0,"character":"","color":"white","data":null},"22,2":{"type":0,"character":"","color":"white","data":null},"22,3":{"type":0,"character":"","color":"white","data":null},"22,4":{"type":0,"character":"","color":"white","data":null},"22,5":{"type":0,"character":"","color":"white","data":null},"22,6":{"type":0,"character":"","color":"white","data":null},"22,7":{"type":0,"character":"","color":"white","data":null},"22,8":{"type":0,"character":"","color":"white","data":null},"22,9":{"type":0,"character":"","color":"white","data":null},"22,10":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"22,11":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"22,12":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"22,13":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"23,0":{"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"23,1":{"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"23,2":{"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"23,3":{"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"23,4":{"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"23,5":{"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"23,6":{"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"23,7":{"type":0,"character":"","color":"white","data":null},"23,8":{"type":0,"character":"","color":"white","data":null},"23,9":{"type":0,"character":"","color":"white","data":null},"23,10":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"23,11":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"23,12":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"23,13":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"24,0":{"type":1,"character":"x","color":"#fff","data":{"type":"LOCKED_EXIT"}},"24,1":{"type":1,"character":"x","color":"#fff","data":{"type":"LOCKED_EXIT"}},"24,2":{"type":0,"character":"","color":"white","data":null},"24,3":{"type":0,"character":"","color":"white","data":null},"24,4":{"type":0,"character":"","color":"white","data":null},"24,5":{"type":0,"character":"","color":"white","data":null},"24,6":{"type":0,"character":"","color":"white","data":null},"24,7":{"type":0,"character":"","color":"white","data":null},"24,8":{"type":0,"character":"","color":"white","data":null},"24,9":{"type":0,"character":"","color":"white","data":null},"24,10":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"24,11":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"24,12":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"24,13":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"25,0":{"type":1,"character":"x","color":"#fff","data":{"type":"LOCKED_EXIT"}},"25,1":{"type":1,"character":"x","color":"#fff","data":{"type":"LOCKED_EXIT"}},"25,2":{"type":0,"character":"","color":"white","data":null},"25,3":{"type":0,"character":"","color":"white","data":null},"25,4":{"type":0,"character":"","color":"white","data":null},"25,5":{"type":0,"character":"","color":"white","data":null},"25,6":{"type":0,"character":"","color":"white","data":null},"25,7":{"type":0,"character":"","color":"white","data":null},"25,8":{"type":0,"character":"","color":"white","data":null},"25,9":{"type":0,"character":"","color":"white","data":null},"25,10":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"25,11":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"25,12":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"25,13":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"26,0":{"type":1,"character":"x","color":"#fff","data":{"type":"LOCKED_EXIT"}},"26,1":{"type":1,"character":"x","color":"#fff","data":{"type":"LOCKED_EXIT"}},"26,2":{"type":0,"character":"","color":"white","data":null},"26,3":{"type":0,"character":"","color":"white","data":null},"26,4":{"type":0,"character":"","color":"white","data":null},"26,5":{"type":0,"character":"","color":"white","data":null},"26,6":{"type":0,"character":"","color":"white","data":null},"26,7":{"type":0,"character":"","color":"white","data":null},"26,8":{"type":0,"character":"","color":"white","data":null},"26,9":{"type":0,"character":"","color":"white","data":null},"26,10":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"26,11":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"26,12":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"26,13":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"27,0":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"27,1":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"27,2":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"27,3":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"27,4":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"27,5":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"27,6":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"27,7":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"27,8":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"27,9":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"27,10":{"type":1,"character":"se","color":"#fff","data":{"type":"WALL_CORNER_SE"}},"27,11":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"27,12":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"27,13":{"character":"__","color":"#fff","data":{"type":"FLOOR"}}}}')}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var a=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},function(){"use strict";var t={};n.r(t),n.d(t,{addDrone:function(){return Dr},addDroneGrenadier:function(){return Nr},addHunter:function(){return Fr},addRandomGrub:function(){return Gr},addScion:function(){return jr},addSkorge:function(){return Wr},addWretch:function(){return Ir},createRandomBasicGrub:function(){return Br}});var e=n(2791),r=n(4164);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function f(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t,e){if(e&&("object"===d(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return p(t)}function y(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}var v=n(4589),m=n.n(v),_="Title",b="Level",w="Lose",x="Win",k="CharacterSelect";function C(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(r,i)}function E(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){C(a,r,i,o,s,"next",t)}function s(t){C(a,r,i,o,s,"throw",t)}o(void 0)}))}}var A=n(7757),S=n.n(A),T=2.3283064365386963e-10,P=function(){function t(){s(this,t),this._seed=0,this._s0=0,this._s1=0,this._s2=0,this._c=0}return u(t,[{key:"getSeed",value:function(){return this._seed}},{key:"setSeed",value:function(t){return t=t<1?1/t:t,this._seed=t,this._s0=(t>>>0)*T,t=69069*t+1>>>0,this._s1=t*T,t=69069*t+1>>>0,this._s2=t*T,this._c=1,this}},{key:"getUniform",value:function(){var t=2091639*this._s0+this._c*T;return this._s0=this._s1,this._s1=this._s2,this._c=0|t,this._s2=t-this._c,this._s2}},{key:"getUniformInt",value:function(t,e){var n=Math.max(t,e),r=Math.min(t,e);return Math.floor(this.getUniform()*(n-r+1))+r}},{key:"getNormal",value:function(){var t,e,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;do{n=(t=2*this.getUniform()-1)*t+(e=2*this.getUniform()-1)*e}while(n>1||0==n);var a=t*Math.sqrt(-2*Math.log(n)/n);return r+a*i}},{key:"getPercentage",value:function(){return 1+Math.floor(100*this.getUniform())}},{key:"getItem",value:function(t){return t.length?t[Math.floor(this.getUniform()*t.length)]:null}},{key:"shuffle",value:function(t){for(var e=[],n=t.slice();n.length;){var r=n.indexOf(this.getItem(n));e.push(n.splice(r,1)[0])}return e}},{key:"getWeightedValue",value:function(t){var e=0;for(var n in t)e+=t[n];var r,i=this.getUniform()*e,a=0;for(r in t)if(i<(a+=t[r]))return r;return r}},{key:"getState",value:function(){return[this._s0,this._s1,this._s2,this._c]}},{key:"setState",value:function(t){return this._s0=t[0],this._s1=t[1],this._s2=t[2],this._c=t[3],this}},{key:"clone",value:function(){var e=new t;return e.setState(this.getState())}}]),t}(),O=(new P).setSeed(Date.now());function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function L(t,e){if(t){if("string"===typeof t)return R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(t,e):void 0}}function M(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(c){s=!0,i=c}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(t,e)||L(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}function D(){return D="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=I(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},D.apply(this,arguments)}var N=function(){function t(){s(this,t)}return u(t,[{key:"getContainer",value:function(){return null}},{key:"setOptions",value:function(t){this._options=t}}]),t}(),F=function(t){f(n,t);var e=y(n);function n(){var t;return s(this,n),(t=e.call(this))._ctx=document.createElement("canvas").getContext("2d"),t}return u(n,[{key:"schedule",value:function(t){requestAnimationFrame(t)}},{key:"getContainer",value:function(){return this._ctx.canvas}},{key:"setOptions",value:function(t){D(h(n.prototype),"setOptions",this).call(this,t);var e=t.fontStyle?"".concat(t.fontStyle," "):"",r="".concat(e," ").concat(t.fontSize,"px ").concat(t.fontFamily);this._ctx.font=r,this._updateSize(),this._ctx.font=r,this._ctx.textAlign="center",this._ctx.textBaseline="middle"}},{key:"clear",value:function(){this._ctx.fillStyle=this._options.bg,this._ctx.fillRect(0,0,this._ctx.canvas.width,this._ctx.canvas.height)}},{key:"eventToPosition",value:function(t,e){var n=this._ctx.canvas,r=n.getBoundingClientRect();return t-=r.left,e-=r.top,t*=n.width/r.width,e*=n.height/r.height,t<0||e<0||t>=n.width||e>=n.height?[-1,-1]:this._normalizedEventToPosition(t,e)}}]),n}(N);function j(t,e){return(t%e+e)%e}var W=function(t){f(n,t);var e=y(n);function n(){var t;return s(this,n),(t=e.call(this))._spacingX=0,t._spacingY=0,t._hexSize=0,t}return u(n,[{key:"draw",value:function(t,e){var n=M(t,5),r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],c=[(r+1)*this._spacingX,i*this._spacingY+this._hexSize];if(this._options.transpose&&c.reverse(),e&&(this._ctx.fillStyle=s,this._fill(c[0],c[1])),a){this._ctx.fillStyle=o;for(var u=[].concat(a),l=0;l<u.length;l++)this._ctx.fillText(u[l],c[0],Math.ceil(c[1]))}}},{key:"computeSize",value:function(t,e){return this._options.transpose&&(t+=e,t-=e=t-e),[Math.floor(t/this._spacingX)-1,Math.floor((e-2*this._hexSize)/this._spacingY+1)]}},{key:"computeFontSize",value:function(t,e){this._options.transpose&&(t+=e,t-=e=t-e);var n=2*t/((this._options.width+1)*Math.sqrt(3))-1,r=e/(2+1.5*(this._options.height-1)),i=Math.min(n,r),a=this._ctx.font;this._ctx.font="100px "+this._options.fontFamily;var o=Math.ceil(this._ctx.measureText("W").width);this._ctx.font=a;var s=o/100,c=2*(i=Math.floor(i)+1)/(this._options.spacing*(1+s/Math.sqrt(3)));return Math.ceil(c)-1}},{key:"_normalizedEventToPosition",value:function(t,e){var n;this._options.transpose?(t+=e,t-=e=t-e,n=this._ctx.canvas.width):n=this._ctx.canvas.height;var r=n/this._options.height;return j(e=Math.floor(e/r),2)?(t-=this._spacingX,t=1+2*Math.floor(t/(2*this._spacingX))):t=2*Math.floor(t/(2*this._spacingX)),[t,e]}},{key:"_fill",value:function(t,e){var n=this._hexSize,r=this._options.border,i=this._ctx;i.beginPath(),this._options.transpose?(i.moveTo(t-n+r,e),i.lineTo(t-n/2+r,e+this._spacingX-r),i.lineTo(t+n/2-r,e+this._spacingX-r),i.lineTo(t+n-r,e),i.lineTo(t+n/2-r,e-this._spacingX+r),i.lineTo(t-n/2+r,e-this._spacingX+r),i.lineTo(t-n+r,e)):(i.moveTo(t,e-n+r),i.lineTo(t+this._spacingX-r,e-n/2+r),i.lineTo(t+this._spacingX-r,e+n/2-r),i.lineTo(t,e+n-r),i.lineTo(t-this._spacingX+r,e+n/2-r),i.lineTo(t-this._spacingX+r,e-n/2+r),i.lineTo(t,e-n+r)),i.fill()}},{key:"_updateSize",value:function(){var t,e,n=this._options,r=Math.ceil(this._ctx.measureText("W").width);this._hexSize=Math.floor(n.spacing*(n.fontSize+r/Math.sqrt(3))/2),this._spacingX=this._hexSize*Math.sqrt(3)/2,this._spacingY=1.5*this._hexSize,n.transpose?(t="height",e="width"):(t="width",e="height"),this._ctx.canvas[t]=Math.ceil((n.width+1)*this._spacingX),this._ctx.canvas[e]=Math.ceil((n.height-1)*this._spacingY+2*this._hexSize)}}]),n}(F),G=function(t){f(n,t);var e=y(n);function n(){var t;return s(this,n),(t=e.call(this))._spacingX=0,t._spacingY=0,t._canvasCache={},t}return u(n,[{key:"setOptions",value:function(t){D(h(n.prototype),"setOptions",this).call(this,t),this._canvasCache={}}},{key:"draw",value:function(t,e){n.cache?this._drawWithCache(t):this._drawNoCache(t,e)}},{key:"_drawWithCache",value:function(t){var e,n=M(t,5),r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],c=""+a+o+s;if(c in this._canvasCache)e=this._canvasCache[c];else{var u=this._options.border,l=(e=document.createElement("canvas")).getContext("2d");if(e.width=this._spacingX,e.height=this._spacingY,l.fillStyle=s,l.fillRect(u,u,e.width-u,e.height-u),a){l.fillStyle=o,l.font=this._ctx.font,l.textAlign="center",l.textBaseline="middle";for(var f=[].concat(a),h=0;h<f.length;h++)l.fillText(f[h],this._spacingX/2,Math.ceil(this._spacingY/2))}this._canvasCache[c]=e}this._ctx.drawImage(e,r*this._spacingX,i*this._spacingY)}},{key:"_drawNoCache",value:function(t,e){var n=M(t,5),r=n[0],i=n[1],a=n[2],o=n[3],s=n[4];if(e){var c=this._options.border;this._ctx.fillStyle=s,this._ctx.fillRect(r*this._spacingX+c,i*this._spacingY+c,this._spacingX-c,this._spacingY-c)}if(a){this._ctx.fillStyle=o;for(var u=[].concat(a),l=0;l<u.length;l++)this._ctx.fillText(u[l],(r+.5)*this._spacingX,Math.ceil((i+.5)*this._spacingY))}}},{key:"computeSize",value:function(t,e){return[Math.floor(t/this._spacingX),Math.floor(e/this._spacingY)]}},{key:"computeFontSize",value:function(t,e){var n=Math.floor(t/this._options.width),r=Math.floor(e/this._options.height),i=this._ctx.font;this._ctx.font="100px "+this._options.fontFamily;var a=Math.ceil(this._ctx.measureText("W").width);this._ctx.font=i;var o=a/100*r/n;return o>1&&(r=Math.floor(r/o)),Math.floor(r/this._options.spacing)}},{key:"_normalizedEventToPosition",value:function(t,e){return[Math.floor(t/this._spacingX),Math.floor(e/this._spacingY)]}},{key:"_updateSize",value:function(){var t=this._options,e=Math.ceil(this._ctx.measureText("W").width);this._spacingX=Math.ceil(t.spacing*e),this._spacingY=Math.ceil(t.spacing*t.fontSize),t.forceSquareRatio&&(this._spacingX=this._spacingY=Math.max(this._spacingX,this._spacingY)),this._ctx.canvas.width=t.width*this._spacingX,this._ctx.canvas.height=t.height*this._spacingY}}]),n}(F);G.cache=!1;var z=function(t){f(n,t);var e=y(n);function n(){var t;return s(this,n),(t=e.call(this))._colorCanvas=document.createElement("canvas"),t}return u(n,[{key:"draw",value:function(t,e){var n=M(t,5),r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],c=this._options.tileWidth,u=this._options.tileHeight;if(e&&(this._options.tileColorize?this._ctx.clearRect(r*c,i*u,c,u):(this._ctx.fillStyle=s,this._ctx.fillRect(r*c,i*u,c,u))),a)for(var l=[].concat(a),f=[].concat(o),h=[].concat(s),d=0;d<l.length;d++){var p=this._options.tileMap[l[d]];if(!p)throw new Error('Char "'.concat(l[d],'" not found in tileMap'));if(this._options.tileColorize){var g=this._colorCanvas,y=g.getContext("2d");y.globalCompositeOperation="source-over",y.clearRect(0,0,c,u);var v=f[d],m=h[d];y.drawImage(this._options.tileSet,p[0],p[1],c,u,0,0,c,u),"transparent"!=v&&(y.fillStyle=v,y.globalCompositeOperation="source-atop",y.fillRect(0,0,c,u)),"transparent"!=m&&(y.fillStyle=m,y.globalCompositeOperation="destination-over",y.fillRect(0,0,c,u)),this._ctx.drawImage(g,r*c,i*u,c,u)}else this._ctx.drawImage(this._options.tileSet,p[0],p[1],c,u,r*c,i*u,c,u)}}},{key:"computeSize",value:function(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}},{key:"computeFontSize",value:function(){throw new Error("Tile backend does not understand font size")}},{key:"_normalizedEventToPosition",value:function(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}},{key:"_updateSize",value:function(){var t=this._options;this._ctx.canvas.width=t.width*t.tileWidth,this._ctx.canvas.height=t.height*t.tileHeight,this._colorCanvas.width=t.tileWidth,this._colorCanvas.height=t.tileHeight}}]),n}(F);function U(t){return function(t){if(Array.isArray(t))return R(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||L(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(t){var e,n;if(t in H)e=H[t];else{if("#"==t.charAt(0)){var r=(t.match(/[0-9a-f]/gi)||[]).map((function(t){return parseInt(t,16)}));if(3==r.length)e=r.map((function(t){return 17*t}));else{for(var i=0;i<3;i++)r[i+1]+=16*r[i],r.splice(i,1);e=r}}else e=(n=t.match(/rgb\(([0-9, ]+)\)/i))?n[1].split(/\s*,\s*/).map((function(t){return parseInt(t)})):[0,0,0];H[t]=e}return e.slice()}var H={black:[0,0,0],navy:[0,0,128],darkblue:[0,0,139],mediumblue:[0,0,205],blue:[0,0,255],darkgreen:[0,100,0],green:[0,128,0],teal:[0,128,128],darkcyan:[0,139,139],deepskyblue:[0,191,255],darkturquoise:[0,206,209],mediumspringgreen:[0,250,154],lime:[0,255,0],springgreen:[0,255,127],aqua:[0,255,255],cyan:[0,255,255],midnightblue:[25,25,112],dodgerblue:[30,144,255],forestgreen:[34,139,34],seagreen:[46,139,87],darkslategray:[47,79,79],darkslategrey:[47,79,79],limegreen:[50,205,50],mediumseagreen:[60,179,113],turquoise:[64,224,208],royalblue:[65,105,225],steelblue:[70,130,180],darkslateblue:[72,61,139],mediumturquoise:[72,209,204],indigo:[75,0,130],darkolivegreen:[85,107,47],cadetblue:[95,158,160],cornflowerblue:[100,149,237],mediumaquamarine:[102,205,170],dimgray:[105,105,105],dimgrey:[105,105,105],slateblue:[106,90,205],olivedrab:[107,142,35],slategray:[112,128,144],slategrey:[112,128,144],lightslategray:[119,136,153],lightslategrey:[119,136,153],mediumslateblue:[123,104,238],lawngreen:[124,252,0],chartreuse:[127,255,0],aquamarine:[127,255,212],maroon:[128,0,0],purple:[128,0,128],olive:[128,128,0],gray:[128,128,128],grey:[128,128,128],skyblue:[135,206,235],lightskyblue:[135,206,250],blueviolet:[138,43,226],darkred:[139,0,0],darkmagenta:[139,0,139],saddlebrown:[139,69,19],darkseagreen:[143,188,143],lightgreen:[144,238,144],mediumpurple:[147,112,216],darkviolet:[148,0,211],palegreen:[152,251,152],darkorchid:[153,50,204],yellowgreen:[154,205,50],sienna:[160,82,45],brown:[165,42,42],darkgray:[169,169,169],darkgrey:[169,169,169],lightblue:[173,216,230],greenyellow:[173,255,47],paleturquoise:[175,238,238],lightsteelblue:[176,196,222],powderblue:[176,224,230],firebrick:[178,34,34],darkgoldenrod:[184,134,11],mediumorchid:[186,85,211],rosybrown:[188,143,143],darkkhaki:[189,183,107],silver:[192,192,192],mediumvioletred:[199,21,133],indianred:[205,92,92],peru:[205,133,63],chocolate:[210,105,30],tan:[210,180,140],lightgray:[211,211,211],lightgrey:[211,211,211],palevioletred:[216,112,147],thistle:[216,191,216],orchid:[218,112,214],goldenrod:[218,165,32],crimson:[220,20,60],gainsboro:[220,220,220],plum:[221,160,221],burlywood:[222,184,135],lightcyan:[224,255,255],lavender:[230,230,250],darksalmon:[233,150,122],violet:[238,130,238],palegoldenrod:[238,232,170],lightcoral:[240,128,128],khaki:[240,230,140],aliceblue:[240,248,255],honeydew:[240,255,240],azure:[240,255,255],sandybrown:[244,164,96],wheat:[245,222,179],beige:[245,245,220],whitesmoke:[245,245,245],mintcream:[245,255,250],ghostwhite:[248,248,255],salmon:[250,128,114],antiquewhite:[250,235,215],linen:[250,240,230],lightgoldenrodyellow:[250,250,210],oldlace:[253,245,230],red:[255,0,0],fuchsia:[255,0,255],magenta:[255,0,255],deeppink:[255,20,147],orangered:[255,69,0],tomato:[255,99,71],hotpink:[255,105,180],coral:[255,127,80],darkorange:[255,140,0],lightsalmon:[255,160,122],orange:[255,165,0],lightpink:[255,182,193],pink:[255,192,203],gold:[255,215,0],peachpuff:[255,218,185],navajowhite:[255,222,173],moccasin:[255,228,181],bisque:[255,228,196],mistyrose:[255,228,225],blanchedalmond:[255,235,205],papayawhip:[255,239,213],lavenderblush:[255,240,245],seashell:[255,245,238],cornsilk:[255,248,220],lemonchiffon:[255,250,205],floralwhite:[255,250,240],snow:[255,250,250],yellow:[255,255,0],lightyellow:[255,255,224],ivory:[255,255,240],white:[255,255,255]},V=function(t){f(n,t);var e=y(n);function n(){var t;s(this,n),(t=e.call(this))._uniforms={};try{t._gl=t._initWebGL()}catch(r){alert(r.message)}return t}return u(n,[{key:"schedule",value:function(t){requestAnimationFrame(t)}},{key:"getContainer",value:function(){return this._gl.canvas}},{key:"setOptions",value:function(t){var e=this;D(h(n.prototype),"setOptions",this).call(this,t),this._updateSize();var r=this._options.tileSet;r&&"complete"in r&&!r.complete?r.addEventListener("load",(function(){return e._updateTexture(r)})):this._updateTexture(r)}},{key:"draw",value:function(t,e){var n=this._gl,r=this._options,i=M(t,5),a=i[0],o=i[1],s=i[2],c=i[3],u=i[4],l=n.canvas.height-(o+1)*r.tileHeight;if(n.scissor(a*r.tileWidth,l,r.tileWidth,r.tileHeight),e&&(r.tileColorize?n.clearColor(0,0,0,0):n.clearColor.apply(n,U($(u))),n.clear(n.COLOR_BUFFER_BIT)),s){var f=[].concat(s),h=[].concat(u),d=[].concat(c);n.uniform2fv(this._uniforms.targetPosRel,[a,o]);for(var p=0;p<f.length;p++){var g=this._options.tileMap[f[p]];if(!g)throw new Error('Char "'.concat(f[p],'" not found in tileMap'));n.uniform1f(this._uniforms.colorize,r.tileColorize?1:0),n.uniform2fv(this._uniforms.tilesetPosAbs,g),r.tileColorize&&(n.uniform4fv(this._uniforms.tint,$(d[p])),n.uniform4fv(this._uniforms.bg,$(h[p]))),n.drawArrays(n.TRIANGLE_STRIP,0,4)}}}},{key:"clear",value:function(){var t=this._gl;t.clearColor.apply(t,U($(this._options.bg))),t.scissor(0,0,t.canvas.width,t.canvas.height),t.clear(t.COLOR_BUFFER_BIT)}},{key:"computeSize",value:function(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}},{key:"computeFontSize",value:function(){throw new Error("Tile backend does not understand font size")}},{key:"eventToPosition",value:function(t,e){var n=this._gl.canvas,r=n.getBoundingClientRect();return t-=r.left,e-=r.top,t*=n.width/r.width,e*=n.height/r.height,t<0||e<0||t>=n.width||e>=n.height?[-1,-1]:this._normalizedEventToPosition(t,e)}},{key:"_initWebGL",value:function(){var t=this,e=document.createElement("canvas").getContext("webgl2",{preserveDrawingBuffer:!0});window.gl=e;var n=function(t,e,n){var r=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(r,e),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(r)||"");var i=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(i,n),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(i)||"");var a=t.createProgram();if(t.attachShader(a,r),t.attachShader(a,i),t.linkProgram(a),!t.getProgramParameter(a,t.LINK_STATUS))throw new Error(t.getProgramInfoLog(a)||"");return a}(e,K,X);return e.useProgram(n),function(t){var e=new Float32Array([0,0,1,0,0,1,1,1]),n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.enableVertexAttribArray(0),t.vertexAttribPointer(0,2,t.FLOAT,!1,0,0)}(e),q.forEach((function(r){return t._uniforms[r]=e.getUniformLocation(n,r)})),this._program=n,e.enable(e.BLEND),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA),e.enable(e.SCISSOR_TEST),e}},{key:"_normalizedEventToPosition",value:function(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}},{key:"_updateSize",value:function(){var t=this._gl,e=this._options,n=[e.width*e.tileWidth,e.height*e.tileHeight];t.canvas.width=n[0],t.canvas.height=n[1],t.viewport(0,0,n[0],n[1]),t.uniform2fv(this._uniforms.tileSize,[e.tileWidth,e.tileHeight]),t.uniform2fv(this._uniforms.targetSize,n)}},{key:"_updateTexture",value:function(t){!function(t,e){var n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e)}(this._gl,t)}}],[{key:"isSupported",value:function(){return!!document.createElement("canvas").getContext("webgl2",{preserveDrawingBuffer:!0})}}]),n}(N),q=["targetPosRel","tilesetPosAbs","tileSize","targetSize","colorize","bg","tint"],K="\n#version 300 es\n\nin vec2 tilePosRel;\nout vec2 tilesetPosPx;\n\nuniform vec2 tilesetPosAbs;\nuniform vec2 tileSize;\nuniform vec2 targetSize;\nuniform vec2 targetPosRel;\n\nvoid main() {\n\tvec2 targetPosPx = (targetPosRel + tilePosRel) * tileSize;\n\tvec2 targetPosNdc = ((targetPosPx / targetSize)-0.5)*2.0;\n\ttargetPosNdc.y *= -1.0;\n\n\tgl_Position = vec4(targetPosNdc, 0.0, 1.0);\n\ttilesetPosPx = tilesetPosAbs + tilePosRel * tileSize;\n}".trim(),X="\n#version 300 es\nprecision highp float;\n\nin vec2 tilesetPosPx;\nout vec4 fragColor;\nuniform sampler2D image;\nuniform bool colorize;\nuniform vec4 bg;\nuniform vec4 tint;\n\nvoid main() {\n\tfragColor = vec4(0, 0, 0, 1);\n\n\tvec4 texel = texelFetch(image, ivec2(tilesetPosPx), 0);\n\n\tif (colorize) {\n\t\ttexel.rgb = tint.a * tint.rgb + (1.0-tint.a) * texel.rgb;\n\t\tfragColor.rgb = texel.a*texel.rgb + (1.0-texel.a)*bg.rgb;\n\t\tfragColor.a = texel.a + (1.0-texel.a)*bg.a;\n\t} else {\n\t\tfragColor = texel;\n\t}\n}".trim();var Y={};function $(t){if(!(t in Y)){var e;if("transparent"==t)e=[0,0,0,0];else if(t.indexOf("rgba")>-1){e=(t.match(/[\d.]+/g)||[]).map(Number);for(var n=0;n<3;n++)e[n]=e[n]/255}else(e=B(t).map((function(t){return t/255}))).push(1);Y[t]=e}return Y[t]}function Q(t){var e=6/256,n=B(t);return 36*Math.floor(n[0]*e)+6*Math.floor(n[1]*e)+1*Math.floor(n[2]*e)+16}var Z=function(t){f(n,t);var e=y(n);function n(){var t;return s(this,n),(t=e.call(this))._offset=[0,0],t._cursor=[-1,-1],t._lastColor="",t}return u(n,[{key:"schedule",value:function(t){setTimeout(t,1e3/60)}},{key:"setOptions",value:function(t){D(h(n.prototype),"setOptions",this).call(this,t);var e=[t.width,t.height],r=this.computeSize();this._offset=r.map((function(t,n){return Math.floor((t-e[n])/2)}))}},{key:"clear",value:function(){var t;process.stdout.write((t=this._options.bg,"\x1b[0;48;5;".concat(Q(t),"m\x1b[2J")))}},{key:"draw",value:function(t,e){var n=M(t,5),r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],c=this._offset[0]+r,u=this._offset[1]+i,l=this.computeSize();if(!(c<0||c>=l[0])&&!(u<0||u>=l[1])&&(c===this._cursor[0]&&u===this._cursor[1]||(process.stdout.write(function(t,e){return"\x1b[".concat(e+1,";").concat(t+1,"H")}(c,u)),this._cursor[0]=c,this._cursor[1]=u),e&&(a||(a=" ")),a)){var f=function(t,e){return"\x1b[0;38;5;".concat(Q(t),";48;5;").concat(Q(e),"m")}(o,s);f!==this._lastColor&&(process.stdout.write(f),this._lastColor=f);var h=[].concat(a);process.stdout.write(h[0]),this._cursor[0]++,this._cursor[0]>=l[0]&&(this._cursor[0]=0,this._cursor[1]++)}}},{key:"computeFontSize",value:function(){throw new Error("Terminal backend has no notion of font size")}},{key:"eventToPosition",value:function(t,e){return[t,e]}},{key:"computeSize",value:function(){return[process.stdout.columns,process.stdout.rows]}}]),n}(N),J=/%([bc]){([^}]*)}/g;function tt(t,e){var n=[],r=0;t.replace(J,(function(e,i,a,o){var s=t.substring(r,o);return s.length&&n.push({type:0,value:s}),n.push({type:"c"==i?2:3,value:a.trim()}),r=o+e.length,""}));var i=t.substring(r);return i.length&&n.push({type:0,value:i}),function(t,e){e||(e=1/0);var n=0,r=0,i=-1;for(;n<t.length;){var a=t[n];if(1==a.type&&(r=0,i=-1),0==a.type){for(;0==r&&" "==a.value.charAt(0);)a.value=a.value.substring(1);var o=a.value.indexOf("\n");if(-1!=o){a.value=et(t,n,o,!0);for(var s=a.value.split("");s.length&&" "==s[s.length-1];)s.pop();a.value=s.join("")}if(a.value.length){if(r+a.value.length>e){for(var c=-1;;){var u=a.value.indexOf(" ",c+1);if(-1==u)break;if(r+u>e)break;c=u}if(-1!=c)a.value=et(t,n,c,!0);else if(-1!=i){var l=t[i],f=l.value.lastIndexOf(" ");l.value=et(t,i,f,!0),n=i}else a.value=et(t,n,e-r,!1)}else r+=a.value.length,-1!=a.value.indexOf(" ")&&(i=n);n++}else t.splice(n,1)}else n++}t.push({type:1});for(var h=null,d=0;d<t.length;d++){var p=t[d];switch(p.type){case 0:h=p;break;case 1:if(h){for(var g=h.value.split("");g.length&&" "==g[g.length-1];)g.pop();h.value=g.join("")}h=null}}return t.pop(),t}(n,e)}function et(t,e,n,r){var i={type:1},a={type:0,value:t[e].value.substring(n+(r?1:0))};return t.splice(e+1,0,i,a),t[e].value.substring(0,n)}var nt={4:[[0,-1],[1,0],[0,1],[-1,0]],8:[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]],6:[[-1,-1],[1,-1],[2,0],[1,1],[-1,1],[-2,0]]},rt={hex:W,rect:G,tile:z,"tile-gl":V,term:Z},it={width:80,height:25,transpose:!1,layout:"rect",fontSize:15,spacing:1,border:0,forceSquareRatio:!1,fontFamily:"monospace",fontStyle:"",fg:"#ccc",bg:"#000",tileWidth:32,tileHeight:32,tileMap:{},tileSet:null,tileColorize:!1},at=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,t),this._data={},this._dirty=!1,this._options={},e=Object.assign({},it,e),this.setOptions(e),this.DEBUG=this.DEBUG.bind(this),this._tick=this._tick.bind(this),this._backend.schedule(this._tick)}return u(t,[{key:"DEBUG",value:function(t,e,n){var r=[this._options.bg,this._options.fg];this.draw(t,e,null,null,r[n%r.length])}},{key:"clear",value:function(){this._data={},this._dirty=!0}},{key:"setOptions",value:function(t){if(Object.assign(this._options,t),t.width||t.height||t.fontSize||t.fontFamily||t.spacing||t.layout){if(t.layout){var e=rt[t.layout];this._backend=new e}this._backend.setOptions(this._options),this._dirty=!0}return this}},{key:"getOptions",value:function(){return this._options}},{key:"getContainer",value:function(){return this._backend.getContainer()}},{key:"computeSize",value:function(t,e){return this._backend.computeSize(t,e)}},{key:"computeFontSize",value:function(t,e){return this._backend.computeFontSize(t,e)}},{key:"computeTileSize",value:function(t,e){return[Math.floor(t/this._options.width),Math.floor(e/this._options.height)]}},{key:"eventToPosition",value:function(t){var e,n;return"touches"in t?(e=t.touches[0].clientX,n=t.touches[0].clientY):(e=t.clientX,n=t.clientY),this._backend.eventToPosition(e,n)}},{key:"draw",value:function(t,e,n,r,i){r||(r=this._options.fg),i||(i=this._options.bg);var a="".concat(t,",").concat(e);this._data[a]=[t,e,n,r,i],!0!==this._dirty&&(this._dirty||(this._dirty={}),this._dirty[a]=!0)}},{key:"drawText",value:function(t,e,n,r){var i=null,a=null,o=t,s=e,c=1;r||(r=this._options.width-t);for(var u=tt(n,r);u.length;){var l=u.shift();switch(l.type){case 0:for(var f=!1,h=!1,d=!1,p=!1,g=0;g<l.value.length;g++){var y=l.value.charCodeAt(g),v=l.value.charAt(g);d=y>65280&&y<65377||y>65500&&y<65512||y>65518,f=32==v.charCodeAt(0)||12288==v.charCodeAt(0),!p||d||f||o++,d&&!h&&o++,this.draw(o++,s,v,i,a),h=f,p=d}break;case 2:i=l.value||null;break;case 3:a=l.value||null;break;case 1:o=t,s++,c++}}return c}},{key:"_tick",value:function(){if(this._backend.schedule(this._tick),this._dirty){if(!0===this._dirty)for(var t in this._backend.clear(),this._data)this._draw(t,!1);else for(var e in this._dirty)this._draw(e,!0);this._dirty=!1}}},{key:"_draw",value:function(t,e){var n=this._data[t];n[4]!=this._options.bg&&(e=!0),this._backend.draw(n,e)}}]),t}();at.Rect=G,at.Hex=W,at.Tile=z,at.TileGL=V,at.Term=Z;var ot=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:80,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;s(this,t),this._width=e,this._height=n}return u(t,[{key:"_fillMap",value:function(t){for(var e=[],n=0;n<this._width;n++){e.push([]);for(var r=0;r<this._height;r++)e[n].push(t)}return e}}]),t}(),st=function(t){f(n,t);var e=y(n);function n(){return s(this,n),e.apply(this,arguments)}return u(n,[{key:"create",value:function(t){for(var e=this._width-1,n=this._height-1,r=0;r<=e;r++)for(var i=0;i<=n;i++){t(r,i,r&&i&&r<e&&i<n?0:1)}return this}}]),n}(ot),ct=function(t){f(n,t);var e=y(n);function n(t,r){var i;return s(this,n),(i=e.call(this,t,r))._rooms=[],i._corridors=[],i}return u(n,[{key:"getRooms",value:function(){return this._rooms}},{key:"getCorridors",value:function(){return this._corridors}}]),n}(ot),ut=u((function t(){s(this,t)})),lt=function(t){f(n,t);var e=y(n);function n(t,r,i,a,o,c){var u;return s(this,n),(u=e.call(this))._x1=t,u._y1=r,u._x2=i,u._y2=a,u._doors={},void 0!==o&&void 0!==c&&u.addDoor(o,c),u}return u(n,[{key:"addDoor",value:function(t,e){return this._doors[t+","+e]=1,this}},{key:"getDoors",value:function(t){for(var e in this._doors){var n=e.split(",");t(parseInt(n[0]),parseInt(n[1]))}return this}},{key:"clearDoors",value:function(){return this._doors={},this}},{key:"addDoors",value:function(t){for(var e=this._x1-1,n=this._x2+1,r=this._y1-1,i=this._y2+1,a=e;a<=n;a++)for(var o=r;o<=i;o++)a!=e&&a!=n&&o!=r&&o!=i||t(a,o)||this.addDoor(a,o);return this}},{key:"debug",value:function(){console.log("room",this._x1,this._y1,this._x2,this._y2)}},{key:"isValid",value:function(t,e){for(var n=this._x1-1,r=this._x2+1,i=this._y1-1,a=this._y2+1,o=n;o<=r;o++)for(var s=i;s<=a;s++)if(o==n||o==r||s==i||s==a){if(!t(o,s))return!1}else if(!e(o,s))return!1;return!0}},{key:"create",value:function(t){for(var e=this._x1-1,n=this._x2+1,r=this._y1-1,i=this._y2+1,a=e;a<=n;a++)for(var o=r;o<=i;o++)t(a,o,a+","+o in this._doors?2:a==e||a==n||o==r||o==i?1:0)}},{key:"getCenter",value:function(){return[Math.round((this._x1+this._x2)/2),Math.round((this._y1+this._y2)/2)]}},{key:"getLeft",value:function(){return this._x1}},{key:"getRight",value:function(){return this._x2}},{key:"getTop",value:function(){return this._y1}},{key:"getBottom",value:function(){return this._y2}}],[{key:"createRandomAt",value:function(t,e,n,r,i){var a=i.roomWidth[0],o=i.roomWidth[1],s=O.getUniformInt(a,o);a=i.roomHeight[0],o=i.roomHeight[1];var c=O.getUniformInt(a,o);if(1==n){var u=e-Math.floor(O.getUniform()*c);return new this(t+1,u,t+s,u+c-1,t,e)}if(-1==n){var l=e-Math.floor(O.getUniform()*c);return new this(t-s,l,t-1,l+c-1,t,e)}if(1==r){var f=t-Math.floor(O.getUniform()*s);return new this(f,e+1,f+s-1,e+c,t,e)}if(-1==r){var h=t-Math.floor(O.getUniform()*s);return new this(h,e-c,h+s-1,e-1,t,e)}throw new Error("dx or dy must be 1 or -1")}},{key:"createRandomCenter",value:function(t,e,n){var r=n.roomWidth[0],i=n.roomWidth[1],a=O.getUniformInt(r,i);r=n.roomHeight[0],i=n.roomHeight[1];var o=O.getUniformInt(r,i),s=t-Math.floor(O.getUniform()*a),c=e-Math.floor(O.getUniform()*o);return new this(s,c,s+a-1,c+o-1)}},{key:"createRandom",value:function(t,e,n){var r=n.roomWidth[0],i=n.roomWidth[1],a=O.getUniformInt(r,i);r=n.roomHeight[0],i=n.roomHeight[1];var o=O.getUniformInt(r,i),s=t-a-1,c=e-o-1,u=1+Math.floor(O.getUniform()*s),l=1+Math.floor(O.getUniform()*c);return new this(u,l,u+a-1,l+o-1)}}]),n}(ut),ft=function(t){f(n,t);var e=y(n);function n(t,r,i,a){var o;return s(this,n),(o=e.call(this))._startX=t,o._startY=r,o._endX=i,o._endY=a,o._endsWithAWall=!0,o}return u(n,[{key:"debug",value:function(){console.log("corridor",this._startX,this._startY,this._endX,this._endY)}},{key:"isValid",value:function(t,e){var n=this._startX,r=this._startY,i=this._endX-n,a=this._endY-r,o=1+Math.max(Math.abs(i),Math.abs(a));i&&(i/=Math.abs(i)),a&&(a/=Math.abs(a));for(var s=a,c=-i,u=!0,l=0;l<o;l++){var f=n+l*i,h=r+l*a;if(e(f,h)||(u=!1),t(f+s,h+c)||(u=!1),t(f-s,h-c)||(u=!1),!u){o=l,this._endX=f-i,this._endY=h-a;break}}if(0==o)return!1;if(1==o&&t(this._endX+i,this._endY+a))return!1;var d=!t(this._endX+i+s,this._endY+a+c),p=!t(this._endX+i-s,this._endY+a-c);return this._endsWithAWall=t(this._endX+i,this._endY+a),!d&&!p||!this._endsWithAWall}},{key:"create",value:function(t){var e=this._startX,n=this._startY,r=this._endX-e,i=this._endY-n,a=1+Math.max(Math.abs(r),Math.abs(i));r&&(r/=Math.abs(r)),i&&(i/=Math.abs(i));for(var o=0;o<a;o++){t(e+o*r,n+o*i,0)}return!0}},{key:"createPriorityWalls",value:function(t){if(this._endsWithAWall){var e=this._startX,n=this._startY,r=this._endX-e,i=this._endY-n;r&&(r/=Math.abs(r)),i&&(i/=Math.abs(i));var a=i,o=-r;t(this._endX+r,this._endY+i),t(this._endX+a,this._endY+o),t(this._endX-a,this._endY-o)}}}],[{key:"createRandomAt",value:function(t,e,n,r,i){var a=i.corridorLength[0],o=i.corridorLength[1],s=O.getUniformInt(a,o);return new this(t,e,t+n*s,e+r*s)}}]),n}(ut),ht=function(t){f(n,t);var e=y(n);function n(t,r,i){var a;return s(this,n),(a=e.call(this,t,r))._options={roomWidth:[3,9],roomHeight:[3,5],roomDugPercentage:.1,timeLimit:1e3},Object.assign(a._options,i),a._map=[],a._dug=0,a._roomAttempts=20,a._corridorAttempts=20,a._connected=[],a._unconnected=[],a._digCallback=a._digCallback.bind(p(a)),a._canBeDugCallback=a._canBeDugCallback.bind(p(a)),a._isWallCallback=a._isWallCallback.bind(p(a)),a}return u(n,[{key:"create",value:function(t){for(var e=Date.now();;){if(Date.now()-e>this._options.timeLimit)return null;if(this._map=this._fillMap(1),this._dug=0,this._rooms=[],this._unconnected=[],this._generateRooms(),!(this._rooms.length<2)&&this._generateCorridors())break}if(t)for(var n=0;n<this._width;n++)for(var r=0;r<this._height;r++)t(n,r,this._map[n][r]);return this}},{key:"_generateRooms",value:function(){var t,e=this._width-2,n=this._height-2;do{if(t=this._generateRoom(),this._dug/(e*n)>this._options.roomDugPercentage)break}while(t)}},{key:"_generateRoom",value:function(){for(var t=0;t<this._roomAttempts;){t++;var e=lt.createRandom(this._width,this._height,this._options);if(e.isValid(this._isWallCallback,this._canBeDugCallback))return e.create(this._digCallback),this._rooms.push(e),e}return null}},{key:"_generateCorridors",value:function(){for(var t=0;t<this._corridorAttempts;){t++,this._corridors=[],this._map=this._fillMap(1);for(var e=0;e<this._rooms.length;e++){var n=this._rooms[e];n.clearDoors(),n.create(this._digCallback)}for(this._unconnected=O.shuffle(this._rooms.slice()),this._connected=[],this._unconnected.length&&this._connected.push(this._unconnected.pop());;){var r=O.getItem(this._connected);if(!r)break;var i=this._closestRoom(this._unconnected,r);if(!i)break;var a=this._closestRoom(this._connected,i);if(!a)break;if(!this._connectRooms(i,a))break;if(!this._unconnected.length)return!0}}return!1}},{key:"_closestRoom",value:function(t,e){for(var n=1/0,r=e.getCenter(),i=null,a=0;a<t.length;a++){var o=t[a],s=o.getCenter(),c=s[0]-r[0],u=s[1]-r[1],l=c*c+u*u;l<n&&(n=l,i=o)}return i}},{key:"_connectRooms",value:function(t,e){var n,r,i,a,o,s,c,u=t.getCenter(),l=e.getCenter(),f=l[0]-u[0],h=l[1]-u[1];if(Math.abs(f)<Math.abs(h)?(a=((i=h>0?2:0)+2)%4,o=e.getLeft(),s=e.getRight(),c=0):(a=((i=f>0?1:3)+2)%4,o=e.getTop(),s=e.getBottom(),c=1),!(n=this._placeInWall(t,i)))return!1;if(n[c]>=o&&n[c]<=s){r=n.slice();var d=0;switch(a){case 0:d=e.getTop()-1;break;case 1:d=e.getRight()+1;break;case 2:d=e.getBottom()+1;break;case 3:d=e.getLeft()-1}r[(c+1)%2]=d,this._digLine([n,r])}else if(n[c]<o-1||n[c]>s+1){var p=n[c]-l[c],g=0;switch(a){case 0:case 1:g=p<0?3:1;break;case 2:case 3:g=p<0?1:3}if(a=(a+g)%4,!(r=this._placeInWall(e,a)))return!1;var y=[0,0];y[c]=n[c];var v=(c+1)%2;y[v]=r[v],this._digLine([n,y,r])}else{var m=(c+1)%2;if(!(r=this._placeInWall(e,a)))return!1;var _=Math.round((r[m]+n[m])/2),b=[0,0],w=[0,0];b[c]=n[c],b[m]=_,w[c]=r[c],w[m]=_,this._digLine([n,b,w,r])}return t.addDoor(n[0],n[1]),e.addDoor(r[0],r[1]),-1!=(c=this._unconnected.indexOf(t))&&(this._unconnected.splice(c,1),this._connected.push(t)),-1!=(c=this._unconnected.indexOf(e))&&(this._unconnected.splice(c,1),this._connected.push(e)),!0}},{key:"_placeInWall",value:function(t,e){var n=[0,0],r=[0,0],i=0;switch(e){case 0:r=[1,0],n=[t.getLeft(),t.getTop()-1],i=t.getRight()-t.getLeft()+1;break;case 1:r=[0,1],n=[t.getRight()+1,t.getTop()],i=t.getBottom()-t.getTop()+1;break;case 2:r=[1,0],n=[t.getLeft(),t.getBottom()+1],i=t.getRight()-t.getLeft()+1;break;case 3:r=[0,1],n=[t.getLeft()-1,t.getTop()],i=t.getBottom()-t.getTop()+1}for(var a=[],o=-2,s=0;s<i;s++){var c=n[0]+s*r[0],u=n[1]+s*r[1];a.push(null),1==this._map[c][u]?o!=s-1&&(a[s]=[c,u]):(o=s,s&&(a[s-1]=null))}for(var l=a.length-1;l>=0;l--)a[l]||a.splice(l,1);return a.length?O.getItem(a):null}},{key:"_digLine",value:function(t){for(var e=1;e<t.length;e++){var n=t[e-1],r=t[e],i=new ft(n[0],n[1],r[0],r[1]);i.create(this._digCallback),this._corridors.push(i)}}},{key:"_digCallback",value:function(t,e,n){this._map[t][e]=n,0==n&&this._dug++}},{key:"_isWallCallback",value:function(t,e){return!(t<0||e<0||t>=this._width||e>=this._height)&&1==this._map[t][e]}},{key:"_canBeDugCallback",value:function(t,e){return!(t<1||e<1||t+1>=this._width||e+1>=this._height)&&1==this._map[t][e]}}]),n}(ct),dt=function(t){f(n,t);var e=y(n);function n(t,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s(this,n),(i=e.call(this,t,r))._options={born:[5,6,7,8],survive:[4,5,6,7,8],topology:8},i.setOptions(a),i._dirs=nt[i._options.topology],i._map=i._fillMap(0),i}return u(n,[{key:"randomize",value:function(t){for(var e=0;e<this._width;e++)for(var n=0;n<this._height;n++)this._map[e][n]=O.getUniform()<t?1:0;return this}},{key:"setOptions",value:function(t){Object.assign(this._options,t)}},{key:"set",value:function(t,e,n){this._map[t][e]=n}},{key:"create",value:function(t){for(var e=this._fillMap(0),n=this._options.born,r=this._options.survive,i=0;i<this._height;i++){var a=1,o=0;6==this._options.topology&&(a=2,o=i%2);for(var s=o;s<this._width;s+=a){var c=this._map[s][i],u=this._getNeighbors(s,i);c&&-1!=r.indexOf(u)?e[s][i]=1:c||-1==n.indexOf(u)||(e[s][i]=1)}}this._map=e,t&&this._serviceCallback(t)}},{key:"_serviceCallback",value:function(t){for(var e=0;e<this._height;e++){var n=1,r=0;6==this._options.topology&&(n=2,r=e%2);for(var i=r;i<this._width;i+=n)t(i,e,this._map[i][e])}}},{key:"_getNeighbors",value:function(t,e){for(var n=0,r=0;r<this._dirs.length;r++){var i=this._dirs[r],a=t+i[0],o=e+i[1];a<0||a>=this._width||o<0||o>=this._height||(n+=1==this._map[a][o]?1:0)}return n}},{key:"connect",value:function(t,e,n){e||(e=0);var r=[],i={},a=1,o=[0,0];6==this._options.topology&&(a=2,o=[0,1]);for(var s=0;s<this._height;s++)for(var c=o[s%2];c<this._width;c+=a)if(this._freeSpace(c,s,e)){var u=[c,s];i[this._pointKey(u)]=u,r.push([c,s])}var l=r[O.getUniformInt(0,r.length-1)],f=this._pointKey(l),h={};for(h[f]=l,delete i[f],this._findConnected(h,i,[l],!1,e);Object.keys(i).length>0;){var d=this._getFromTo(h,i),p=d[0],g=d[1],y={};y[this._pointKey(p)]=p,this._findConnected(y,i,[p],!0,e);var v=6==this._options.topology?this._tunnelToConnected6:this._tunnelToConnected;for(var m in v.call(this,g,p,h,i,e,n),y){var _=y[m];this._map[_[0]][_[1]]=e,h[m]=_,delete i[m]}}t&&this._serviceCallback(t)}},{key:"_getFromTo",value:function(t,e){for(var n=[0,0],r=[0,0],i=Object.keys(t),a=Object.keys(e),o=0;o<5;o++){if(i.length<a.length){var s=i;r=t[s[O.getUniformInt(0,s.length-1)]],n=this._getClosest(r,e)}else{var c=a;n=e[c[O.getUniformInt(0,c.length-1)]],r=this._getClosest(n,t)}if((n[0]-r[0])*(n[0]-r[0])+(n[1]-r[1])*(n[1]-r[1])<64)break}return[n,r]}},{key:"_getClosest",value:function(t,e){var n=null,r=null;for(var i in e){var a=e[i],o=(a[0]-t[0])*(a[0]-t[0])+(a[1]-t[1])*(a[1]-t[1]);(null==r||o<r)&&(r=o,n=a)}return n}},{key:"_findConnected",value:function(t,e,n,r,i){for(;n.length>0;){var a=n.splice(0,1)[0],o=void 0;o=6==this._options.topology?[[a[0]+2,a[1]],[a[0]+1,a[1]-1],[a[0]-1,a[1]-1],[a[0]-2,a[1]],[a[0]-1,a[1]+1],[a[0]+1,a[1]+1]]:[[a[0]+1,a[1]],[a[0]-1,a[1]],[a[0],a[1]+1],[a[0],a[1]-1]];for(var s=0;s<o.length;s++){var c=this._pointKey(o[s]);null==t[c]&&this._freeSpace(o[s][0],o[s][1],i)&&(t[c]=o[s],r||delete e[c],n.push(o[s]))}}}},{key:"_tunnelToConnected",value:function(t,e,n,r,i,a){var o,s;e[0]<t[0]?(o=e,s=t):(o=t,s=e);for(var c=o[0];c<=s[0];c++){this._map[c][o[1]]=i;var u=[c,o[1]],l=this._pointKey(u);n[l]=u,delete r[l]}a&&o[0]<s[0]&&a(o,[s[0],o[1]]);var f=s[0];e[1]<t[1]?(o=e,s=t):(o=t,s=e);for(var h=o[1];h<s[1];h++){this._map[f][h]=i;var d=[f,h],p=this._pointKey(d);n[p]=d,delete r[p]}a&&o[1]<s[1]&&a([s[0],o[1]],[s[0],s[1]])}},{key:"_tunnelToConnected6",value:function(t,e,n,r,i,a){var o,s;e[0]<t[0]?(o=e,s=t):(o=t,s=e);for(var c=o[0],u=o[1];c!=s[0]||u!=s[1];){var l=2;u<s[1]?(u++,l=1):u>s[1]&&(u--,l=1),c<s[0]?c+=l:c>s[0]||s[1]%2?c-=l:c+=l,this._map[c][u]=i;var f=[c,u],h=this._pointKey(f);n[h]=f,delete r[h]}a&&a(e,t)}},{key:"_freeSpace",value:function(t,e,n){return t>=0&&t<this._width&&e>=0&&e<this._height&&this._map[t][e]==n}},{key:"_pointKey",value:function(t){return t[0]+"."+t[1]}}]),n}(ot),pt={room:lt,corridor:ft},gt=function(t){f(n,t);var e=y(n);function n(t,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s(this,n),(i=e.call(this,t,r))._options=Object.assign({roomWidth:[3,9],roomHeight:[3,5],corridorLength:[3,10],dugPercentage:.2,timeLimit:1e3},a),i._features={room:4,corridor:4},i._map=[],i._featureAttempts=20,i._walls={},i._dug=0,i._digCallback=i._digCallback.bind(p(i)),i._canBeDugCallback=i._canBeDugCallback.bind(p(i)),i._isWallCallback=i._isWallCallback.bind(p(i)),i._priorityWallCallback=i._priorityWallCallback.bind(p(i)),i}return u(n,[{key:"create",value:function(t){this._rooms=[],this._corridors=[],this._map=this._fillMap(1),this._walls={},this._dug=0;var e=(this._width-2)*(this._height-2);this._firstRoom();var n,r=Date.now();do{if(n=0,Date.now()-r>this._options.timeLimit)break;var i=this._findWall();if(!i)break;var a=i.split(","),o=parseInt(a[0]),s=parseInt(a[1]),c=this._getDiggingDirection(o,s);if(c){var u=0;do{if(u++,this._tryFeature(o,s,c[0],c[1])){this._removeSurroundingWalls(o,s),this._removeSurroundingWalls(o-c[0],s-c[1]);break}}while(u<this._featureAttempts);for(var l in this._walls)this._walls[l]>1&&n++}}while(this._dug/e<this._options.dugPercentage||n);if(this._addDoors(),t)for(var f=0;f<this._width;f++)for(var h=0;h<this._height;h++)t(f,h,this._map[f][h]);return this._walls={},this._map=[],this}},{key:"_digCallback",value:function(t,e,n){0==n||2==n?(this._map[t][e]=0,this._dug++):this._walls[t+","+e]=1}},{key:"_isWallCallback",value:function(t,e){return!(t<0||e<0||t>=this._width||e>=this._height)&&1==this._map[t][e]}},{key:"_canBeDugCallback",value:function(t,e){return!(t<1||e<1||t+1>=this._width||e+1>=this._height)&&1==this._map[t][e]}},{key:"_priorityWallCallback",value:function(t,e){this._walls[t+","+e]=2}},{key:"_firstRoom",value:function(){var t=Math.floor(this._width/2),e=Math.floor(this._height/2),n=lt.createRandomCenter(t,e,this._options);this._rooms.push(n),n.create(this._digCallback)}},{key:"_findWall",value:function(){var t=[],e=[];for(var n in this._walls){2==this._walls[n]?e.push(n):t.push(n)}var r=e.length?e:t;if(!r.length)return null;var i=O.getItem(r.sort());return delete this._walls[i],i}},{key:"_tryFeature",value:function(t,e,n,r){var i=O.getWeightedValue(this._features),a=pt[i].createRandomAt(t,e,n,r,this._options);return!!a.isValid(this._isWallCallback,this._canBeDugCallback)&&(a.create(this._digCallback),a instanceof lt&&this._rooms.push(a),a instanceof ft&&(a.createPriorityWalls(this._priorityWallCallback),this._corridors.push(a)),!0)}},{key:"_removeSurroundingWalls",value:function(t,e){for(var n=nt[4],r=0;r<n.length;r++){var i=n[r],a=t+i[0],o=e+i[1];delete this._walls[a+","+o],a=t+2*i[0],o=e+2*i[1],delete this._walls[a+","+o]}}},{key:"_getDiggingDirection",value:function(t,e){if(t<=0||e<=0||t>=this._width-1||e>=this._height-1)return null;for(var n=null,r=nt[4],i=0;i<r.length;i++){var a=r[i],o=t+a[0],s=e+a[1];if(!this._map[o][s]){if(n)return null;n=a}}return n?[-n[0],-n[1]]:null}},{key:"_addDoors",value:function(){var t=this._map;function e(e,n){return 1==t[e][n]}for(var n=0;n<this._rooms.length;n++){var r=this._rooms[n];r.clearDoors(),r.addDoors(e)}}}]),n}(ct);function yt(t,e,n){n[e[t+1]]=n[t],e[n[t]]=e[t+1],n[t]=t+1,e[t+1]=t}function vt(t,e,n){n[e[t]]=n[t],e[n[t]]=e[t],n[t]=t,e[t]=t}var mt=function(t){f(n,t);var e=y(n);function n(){return s(this,n),e.apply(this,arguments)}return u(n,[{key:"create",value:function(t){for(var e,n=this._fillMap(1),r=Math.ceil((this._width-2)/2),i=9/24,a=[],o=[],s=0;s<r;s++)a.push(s),o.push(s);for(a.push(r-1),e=1;e+3<this._height;e+=2)for(var c=0;c<r;c++){var u=2*c+1,l=e;n[u][l]=0,c!=a[c+1]&&O.getUniform()>i&&(yt(c,a,o),n[u+1][l]=0),c!=a[c]&&O.getUniform()>i?vt(c,a,o):n[u][l+1]=0}for(var f=0;f<r;f++){var h=2*f+1,d=e;n[h][d]=0,f!=a[f+1]&&(f==a[f]||O.getUniform()>i)&&(yt(f,a,o),n[h+1][d]=0),vt(f,a,o)}for(var p=0;p<this._width;p++)for(var g=0;g<this._height;g++)t(p,g,n[p][g]);return this}}]),n}(ot),_t=function(t){f(n,t);var e=y(n);function n(){var t;return s(this,n),(t=e.apply(this,arguments))._stack=[],t._map=[],t}return u(n,[{key:"create",value:function(t){var e=this._width,n=this._height;this._map=[];for(var r=0;r<e;r++){this._map.push([]);for(var i=0;i<n;i++){var a=0==r||0==i||r+1==e||i+1==n;this._map[r].push(a?1:0)}}this._stack=[[1,1,e-2,n-2]],this._process();for(var o=0;o<e;o++)for(var s=0;s<n;s++)t(o,s,this._map[o][s]);return this._map=[],this}},{key:"_process",value:function(){for(;this._stack.length;){var t=this._stack.shift();this._partitionRoom(t)}}},{key:"_partitionRoom",value:function(t){for(var e=[],n=[],r=t[0]+1;r<t[2];r++){var i=this._map[r][t[1]-1],a=this._map[r][t[3]+1];!i||!a||r%2||e.push(r)}for(var o=t[1]+1;o<t[3];o++){var s=this._map[t[0]-1][o],c=this._map[t[2]+1][o];!s||!c||o%2||n.push(o)}if(e.length&&n.length){var u=O.getItem(e),l=O.getItem(n);this._map[u][l]=1;var f=[],h=[];f.push(h);for(var d=t[0];d<u;d++)this._map[d][l]=1,h.push([d,l]);h=[],f.push(h);for(var p=u+1;p<=t[2];p++)this._map[p][l]=1,h.push([p,l]);h=[],f.push(h);for(var g=t[1];g<l;g++)this._map[u][g]=1,h.push([u,g]);h=[],f.push(h);for(var y=l+1;y<=t[3];y++)this._map[u][y]=1,h.push([u,y]);for(var v=O.getItem(f),m=0;m<f.length;m++){var _=f[m];if(_!=v){var b=O.getItem(_);this._map[b[0]][b[1]]=0}}this._stack.push([t[0],t[1],u-1,l-1]),this._stack.push([u+1,t[1],t[2],l-1]),this._stack.push([t[0],l+1,u-1,t[3]]),this._stack.push([u+1,l+1,t[2],t[3]])}}}]),n}(ot),bt=function(t){f(n,t);var e=y(n);function n(t,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return s(this,n),(i=e.call(this,t,r))._regularity=a,i._map=[],i}return u(n,[{key:"create",value:function(t){var e=this._width,n=this._height,r=this._fillMap(1);e-=e%2?1:2,n-=n%2?1:2;var i=0,a=0,o=0,s=0,c=0,u=!1,l=[[0,0],[0,0],[0,0],[0,0]];do{if(i=1+2*Math.floor(O.getUniform()*(e-1)/2),a=1+2*Math.floor(O.getUniform()*(n-1)/2),c||(r[i][a]=0),!r[i][a]){this._randomize(l);do{0==Math.floor(O.getUniform()*(this._regularity+1))&&this._randomize(l),u=!0;for(var f=0;f<4;f++)if(o=i+2*l[f][0],s=a+2*l[f][1],this._isFree(r,o,s,e,n)){r[o][s]=0,r[i+l[f][0]][a+l[f][1]]=0,i=o,a=s,u=!1,c++;break}}while(!u)}}while(c+1<e*n/4);for(var h=0;h<this._width;h++)for(var d=0;d<this._height;d++)t(h,d,r[h][d]);return this._map=[],this}},{key:"_randomize",value:function(t){for(var e=0;e<4;e++)t[e][0]=0,t[e][1]=0;switch(Math.floor(4*O.getUniform())){case 0:t[0][0]=-1,t[1][0]=1,t[2][1]=-1,t[3][1]=1;break;case 1:t[3][0]=-1,t[2][0]=1,t[1][1]=-1,t[0][1]=1;break;case 2:t[2][0]=-1,t[3][0]=1,t[0][1]=-1,t[1][1]=1;break;case 3:t[1][0]=-1,t[0][0]=1,t[3][1]=-1,t[2][1]=1}}},{key:"_isFree",value:function(t,e,n,r,i){return!(e<1||n<1||e>=r||n>=i)&&t[e][n]}}]),n}(ot),wt=function(t){f(n,t);var e=y(n);function n(t,r,i){var a;return s(this,n),(a=e.call(this,t,r)).map=[],a.rooms=[],a.connectedCells=[],(i=Object.assign({cellWidth:3,cellHeight:3},i)).hasOwnProperty("roomWidth")||(i.roomWidth=a._calculateRoomSize(a._width,i.cellWidth)),i.hasOwnProperty("roomHeight")||(i.roomHeight=a._calculateRoomSize(a._height,i.cellHeight)),a._options=i,a}return u(n,[{key:"create",value:function(t){if(this.map=this._fillMap(1),this.rooms=[],this.connectedCells=[],this._initRooms(),this._connectRooms(),this._connectUnconnectedRooms(),this._createRandomRoomConnections(),this._createRooms(),this._createCorridors(),t)for(var e=0;e<this._width;e++)for(var n=0;n<this._height;n++)t(e,n,this.map[e][n]);return this}},{key:"_calculateRoomSize",value:function(t,e){var n=Math.floor(t/e*.8),r=Math.floor(t/e*.25);return r<2&&(r=2),n<2&&(n=2),[r,n]}},{key:"_initRooms",value:function(){for(var t=0;t<this._options.cellWidth;t++){this.rooms.push([]);for(var e=0;e<this._options.cellHeight;e++)this.rooms[t].push({x:0,y:0,width:0,height:0,connections:[],cellx:t,celly:e})}}},{key:"_connectRooms",value:function(){var t,e,n,r,i,a,o=O.getUniformInt(0,this._options.cellWidth-1),s=O.getUniformInt(0,this._options.cellHeight-1),c=!1;do{a=[0,2,4,6],a=O.shuffle(a);do{if(c=!1,t=a.pop(),e=o+nt[8][t][0],n=s+nt[8][t][1],!(e<0||e>=this._options.cellWidth)&&!(n<0||n>=this._options.cellHeight)){if((r=this.rooms[o][s]).connections.length>0&&r.connections[0][0]==e&&r.connections[0][1]==n)break;0==(i=this.rooms[e][n]).connections.length&&(i.connections.push([o,s]),this.connectedCells.push([e,n]),o=e,s=n,c=!0)}}while(a.length>0&&0==c)}while(a.length>0)}},{key:"_connectUnconnectedRooms",value:function(){var t,e,n,r=this._options.cellWidth,i=this._options.cellHeight;this.connectedCells=O.shuffle(this.connectedCells);for(var a=0;a<this._options.cellWidth;a++)for(var o=0;o<this._options.cellHeight;o++)if(0==(t=this.rooms[a][o]).connections.length){var s=[0,2,4,6];s=O.shuffle(s),n=!1;do{var c=s.pop(),u=a+nt[8][c][0],l=o+nt[8][c][1];if(!(u<0||u>=r||l<0||l>=i)){if(n=!0,0==(e=this.rooms[u][l]).connections.length)break;for(var f=0;f<e.connections.length;f++)if(e.connections[f][0]==a&&e.connections[f][1]==o){n=!1;break}if(n)break}}while(s.length);n?t.connections.push([e.cellx,e.celly]):console.log("-- Unable to connect room.")}}},{key:"_createRandomRoomConnections",value:function(){}},{key:"_createRooms",value:function(){for(var t,e,n,r,i,a=this._width,o=this._height,s=this._options.cellWidth,c=this._options.cellHeight,u=Math.floor(this._width/s),l=Math.floor(this._height/c),f=this._options.roomWidth,h=this._options.roomHeight,d=0;d<s;d++)for(var p=0;p<c;p++){if(0==(n=u*d)&&(n=1),0==(r=l*p)&&(r=1),t=O.getUniformInt(f[0],f[1]),e=O.getUniformInt(h[0],h[1]),p>0)for(i=this.rooms[d][p-1];r-(i.y+i.height)<3;)r++;if(d>0)for(i=this.rooms[d-1][p];n-(i.x+i.width)<3;)n++;for(var g=Math.round(O.getUniformInt(0,u-t)/2),y=Math.round(O.getUniformInt(0,l-e)/2);n+g+t>=a;)g?g--:t--;for(;r+y+e>=o;)y?y--:e--;n+=g,r+=y,this.rooms[d][p].x=n,this.rooms[d][p].y=r,this.rooms[d][p].width=t,this.rooms[d][p].height=e;for(var v=n;v<n+t;v++)for(var m=r;m<r+e;m++)this.map[v][m]=0}}},{key:"_getWallPosition",value:function(t,e){var n,r,i;return 1==e||3==e?(n=O.getUniformInt(t.x+1,t.x+t.width-2),i=1==e?(r=t.y-2)+1:(r=t.y+t.height+1)-1,this.map[n][i]=0):(r=O.getUniformInt(t.y+1,t.y+t.height-2),i=2==e?(n=t.x+t.width+1)-1:(n=t.x-2)+1,this.map[i][r]=0),[n,r]}},{key:"_drawCorridor",value:function(t,e){var n,r,i,a,o=e[0]-t[0],s=e[1]-t[1],c=t[0],u=t[1],l=[],f=Math.abs(o),h=Math.abs(s),d=O.getUniform(),p=d,g=1-d;for(r=o>0?2:6,i=s>0?4:0,f<h?(n=Math.ceil(h*p),l.push([i,n]),l.push([r,f]),n=Math.floor(h*g),l.push([i,n])):(n=Math.ceil(f*p),l.push([r,n]),l.push([i,h]),n=Math.floor(f*g),l.push([r,n])),this.map[c][u]=0;l.length>0;)for(a=l.pop();a[1]>0;)c+=nt[8][a[0]][0],u+=nt[8][a[0]][1],this.map[c][u]=0,a[1]=a[1]-1}},{key:"_createCorridors",value:function(){for(var t,e,n,r,i,a=this._options.cellWidth,o=this._options.cellHeight,s=0;s<a;s++)for(var c=0;c<o;c++){t=this.rooms[s][c];for(var u=0;u<t.connections.length;u++)e=t.connections[u],(n=this.rooms[e[0]][e[1]]).cellx>t.cellx?(r=2,i=4):n.cellx<t.cellx?(r=4,i=2):n.celly>t.celly?(r=3,i=1):(r=1,i=3),this._drawCorridor(this._getWallPosition(t,r),this._getWallPosition(n,i))}}}]),n}(ot),xt={Arena:st,Uniform:ht,Cellular:dt,Digger:gt,EllerMaze:mt,DividedMaze:_t,IceyMaze:bt,Rogue:wt},kt=(Math.sqrt(3),Math.sqrt(3),function(){function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};s(this,t),this._toX=e,this._toY=n,this._passableCallback=r,this._options=Object.assign({topology:8},i),this._dirs=nt[this._options.topology],8==this._options.topology&&(this._dirs=[this._dirs[0],this._dirs[2],this._dirs[4],this._dirs[6],this._dirs[1],this._dirs[3],this._dirs[5],this._dirs[7]])}return u(t,[{key:"_getNeighbors",value:function(t,e){for(var n=[],r=0;r<this._dirs.length;r++){var i=this._dirs[r],a=t+i[0],o=e+i[1];this._passableCallback(a,o)&&n.push([a,o])}return n}}]),t}()),Ct=function(t){f(n,t);var e=y(n);function n(t,r,i,a){var o;return s(this,n),(o=e.call(this,t,r,i,a))._computed={},o._todo=[],o._add(t,r,null),o}return u(n,[{key:"compute",value:function(t,e,n){var r=t+","+e;if(r in this._computed||this._compute(t,e),r in this._computed)for(var i=this._computed[r];i;)n(i.x,i.y),i=i.prev}},{key:"_compute",value:function(t,e){for(;this._todo.length;){var n=this._todo.shift();if(n.x==t&&n.y==e)return;for(var r=this._getNeighbors(n.x,n.y),i=0;i<r.length;i++){var a=r[i],o=a[0],s=a[1];o+","+s in this._computed||this._add(o,s,n)}}}},{key:"_add",value:function(t,e,n){var r={x:t,y:e,prev:n};this._computed[t+","+e]=r,this._todo.push(r)}}]),n}(kt),Et=function(t){f(n,t);var e=y(n);function n(t,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return s(this,n),(a=e.call(this,t,r,i,o))._todo=[],a._done={},a}return u(n,[{key:"compute",value:function(t,e,n){for(this._todo=[],this._done={},this._fromX=t,this._fromY=e,this._add(this._toX,this._toY,null);this._todo.length;){var r=this._todo.shift(),i=r.x+","+r.y;if(!(i in this._done)){if(this._done[i]=r,r.x==t&&r.y==e)break;for(var a=this._getNeighbors(r.x,r.y),o=0;o<a.length;o++){var s=a[o],c=s[0],u=s[1];c+","+u in this._done||this._add(c,u,r)}}}var l=this._done[t+","+e];if(l)for(;l;)n(l.x,l.y),l=l.prev}},{key:"_add",value:function(t,e,n){for(var r=this._distance(t,e),i={x:t,y:e,prev:n,g:n?n.g+1:0,h:r},a=i.g+i.h,o=0;o<this._todo.length;o++){var s=this._todo[o],c=s.g+s.h;if(a<c||a==c&&r<s.h)return void this._todo.splice(o,0,i)}this._todo.push(i)}},{key:"_distance",value:function(t,e){switch(this._options.topology){case 4:return Math.abs(t-this._fromX)+Math.abs(e-this._fromY);case 6:var n=Math.abs(t-this._fromX),r=Math.abs(e-this._fromY);return r+Math.max(0,(n-r)/2);case 8:return Math.max(Math.abs(t-this._fromX),Math.abs(e-this._fromY))}}}]),n}(kt),At={Dijkstra:Ct,AStar:Et},St=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;if(!(t<=0))return new Promise((function(e){return setTimeout(e,t)}))},Tt=function(t,e,n){return Math.min(Math.max(t,e),n)},Pt=function(t){return t[Math.floor(Math.random()*t.length)]},Ot=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t},Rt=function(t,e){return t.x===e.x&&t.y===e.y},Lt=function(t){return t&&"".concat(t.x,",").concat(t.y)},Mt=function(t){return function(e,n){var r=t.map[e+","+n];return!!r&&t.tileKey[r.type].passable}},It=function(t,e){return t.map[Lt(e)]},Dt=function(t,e){return function(n,r){var i=t.map[n+","+r];if(i){var a=t.tileKey[i.type].passable;if(i.entities.length&&!Rt(e,{x:n,y:r})){var o=i.entities.every((function(t){return t.passable}));return a&&o}return a}return!1}},Nt=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Mt,a=(t.map,i(t)),o=new At.AStar(e.x,e.y,a,{topology:r}),s=[];return o.compute(n.x,n.y,(function(t,e){s.push({x:t,y:e})})),s.slice(1)},Ft=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;return Nt(t,e,n,r,(function(t){return Dt(t,n)}))},jt=function(t,e){for(var n=[],r=Wt(t,e),i=0;i<r;i++){var a=0===r?0:i/r;n.push(Gt(zt(t,e,a)))}return n},Wt=function(t,e){var n=e.x-t.x,r=e.y-t.y;return Math.max(Math.abs(n),Math.abs(r))},Gt=function(t){return{x:Math.round(t.x),y:Math.round(t.y)}},zt=function(t,e,n){return{x:Ut(t.x,e.x,n),y:Ut(t.y,e.y,n)}},Ut=function(t,e,n){return t+n*(e-t)},Bt=function(t,e){return{x:t.x+e[0],y:t.y+e[1]}},Ht=function(t,e,n,r,i){return Nt(t,e,n,r).slice(0,i+1)},Vt=function(t){var e=Object.keys(t),n=Pt(e).split(",");return{coordinates:{x:parseInt(n[0]),y:parseInt(n[1])},text:n}},qt=function(t){return t.filter((function(t){return t.hasOwnProperty("durability")}))},Kt=function(t,e){return t.filter((function(t){return t.entityTypes.includes(e)}))},Xt=function(t){var e=t.game,n=t.position,r=t.entityType,i=function(t){var e=t.game,n=t.position;return It(e,n).entities}({game:e,position:n});return Kt(i,r)},Yt=function(t){return 2/3*(Math.pow(t,3)-9*Math.pow(t,2)+32*t-18)},$t=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=Yt(n),i=[],a=0;a<r;a++){var o=Math.round(t+Math.cos(2*Math.PI/r*a)*n),s=Math.round(e+Math.sin(2*Math.PI/r*a)*n);i.push({x:o,y:s})}return i},Qt=function(t,e){for(var n=[],r=t.x-e;r<t.x+e;r++)for(var i=Math.floor(e*Math.sin(Math.acos((t.x-r)/e))),a=t.y-i+1;a<t.y+i;a++)n.push({x:r,y:a});return n},Zt=function(t,e){return t.positions.map((function(n){return{x:e.x+n.x+t.x_offset,y:e.y+n.y+t.y_offset}}))},Jt=n(146),te=n.n(Jt),ee=n(7669),ne=n.n(ee),re=n(763),ie=100,ae="#424242",oe="#606b79",se="#B7C3CD",ce="#CED5DD",ue="#E16264",le={base03:"#002b36",base02:"#073642",base01:"#586e75",base00:"#657b83",base0:"#839496",base1:"#93a1a1",base2:"#eee8d5",base3:"#fdf6e3",yellow:"#b58900",orange:"#cb4b16",red:"#dc322f",magenta:"#d33682",violet:"#6c71c4",blue:"#268bd2",cyan:"#2aa198",green:"#859900"},fe={base1:"#0B0B0Bff",base2:"#5A7178ff",base3:"#B6ACA3ff",base4:"#EDF6F1ff",cog1:"#2d5fc9",cog2:"#18c0f8",cog3:"#86C8E4ff",locust1:"#96641Dff",locust2:"#F89339ff",locust3:"#E7C898ff",flesh1:"#833139ff",flesh2:"#CC7468ff",flesh3:"#DDA78Fff",gray:"#6D7886ff",red:"#C7141Cff",yellow:"#b58900",green:"#859900"},he={GROUND:{background:le.base03,foreground:le.base01,character:".",sprite:"\ue8a2",passable:!0},FLOOR:{background:le.base02,foreground:le.base0,character:"",passable:!0},SAFE_FLOOR:{background:le.base02,foreground:le.base0,character:"",passable:!0},BURNT:{background:le.base03,foreground:le.red,character:"X",sprite:"\ue8bb",passable:!0,animation:[{background:le.base03,foreground:le.red,character:"X",sprite:"\ue8bb",passable:!0},{background:le.base03,foreground:le.red,character:"x",sprite:"\ue8bb",passable:!0},{background:le.base03,foreground:le.red,character:"X",sprite:"\ue8bb",passable:!0},{background:le.base03,foreground:le.orange,character:"x",sprite:"\ue8bb",passable:!0},{background:le.base03,foreground:le.orange,character:"X",sprite:"\ue8bb",passable:!0},{background:le.base03,foreground:le.yellow,character:"x",sprite:"\ue8bb",passable:!0},{background:le.base03,foreground:le.red,character:"X",sprite:"\ue8bb",passable:!0}]},WET:{background:le.base03,foreground:le.blue,character:"=",sprite:"\ue8ca",passable:!0,animation:[{background:le.base03,foreground:le.blue,character:"=",sprite:"\ue8ca",passable:!0},{background:le.base03,foreground:le.blue,character:"~",sprite:"\ue8ca",passable:!0},{background:le.base03,foreground:le.blue,character:"=",sprite:"\ue8ca",passable:!0},{background:le.base03,foreground:le.base0,character:"~",sprite:"\ue8ca",passable:!0},{background:le.base03,foreground:le.base1,character:"=",sprite:"\ue8ca",passable:!0},{background:le.base03,foreground:le.base1,character:"~",sprite:"\ue8ca",passable:!0},{background:le.base03,foreground:le.blue,character:"=",sprite:"\ue8ca",passable:!0}]},WALL:{background:le.base02,foreground:le.base2,character:"#",sprite:"\ue802",passable:!1},DOOR:{background:le.base02,foreground:le.base0,character:"+",sprite:"\ue86d",passable:!0},SAFE:{background:le.base02,foreground:le.green,character:"+",sprite:"\ue8b2",passable:!0},WATER:{animation:[{background:"#424242",foreground:"#9dc3d3",character:"\u2591",passable:!1},{background:"#424242",foreground:"#9dc3d3",character:"\u2591",passable:!1},{background:"#424242",foreground:"#9dc3d3",character:"\u2591",passable:!1},{background:"#424242",foreground:"#9dc3d3",character:"\u2591",passable:!1},{background:"#424242",foreground:"#9dc3d3",character:"\u2591",passable:!1},{background:"#424242",foreground:"#9dc3d3",character:"\u2591",passable:!1},{background:"#424242",foreground:"#9dc3d3",character:"\u2591",passable:!1},{background:"#424242",foreground:"#9dc3d3",character:"\u2591",passable:!1},{background:"#424242",foreground:"#9dc3d3",character:"\u2591",passable:!1},{background:"#424242",foreground:"#9dc3d3",character:"\u2591",passable:!1},{background:"#424242",foreground:"#9dc3d3",character:"\u2591",passable:!1},{background:"#424242",foreground:"#8aa",character:"\u2592",passable:!1},{background:"#424242",foreground:"#8aa",character:"\u2593",passable:!1}],background:"#9dc3d3",character:"\u2591",passable:!1}},de={N:[0,-1],NE:[1,-1],W:[-1,0],NW:[-1,-1],SW:[-1,1],S:[0,1],SE:[1,1],E:[1,0],NONE:[0,0]},pe="HEAD",ge="TORSO",ye="BACK",ve="HAND",me="FEET",_e=function(){return[{type:pe,name:"head",item:null},{type:ge,name:"torso",item:null},{type:ye,name:"back",item:null},{type:ve,name:"left_hand",item:null},{type:ve,name:"right_hand",item:null},{type:me,name:"feet",item:null}]},be=function(){return[{type:ve,name:"weapon",item:null}]},we={point:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1}]},triple_point:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:0,y:0,taken:!1},{x:0,y:0,taken:!1}]},spread:{x_offset:1,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:0,y:1,taken:!1},{x:0,y:-1,taken:!1},{x:1,y:0,taken:!1},{x:1,y:2,taken:!1},{x:1,y:-2,taken:!1}]},verticalLine:{x_offset:1,y_offset:1,positions:[{x:0,y:0,taken:!1},{x:0,y:1,taken:!1},{x:0,y:-1,taken:!1}]},smallSquare:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:0,y:1,taken:!1},{x:1,y:1,taken:!1},{x:1,y:0,taken:!1}]},square:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:0,y:1,taken:!1},{x:1,y:1,taken:!1},{x:1,y:0,taken:!1},{x:1,y:-1,taken:!1},{x:0,y:-1,taken:!1},{x:-1,y:-1,taken:!1},{x:-1,y:0,taken:!1},{x:-1,y:1,taken:!1}]},clover:{x_offset:0,y_offset:0,positions:[{x:0,y:1,taken:!1},{x:1,y:0,taken:!1},{x:0,y:-1,taken:!1},{x:-1,y:0,taken:!1}]},filledClover:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:0,y:1,taken:!1},{x:1,y:0,taken:!1},{x:0,y:-1,taken:!1},{x:-1,y:0,taken:!1}]},bigSquare:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:0,y:1,taken:!1},{x:1,y:1,taken:!1},{x:1,y:0,taken:!1},{x:1,y:-1,taken:!1},{x:0,y:-1,taken:!1},{x:-1,y:-1,taken:!1},{x:-1,y:0,taken:!1},{x:-1,y:1,taken:!1},{x:0,y:2,taken:!1},{x:2,y:2,taken:!1},{x:2,y:0,taken:!1},{x:2,y:-2,taken:!1},{x:0,y:-2,taken:!1},{x:-2,y:-2,taken:!1},{x:-2,y:0,taken:!1},{x:-2,y:2,taken:!1}]},donut:{x_offset:0,y_offset:0,positions:[].concat(U($t(0,0,2)),U($t(0,0,3)))},big_circle:{x_offset:0,y_offset:0,positions:[{x:0,y:1,taken:!1},{x:1,y:1,taken:!1},{x:1,y:0,taken:!1},{x:1,y:-1,taken:!1},{x:0,y:-1,taken:!1},{x:-1,y:-1,taken:!1},{x:-1,y:0,taken:!1},{x:-1,y:1,taken:!1}].concat(U($t(0,0,2)),U($t(0,0,3)),U($t(0,0,4)))}},xe={default:{renderer:{character:"*",color:"black",background:"white"}},fail:{renderer:{character:"x",color:"black",background:"red"}},succede:{renderer:{character:"x",color:le.base3,background:le.green}},damage:{renderer:{character:"*",color:"darkred",background:"red"}},leaf:{renderer:{character:"\u2724",color:"#36635b",background:"#F0D8C0"}},water:{renderer:{character:"~",color:le.base3,background:le.blue}}},ke=0,Ce=1,Ee={INFORMATION:{color:se,backgroundColor:ae},ACTION:{color:oe,backgroundColor:ce},DANGER:{color:ue,backgroundColor:ae},STATUS_EFFECT:{color:le.base3,backgroundColor:le.violet},ERROR:{color:le.base3,backgroundColor:le.yellow}},Ae=u((function t(e){var n=e.text,r=void 0===n?"":n,i=e.type,a=void 0===i?Ee.INFORMATION:i;s(this,t);var o=ne()();this.id=o,this.text=r,this.type=a}));function Se(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Te=n(118),Pe=n.n(Te),Oe=u((function t(e){var n=this,r=e.name,i=void 0===r?"Resource":r,a=e.getResourceCost,o=void 0===a?function(){return null}:a,c=e.resourceIncrement,u=void 0===c?1:c,l=e.actorResourcePath,f=void 0===l?null:l,h=e.actorResourceGetter,d=void 0===h?null:h,p=e.actorResourceSetter,g=void 0===p?null:p,y=e.renderer,v=void 0===y?{background:"transparent",color:"black",character:"*"}:y;s(this,t),this.name=i,this.getResourceCost=o,this.resourceIncrement=u,this.actorResourcePath=f,this.actorResourceGetter=d,this.actorResourceSetter=g,this.renderer=v,this.getResourceCostDisplay=function(){return n.getResourceCost()/n.resourceIncrement}})),Re=function(t){f(n,t);var e=y(n);function n(t){var r,i=Object.assign({},t);return s(this,n),(r=e.call(this,o({},i))).name="Energy",r.actorResourcePath="energy",r.renderer={color:"black",background:"#ff9926",character:"8",sprite:"\ue8c5"},r.resourceIncrement=100,r}return u(n)}(Oe),Le=function(){function t(e){var n=this,r=e.game,i=e.actor,a=e.label,o=void 0===a?"action label":a,c=e.hidden,u=void 0!==c&&c,l=e.energyCost,f=void 0===l?ie:l,h=e.processDelay,d=void 0===h?50:h,p=e.particles,g=void 0===p?[]:p,y=e.renderer,v=void 0===y?null:y,m=e.particleTemplate,_=void 0===m?xe.default:m,b=e.onBefore,w=void 0===b?function(){return null}:b,x=e.onAfter,k=void 0===x?function(){return null}:x,C=e.onSuccess,E=void 0===C?function(){return null}:C,A=e.onFailure,S=void 0===A?function(){return null}:A,T=e.interrupt,P=void 0!==T&&T,O=e.requiredResources,R=void 0===O?[]:O;s(this,t),this.actor=i,this.game=r,this.label=o,this.hidden=u,this.energyCost=f,this.processDelay=d,this.particles=g,this.renderer=v,this.particleTemplate=_,this.onBefore=w,this.onAfter=k,this.onSuccess=E,this.onFailure=S,this.interrupt=P,this.requiredResources=[new Re({getResourceCost:function(){return n.energyCost}})].concat(U(R))}return u(t,[{key:"addParticle",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o({},this.particleTemplate.renderer),i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ke,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=new Na({game:this.game,name:"particle",passable:!0,life:t,pos:e,direction:n,energy:100,renderer:r,type:i,path:a});this.particles.push(s)}},{key:"removeDeadParticles",value:function(){this.particles=this.particles.filter((function(t){return t.life>0}))}},{key:"setAsNextAction",value:function(){this.actor.setNextAction(this)}},{key:"immediatelyExecuteAction",value:function(){this.actor.setNextAction(this),this.game.engine.start()}},{key:"getEnergyCost",value:function(){return re.find(this.requiredResources,{name:"Energy"}).getResourceCost()}},{key:"getRequiredResourceName",value:function(){return re.map(this.requiredResources,"name")}},{key:"listPayableResources",value:function(){var t=this;return re.map(this.requiredResources,(function(e){var n=e.getResourceCost,r=e.actorResourcePath,i=e.actorResourceGetter,a=re.get(t.actor,r,null),s=!1;return null!==re.get(t.actor,i,null)?s=t.actor[i]()>=n():null!==a&&(s=a>=n()),o({canPay:s},e)}))}},{key:"canPayRequiredResources",value:function(){return!re.find(this.listPayableResources(),{canPay:!1})}},{key:"payRequiredResources",value:function(){var t=this;re.each(this.requiredResources,(function(e){var n=e.getResourceCost,r=e.actorResourcePath,i=e.actorResourceSetter,a=re.get(t.actor,r,null),o=n();return re.get(t.actor,i,null)?(t.actor[i](a-o),!0):!!a&&(t.actor[r]-=o,!0)}))}},{key:"perform",value:function(){return{success:!0,alternative:null}}}]),t}(),Me=["targetPos","processDelay"],Ie=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.targetPos,a=t.processDelay,c=void 0===a?25:a,u=Se(t,Me);return s(this,n),(r=e.call(this,o({},u))).targetPos=i,r.processDelay=c,r}return u(n,[{key:"perform",value:function(){return{success:this.actor.move(this.targetPos),alternative:null}}}]),n}(Le),De=["direction","range","targetPos","availablePositions"],Ne=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.direction,a=t.range,c=t.targetPos,u=void 0===c?null:c,l=t.availablePositions,f=void 0===l?[]:l,h=Se(t,De);return s(this,n),(r=e.call(this,o({},h))).direction=i,r.range=a,r.targetPos=u,r.availablePositions=f,r.processDelay=0,r.energyCost=0,r}return u(n,[{key:"isInRange",value:function(t){return re.find(this.availablePositions,{x:t.x,y:t.y})}},{key:"isInRangeV1",value:function(t){var e=this.actor.getPosition(),n=jt(e,t);return!this.range||n.length<=this.range}},{key:"perform",value:function(){var t=!1;if(!this.targetPos&&!this.direction)return{success:t,alternative:null};var e=this.targetPos;return this.targetPos||(e=Bt(this.actor.getCursorPositions()[0],this.direction)),this.isInRange(e)&&(this.actor.moveCursorToPosition(e),t=!0),{success:t,alternative:null}}}]),n}(Le),Fe=["x","y","text","color","textAttributes"],je=["x","y","text","color","textAttributes"],We=["x","y","lerpDirection","color","rectAttributes","isBlinking"],Ge={DEFAULT:0,BLINK_TILE:1,SOLID_TILE:2,BLINK_BOX:3,TEXT_FLOAT:4,TEXT_OVERLAY:5},ze=function(){function t(e){var n=e.display;e.game;s(this,t);var r=ne()();this.id=r,this.lifeTime=0,this.active=!0,this.node=null,this.display=n}return u(t,[{key:"getActive",value:function(){return!1}},{key:"initialize",value:function(){}},{key:"update",value:function(t){this.lifeTime+=t.timeDiff,this.active=this.getActive(),this.active||this.display.removeAnimation(this.id)}}]),t}(),Ue=function(t){f(n,t);var e=y(n);function n(t){var r=Object.assign({},t);return s(this,n),e.call(this,o({},r))}return u(n,[{key:"getActive",value:function(){return!(this.lifeTime>500)}}]),n}(ze),Be=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.x,a=t.y,c=t.text,u=t.color,l=void 0===u?"#fff":u,f=t.textAttributes,h=void 0===f?{}:f,d=Se(t,Fe);return s(this,n),(r=e.call(this,o({},d))).x=i,r.y=a,r.color=l,r.text=c,r.textAttributes=h,r}return u(n,[{key:"getActive",value:function(){return!(this.lifeTime>500)}},{key:"initialize",value:function(){this.active=!0;var t=o({name:"text",x:this.display.tileWidth*(this.x+this.display.game.getRenderOffsetX())+(this.display.tileOffset+this.display.tileGutter),y:this.display.tileHeight*(this.y+this.display.game.getRenderOffsetY())+(this.display.tileOffset+this.display.tileGutter),text:this.text,fontSize:this.display.tileWidth/2,fontFamily:"player-start-2p, Courier New",fill:this.color,transformsEnabled:"position",perfectDrawEnabled:!1,listening:!1,shadowForStrokeEnabled:!1},this.textAttributes),e=new(Pe().Text)(t);this.display.animationLayer.add(e),this.node=e,D(h(n.prototype),"initialize",this).call(this)}},{key:"update",value:function(t){var e=this.node.y();e+=-1,this.node.y(e),D(h(n.prototype),"update",this).call(this,t)}}]),n}(ze),He=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.x,a=t.y,c=t.text,u=t.color,l=void 0===u?"#fff":u,f=t.textAttributes,h=void 0===f?{}:f,d=Se(t,je);return s(this,n),(r=e.call(this,o({},d))).x=i,r.y=a,r.color=l,r.text=c,r.textAttributes=h,r}return u(n,[{key:"getActive",value:function(){return this.active}},{key:"initialize",value:function(){this.active=!0;var t=o({name:"text",text:this.text,x:this.display.tileWidth*(this.x+this.display.game.getRenderOffsetX())+(this.display.tileOffset+this.display.tileGutter),y:this.display.tileHeight*(this.y+this.display.game.getRenderOffsetY())+(this.display.tileOffset+this.display.tileGutter),width:this.display.tileWidth,height:this.display.tileHeight,fontSize:this.display.tileWidth/4,fontFamily:"player-start-2p, Courier New",verticalAlign:"middle",align:"center",fill:this.color,transformsEnabled:"position",perfectDrawEnabled:!1,listening:!1,shadowForStrokeEnabled:!1},this.textAttributes),e=new(Pe().Text)(t);this.display.animationLayer.add(e),this.node=e,D(h(n.prototype),"initialize",this).call(this)}}]),n}(ze),Ve=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.x,a=t.y,c=t.lerpDirection,u=void 0===c?-1:c,l=t.color,f=void 0===l?"#fff":l,h=t.rectAttributes,d=void 0===h?{}:h,p=t.isBlinking,g=void 0===p||p,y=Se(t,We);return s(this,n),(r=e.call(this,o({},y))).x=i,r.y=a,r.lerpDirection=u,r.color=f,r.rectAttributes=d,r.isBlinking=g,r}return u(n,[{key:"getActive",value:function(){return this.active}},{key:"initialize",value:function(){this.active=!0;var t=o({name:"rect",x:this.display.tileWidth*(this.x+this.display.game.getRenderOffsetX())+(this.display.tileOffset+this.display.tileGutter),y:this.display.tileHeight*(this.y+this.display.game.getRenderOffsetY())+(this.display.tileOffset+this.display.tileGutter),offsetX:this.display.tileWidth/-4,offsetY:this.display.tileHeight/-4,width:this.display.tileWidth/2,height:this.display.tileHeight/2,fill:this.color,transformsEnabled:"position",perfectDrawEnabled:!1,listening:!1,shadowForStrokeEnabled:!1},this.rectAttributes),e=new(Pe().Rect)(t);this.display.animationLayer.add(e),this.node=e,D(h(n.prototype),"initialize",this).call(this)}},{key:"update",value:function(t){if(this.isBlinking){var e=this.node.opacity();e>=1&&(this.lerpDirection=-1),e<=0&&(this.lerpDirection=1),e+=.03*this.lerpDirection,this.node.opacity(Tt(e,0,1)),D(h(n.prototype),"update",this).call(this,t)}}}]),n}(ze),qe=function(t){f(n,t);var e=y(n);function n(t){var r,i=Object.assign({},t);return s(this,n),(r=e.call(this,o({},i))).rectAttributes={fill:"transparent",stroke:i.color,strokeWidth:i.strokeWidth||5,offsetX:0,offsetY:0,width:r.display.tileWidth,height:r.display.tileHeight},r}return u(n)}(Ve),Ke=function(){function t(e){var n=e.containerId,r=void 0===n?null:n,i=e.width,a=void 0===i?100:i,o=e.height,c=void 0===o?100:o,u=e.tileWidth,l=void 0===u?10:u,f=e.tileHeight,h=void 0===f?10:f,d=e.tileGutter,p=void 0===d?0:d,g=e.tileOffset,y=void 0===g?10:g,v=e.game,m=void 0===v?null:v,_=e.mouseEnabled,b=void 0!==_&&_;s(this,t),this.containerId=r,this.width=a,this.height=c,this.tileWidth=l,this.tileHeight=h,this.tileGutter=p,this.tileOffset=y,this.stage=null,this.layer=null,this.animationLayer=null,this.animations=[],this.animationLoop=null,this.game=m,this.animationTypes=Ge,this.mouseEnabled=b}return u(t,[{key:"initialize",value:function(t){var e=this,n=t.getElementById(this.containerId),r=t.createElement("div");n.appendChild(r),this.adjustContentToScreen(n),this.stage=new(Pe().Stage)({container:"display",width:this.width,height:this.height}),this.layer=new(Pe().Layer)({hitGraphEnabled:this.mouseEnabled}),this.stage.add(this.layer),this.animationLayer=new(Pe().Layer)({}),this.stage.add(this.animationLayer);var i=new(Pe().Animation)((function(t){e.animations.forEach((function(e){return e.update(t)})),e.animations.length<=0&&e.animationLoop&&e.animationLoop.isRunning()&&e.animationLoop.stop()}),this.animationLayer);this.animationLoop=i,i.start()}},{key:"shakeScreen",value:function(){var t=E(S().mark((function t(e){var n,r;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.intensity,r=void 0===n?1:n,this.shakeNode({node:this.stage,intensity:r});case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"shakeNode",value:function(){var t=E(S().mark((function t(e){var n,r,i,a,o,s,c;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.node,r=e.intensity,i=void 0===r?1:r,n){t.next=3;break}return t.abrupt("return");case 3:a=10,o=5*i;case 5:if(!(o>0)){t.next=16;break}return s=Ot(1,5)*i,c=Ot(1,5)*i,n.offsetX(s),n.offsetY(c),n.draw(),t.next=13,St(a/o);case 13:o-=1,t.next=5;break;case 16:n.offsetX(0),n.offsetY(0),n.draw();case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"adjustContentToScreen",value:function(t){var e=t.offsetHeight,n=(e-this.tileOffset)/this.game.getRenderHeight(),r=t.offsetWidth;this.tileWidth=Math.round(n),this.tileHeight=this.tileWidth;var i=this.getTilesDownOnScreenByWidth(r),a=this.game.setRenderWidth(i);this.width=a*this.tileWidth+this.tileOffset;var o=this.getTilesDownOnScreenByHeight(e),s=this.game.setRenderHeight(o);this.height=s*this.tileHeight+this.tileOffset}},{key:"adjustGameCameraHeightToScreenHeight",value:function(t){this.game.cameraHeight=this.getTilesDownOnScreenByHeight(t)}},{key:"addAnimation",value:function(t,e){var n;switch(t){case Ge.SOLID_TILE:n=new Ue(o({display:this},e));break;case Ge.BLINK_TILE:n=new Ve(o({display:this},e));break;case Ge.BLINK_BOX:n=new qe(o({display:this},e));break;case Ge.TEXT_FLOAT:n=new Be(o({display:this},e));break;case Ge.TEXT_OVERLAY:n=new He(o({display:this},e));break;default:n=new ze(o({display:this},e))}return n.initialize(),this.animations.push(n),this.animationLoop.isRunning()||this.animationLoop.start(),n}},{key:"removeAnimation",value:function(t){this.animations=this.animations.filter((function(e){return e.id!==t||(e.node.destroy(),!1)}))}},{key:"removeAnimations",value:function(t){var e=this;t.forEach((function(t){return e.removeAnimation(t)}))}},{key:"updateAnimation",value:function(t){this.animations=this.animations.map((function(e){return e.id===t&&console.log(e),e}))}},{key:"updateTile",value:function(t,e,n,r){t&&(t.children[0].fill(r),t.children[1].fill(n),t.children[1].text(e))}},{key:"createTile",value:function(t,e,n,r,i){var a=new(Pe().Group)({id:"".concat(t,",").concat(e),x:this.tileWidth*t+(this.tileOffset+this.tileGutter),y:this.tileHeight*e+(this.tileOffset+this.tileGutter),width:this.tileWidth,height:this.tileHeight,transformsEnabled:"position",perfectDrawEnabled:!1,listening:!1,shadowForStrokeEnabled:!1}),o=new(Pe().Rect)({name:"rect",width:this.tileWidth,height:this.tileHeight,fill:i,strokeEnabled:!1,transformsEnabled:"position",perfectDrawEnabled:!1,listening:this.mouseEnabled,shadowForStrokeEnabled:!1}),s=new(Pe().Text)({name:"text",text:n,width:this.tileWidth,height:this.tileHeight,fontSize:this.tileWidth-2,fontFamily:"scroll-o-script, Courier New",fill:r,align:"center",verticalAlign:"bottom",transformsEnabled:"position",perfectDrawEnabled:!1,listening:!1,shadowForStrokeEnabled:!1});return a.add(o),a.add(s),this.mouseEnabled&&this.addMouseListenersToNode(o,{x:t,y:e}),this.layer.add(a),a}},{key:"addMouseListenersToNode",value:function(t,e){var n=[],r=this,i="#3e7dc9",a=[],o=r.game.getFirstPlayer(),s=null,c=null;t.on("mouseover",(function(){var t=r.getRelativeTilePosition(e),u=Xt({game:r.game,position:t,entityType:"DESTRUCTABLE"});if(r.preparedToFire(o)){var l=o.getPosition();new Ne({targetPos:t,availablePositions:Qt(l,o.getAttackRange()),actor:o,game:r.game}).immediatelyExecuteAction(),o.getKeymap().m(t).immediatelyExecuteAction()}if(u.length<=0&&!r.preparedToFire(o)){i="#fff";var f=o.getPosition();(a=Ft(r.game,t,f)).length&&(s=Ie),n.push.apply(n,U(r.highlightPathTiles(a)))}u.length>0&&(c="f"),n.push(r.highlightTile(t,i))})),t.on("click",(function(){var e=null;s?(e=new s({targetPos:a[0],game:r.game,actor:o,energyCost:100}),s=null):c&&(e=o.getKeymap()[c](),c=null),Boolean(e)&&(e.immediatelyExecuteAction(),t.fire("mouseout"),t.fire("mouseover"))})),t.on("mouseout",(function(){n.length>0&&r.removeAnimations(n.map((function(t){return t.id})))}))}},{key:"preparedToFire",value:function(t){var e,n=t.getKeymap().f;return!!n&&"Fire"===(null===(e=n())||void 0===e?void 0:e.label)}},{key:"highlightTile",value:function(t,e){return this.addAnimation(Ge.BLINK_BOX,o(o({},t),{},{color:e}))}},{key:"highlightPathTiles",value:function(t,e){var n=this,r=[];return t.forEach((function(t){r.push(n.addAnimation(Ge.BLINK_TILE,o(o({},t),{},{color:e})))})),r}},{key:"getRelativeTilePosition",value:function(t){return{x:t.x-this.game.getRenderOffsetX(),y:t.y-this.game.getRenderOffsetY()}}},{key:"getAbsoultueX",value:function(t){return this.tileWidth*t+(this.tileOffset+this.tileGutter)}},{key:"getAbsoultueY",value:function(t){return this.tileWidth*t+(this.tileOffset+this.tileGutter)}},{key:"getTilesWide",value:function(t,e,n){return Math.floor((t-e)/n)}},{key:"getTilesHigh",value:function(t,e,n){return Math.floor((t-e)/n)}},{key:"getTilesDownOnScreenByWidth",value:function(t){return Math.ceil(t/this.tileWidth)}},{key:"getTilesDownOnScreenByHeight",value:function(t){return Math.ceil(t/this.tileHeight)}},{key:"draw",value:function(){this.layer.batchDraw()}}]),t}(),Xe="Directional Kunai",Ye=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"GROUND",a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,c=0;c<o;c++)for(var u=0;u<s;u++)if(c>=e.y&&c<=e.y+(n-1)&&u>=e.x&&u<=e.x+(r-1)){var l="".concat(u,",").concat(c);$e({map:a,key:l,tileKey:t,tileType:i})}},$e=function(t){var e,n,r=t.map,i=t.key,a=t.tileKey,o=t.tileType,s=t.entities,c=void 0===s?[]:s,u=re.get(a[o],"animation.length",0),l={type:o,currentFrame:(e=0,n=u,e=Math.ceil(e),n=Math.floor(n),Math.floor(Math.random()*(n-e))+e),entities:c,tileKey:a};return r[i]=l,l},Qe=function(t){var e=t.tile,n=t.tag;return re.get(e.tileKey[e.type],"tags",[]).includes(n)},Ze=function(t){var e=t.map,n=t.position;return e[Lt(n)]},Je=function(t,e,n,r,i){for(var a=[{x:1,y:1},{x:i-1,y:i-1},{x:1,y:i-1},{x:i-1,y:1}],o=function(o){var s=e[o],c=sn(s,n,r,i),u=Pt(a);c.x+=u.x,c.y+=u.y,tn(e,s).forEach((function(e){var a=sn(e,n,r,i),o=u;a.x+=o.x,a.y+=o.y,en(t,c,a)}))},s=0;s<e.length-1;s++)o(s)},tn=function(t,e){var n=cn(e);return t.filter((function(t){return n.find((function(e){return e.x===t.x&&e.y===t.y}))}))},en=function(t,e,n){for(var r=[Math.sign(n.x-e.x),Math.sign(n.y-e.y)],i=1e3,a=Bt(e,r),o=!1;!Rt(a,n);){var s=t[Lt(a)];if(s&&ln(s)&&(o?s.type="FLOOR":(s.type="DOOR",o=!0)),a=Bt(a,r),(i-=1)<=0)break}},nn=function(){return[{x:0,y:0}]},rn=function(t){for(var e=Pt(t),n=an(e),r=on(n,t),i=1e3;r;)if(e=Pt(t.filter((function(t){return!Rt(t,e)}))),n=an(e),r=on(n,t),(i-=1)<=0){r=!1,n=!1;break}return n},an=function(t){return Pt(cn(t))},on=function(t,e){return e.filter((function(e){return e.x===t.x&&e.y===t.y})).length>0},sn=function(t,e,n,r){return{x:t.x+e+r*t.x,y:t.y+n+r*t.y}},cn=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[{x:t.x,y:t.y+1},{x:t.x+1,y:t.y},{x:t.x,y:t.y-1},{x:t.x-1,y:t.y}];return e&&(n=n.concat([{x:t.x+1,y:t.y+1},{x:t.x+1,y:t.y-1},{x:t.x-1,y:t.y-1},{x:t.x-1,y:t.y+1}])),n},un=function(t,e,n,r){for(var i=n+1-r,a=0;a<i;a++)for(var o=0;o<i;o++){var s={x:e.x+a,y:e.y+o},c=t[Lt(s)];if(!c)return!1;if("ROAD_EDGE"===c.type)return!1;if(ln(c))return!1;if("FLOOR"===c.type)return!1}for(var u=0;u<i;u++)for(var l=0;l<i;l++){var f={x:e.x+u,y:e.y+l},h="FLOOR";0!==u&&u!==i-1||(h="WALL_VERTICAL"),0!==l&&l!==i-1||(h="WALL_HORIZONTAL"),0===u&&0===l&&(h="WALL_CORNER_NW"),0===u&&l===i-1&&(h="WALL_CORNER_SW"),u===i-1&&0===l&&(h="WALL_CORNER_NE"),u===i-1&&l===i-1&&(h="WALL_CORNER_SE");var d=t[Lt(f)];d&&(d.type=h)}return!0},ln=function(t){return Qe({tile:t,tag:"WALL"})},fn="#07111D",hn="#02252e",dn="#073642",pn="#586e75",gn="#93a1a1",yn="#fdf6e3",vn="#b58900",mn="#cb4b16",_n="#dc322f",bn="#268bd2",wn="#859900",xn="#27295f",kn="#3e7dc9",Cn="#18c0f8",En="#423a18",An="#96641D",Sn="#E19D3F",Tn="#833139",Pn="#CC7468",On="#DDA78F",Rn="#6D7886",Ln={GROUND:{background:fn,foreground:dn,character:".",sprite:"\ue8a2",passable:!0,tags:["PROVIDING_COVER"]},COVER_PLACEHOLDER:{background:fn,foreground:dn,character:".",sprite:"\ue8a2",passable:!0,tags:["PROVIDING_COVER"]},GROUND_ALT:{background:fn,foreground:dn,character:"",sprite:"",passable:!0,tags:["PROVIDING_COVER"]},EMERGENCE_DESTROYED:{background:fn,foreground:En,character:"",sprite:"\ue805",passable:!0},EMERGENCE_GROUND:{background:En,foreground:An,character:".",sprite:"\ue803",passable:!0},EMERGENCE_OUTER_GROUND:{background:En,foreground:Sn,character:".",sprite:"\ue8a3",passable:!0},FLOOR:{background:dn,foreground:An,character:"",passable:!0,tags:["BURNABLE"]},WALL:{background:dn,foreground:Sn,character:"#",sprite:"\ue802",passable:!1,tags:["BURNABLE","WALL"]},WALL_VERTICAL:{background:dn,foreground:Sn,character:"||",sprite:"\ue8df",passable:!1,tags:["BURNABLE","WALL"]},WALL_HORIZONTAL:{background:dn,foreground:Sn,character:"=",sprite:"\ue8de",passable:!1,tags:["BURNABLE","WALL"]},WALL_CORNER_NW:{background:dn,foreground:Sn,character:"#",sprite:"\ue8e1",passable:!1,tags:["BURNABLE","WALL"]},WALL_CORNER_NE:{background:dn,foreground:Sn,character:"#",sprite:"\ue8e2",passable:!1,tags:["BURNABLE","WALL"]},WALL_CORNER_SW:{background:dn,foreground:Sn,character:"#",sprite:"\ue8e3",passable:!1,tags:["BURNABLE","WALL"]},WALL_CORNER_SE:{background:dn,foreground:Sn,character:"#",sprite:"\ue8e4",passable:!1,tags:["BURNABLE","WALL"]},ROAD_EDGE:{background:hn,foreground:dn,character:"",sprite:"",passable:!0,tags:["ROAD","PROVIDING_COVER"]},ROAD:{background:hn,foreground:dn,character:"=",sprite:"\ue8de",passable:!0,tags:["ROAD","PROVIDING_COVER"]},DOOR:{background:dn,foreground:gn,character:"+",sprite:"\ue86d",passable:!0,tags:["BURNABLE"]},SAFE:{background:fn,foreground:dn,character:".",sprite:"\ue8a2",passable:!0},LOCKED_EXIT:{background:fn,foreground:dn,character:".",sprite:"\ue8a2",passable:!0},EXIT:{background:fn,foreground:wn,character:">",sprite:"\ue8b1",passable:!0},BURNT:{background:hn,foreground:_n,character:"X",sprite:"\ue8bb",passable:!0,tags:["BURNABLE"],animation:[{background:hn,foreground:vn,character:"X",sprite:"\ue8a4",passable:!0},{background:hn,foreground:vn,character:"x",sprite:"\ue8a4",passable:!0},{background:hn,foreground:_n,character:"X",sprite:"\ue8a4",passable:!0},{background:hn,foreground:mn,character:"x",sprite:"\ue8a4",passable:!0},{background:hn,foreground:mn,character:"X",sprite:"\ue8a4",passable:!0},{background:hn,foreground:_n,character:"x",sprite:"\ue8a4",passable:!0},{background:hn,foreground:_n,character:"X",sprite:"\ue8a4",passable:!0}]}},Mn={amount:{background:fn,foreground:Sn,character:""},attackRange:{background:wn,foreground:yn,character:"==>"},magazine:{background:Rn,foreground:yn,character:"!!"},baseRangedAccuracy:{background:"#6c71c4",foreground:yn,character:"*"},baseRangedDamage:{background:_n,foreground:yn,character:"x",sprite:"\ue890"},meleeDamage:{background:_n,foreground:yn,character:"x",sprite:"\ue888"}},In={point:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1}]},verticalLine:{x_offset:1,y_offset:1,positions:[{x:0,y:0,taken:!1},{x:0,y:1,taken:!1}]},horizontalLine:{x_offset:1,y_offset:1,positions:[{x:0,y:0,taken:!1},{x:1,y:0,taken:!1}]},smallSquare:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:0,y:1,taken:!1},{x:1,y:1,taken:!1},{x:1,y:0,taken:!1}]},southEastVerticalL:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:0,y:1,taken:!1},{x:0,y:2,taken:!1},{x:1,y:2,taken:!1}]},southWestVerticalL:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:0,y:1,taken:!1},{x:0,y:2,taken:!1},{x:-1,y:2,taken:!1}]},northWestVerticalL:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:0,y:-1,taken:!1},{x:0,y:-2,taken:!1},{x:-1,y:-2,taken:!1}]},northEastVerticalL:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:0,y:-1,taken:!1},{x:0,y:-2,taken:!1},{x:1,y:-2,taken:!1}]},southEastHorizontalL:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:1,y:0,taken:!1},{x:2,y:0,taken:!1},{x:2,y:1,taken:!1}]},southWestHorizontalL:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:-1,y:0,taken:!1},{x:-2,y:0,taken:!1},{x:-2,y:1,taken:!1}]},northEastHorizontalL:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:1,y:0,taken:!1},{x:2,y:0,taken:!1},{x:2,y:-1,taken:!1}]},northWestHorizontalL:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:-1,y:0,taken:!1},{x:-2,y:0,taken:!1},{x:-2,y:-1,taken:!1}]}},Dn=[].concat(U(Array(1).fill("point")),U(Array(4).fill("verticalLine")),U(Array(3).fill("horizontalLine")),U(Array(2).fill("smallSquare")),U(Array(2).fill("southEastVerticalL")),U(Array(2).fill("southWestVerticalL")),U(Array(2).fill("northWestVerticalL")),U(Array(2).fill("northEastVerticalL")),U(Array(1).fill("southEastHorizontalL")),U(Array(1).fill("southWestHorizontalL")),U(Array(1).fill("northWestHorizontalL")),U(Array(1).fill("northEastHorizontalL"))),Nn=function(t,e,n){Zt(n,t).forEach((function(t){var n=e.map[Lt(t)];n&&Qe({tile:n,tag:"PROVIDING_COVER"})&&function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"box",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"%",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:dn,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:pn,s=Pt(["\ue800","\ue801","\ue802"]),c=new Ta({pos:t,renderer:{character:r,sprite:s,color:o,background:a},name:n,game:e,durability:i,accuracyModifer:-.3,damageModifer:0});e.placeActorOnMap(c)}(t,e)}))},Fn=function(t,e){var n=In[Pt(Dn)];Nn(t,e,n)},jn=function(){function t(e){var n=e.game,r=void 0===n?null:n,i=e.data,a=void 0===i?{}:i;s(this,t);var o=ne()();this.id=o,this.game=r,this.data=a,this.infoBlocks={},this.progressBars={}}return u(t,[{key:"initialize",value:function(){}},{key:"update",value:function(){}},{key:"createOrUpdateInfoBlock",value:function(t,e){(0,re.merge)(this.infoBlocks,i({},t,e))}}]),t}(),Wn=n(1845),Gn={fire_0:new Wn.Howl({src:[window.PUBLIC_URL+"/sounds/fire-00.mp3"],volume:.5,loop:!0}),fire_1:new Wn.Howl({src:[window.PUBLIC_URL+"/sounds/fire-01.mp3"],volume:.05,loop:!0}),scream_0:new Wn.Howl({src:[window.PUBLIC_URL+"/sounds/scream-00.wav"]}),scream_1:new Wn.Howl({src:[window.PUBLIC_URL+"/sounds/scream-01.wav"]}),scream_2:new Wn.Howl({src:[window.PUBLIC_URL+"/sounds/scream-02.wav"]}),water_0:new Wn.Howl({src:[window.PUBLIC_URL+"/sounds/water-04.wav"]}),water_1:new Wn.Howl({src:[window.PUBLIC_URL+"/sounds/water-05.wav"]}),chop_0:new Wn.Howl({src:[window.PUBLIC_URL+"/sounds/chop-00.wav"]}),chop_1:new Wn.Howl({src:[window.PUBLIC_URL+"/sounds/chop-01.wav"]}),equip_0:new Wn.Howl({src:[window.PUBLIC_URL+"/sounds/equip-00.wav"]}),equip_1:new Wn.Howl({src:[window.PUBLIC_URL+"/sounds/equip-01.wav"]}),explosion_0:new Wn.Howl({src:[window.PUBLIC_URL+"/sounds/explosion-00.wav"],volume:.2}),save:new Wn.Howl({src:[window.PUBLIC_URL+"/sounds/save.wav"]}),lose:new Wn.Howl({src:[window.PUBLIC_URL+"/sounds/lose-00.wav"]}),grab_0:new Wn.Howl({src:[window.PUBLIC_URL+"/sounds/grab-00.wav"]}),release_0:new Wn.Howl({src:[window.PUBLIC_URL+"/sounds/grab-01.wav"]})},zn=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Wn.Howl(o({src:[window.PUBLIC_URL+t],volume:.3,loop:!1},e))},Un=function(t){Object.entries(Bn).forEach((function(e){var n=M(e,2);n[0];n[1].volume(t)}))},Bn={emergence_01:zn("/sounds/jacinto/EarthDebrisSmallClose01.ogg"),emergence_02:zn("/sounds/jacinto/EarthDebrisSmallClose02.ogg"),cog_tags:zn("/sounds/jacinto/CogTags.ogg"),wretch_melee_01:zn("/sounds/jacinto/actors/wretch/AAttackSmall01.ogg"),wretch_melee_02:zn("/sounds/jacinto/actors/wretch/AAttackSmall03.ogg"),wretch_melee_03:zn("/sounds/jacinto/actors/wretch/AAttackSmall04.ogg"),scion_melee_01:zn("/sounds/jacinto/actors/wretch/AAttackSmall01.ogg",{rate:.5}),scion_melee_02:zn("/sounds/jacinto/actors/wretch/AAttackSmall03.ogg",{rate:.5}),scion_melee_03:zn("/sounds/jacinto/actors/wretch/AAttackSmall04.ogg",{rate:.5}),locust_buff_01:zn("/sounds/jacinto/actors/drone/AChatterAttack01.ogg"),locust_buff_02:zn("/sounds/jacinto/actors/drone/AChatterAttack02.ogg"),locust_buff_03:zn("/sounds/jacinto/actors/drone/AChatterAttack03.ogg"),reload:zn("/sounds/jacinto/weapons/reloadassault02.ogg"),needs_reload:zn("/sounds/jacinto/NeedsReload01.ogg"),level_start:zn("/sounds/jacinto/ObjectiveAdd01.ogg"),level_end:zn("/sounds/jacinto/ObjectiveComplete01.ogg"),cog_rifle_fire_01:zn("/sounds/jacinto/weapons/Assault_Fire_02.ogg"),cog_rifle_fire_02:zn("/sounds/jacinto/weapons/Assault_Fire_07.ogg"),cog_rifle_fire_03:zn("/sounds/jacinto/weapons/CogARifleFire02.ogg"),cog_rifle_fire_04:zn("/sounds/jacinto/weapons/CogARifleFire04.ogg"),shot_missed_01:zn("/sounds/jacinto/weapons/BBulletImpact10.ogg"),shot_missed_02:zn("/sounds/jacinto/weapons/BBulletImpact1.ogg"),longshot_fire_01:zn("/sounds/jacinto/weapons/CogSniperFire01.ogg"),longshot_fire_02:zn("/sounds/jacinto/weapons/CogSniperFire02.ogg"),longshot_fire_03:zn("/sounds/jacinto/weapons/CogSniperFire03.ogg"),pistol_fire_01:zn("/sounds/jacinto/weapons/CogPistolFire01.ogg"),pistol_fire_02:zn("/sounds/jacinto/weapons/CogPistolFire02.ogg"),chainsaw_01:zn("/sounds/jacinto/weapons/ChainsawRevIdle01.ogg"),chainsaw_02:zn("/sounds/jacinto/weapons/ChainsawStart01.ogg"),grenade_ready:zn("/sounds/jacinto/weapons/GrenadeBeep02.ogg"),smoke_grenade_fire:zn("/sounds/jacinto/weapons/GrenadeSmokeSpew01.ogg"),boltok_fire_01:zn("/sounds/jacinto/weapons/LocustBoltok01.ogg"),boltok_fire_02:zn("/sounds/jacinto/weapons/LocustBoltok04.ogg"),hammerburst_fire_01:zn("/sounds/jacinto/weapons/LocustRifleFire01.ogg"),hammerburst_fire_02:zn("/sounds/jacinto/weapons/LocustRifleFire03.ogg"),bullet_hit_01:zn("/sounds/jacinto/weapons/RifleAmmoImpactBodyFlesh01.ogg"),bullet_hit_02:zn("/sounds/jacinto/weapons/RifleAmmoImpactBodyFlesh02.ogg"),bullet_hit_03:zn("/sounds/jacinto/weapons/RifleAmmoImpactBodyFlesh03.ogg"),bullet_miss_01:zn("/sounds/jacinto/weapons/RifleAmmoImpactDirt01.ogg"),bullet_miss_02:zn("/sounds/jacinto/weapons/RifleAmmoImpactDirt02.ogg"),bullet_miss_03:zn("/sounds/jacinto/weapons/RifleAmmoImpactDirt03.ogg"),explosion_01:zn("/sounds/jacinto/weapons/BoomerExplosionA01.ogg"),explosion_02:zn("/sounds/jacinto/weapons/BoomerExplosionB01.ogg")},Hn=function(t){return new La({game:t.game,name:"Ammo",passable:!0,renderer:{character:"||",sprite:"\ue891",background:Rn,color:yn},flammability:0,explosivity:0})},Vn=function(t,e){return new Ma({game:t.game,name:"Grenade",passable:!0,renderer:{character:"x",sprite:"\ue83a",color:_n,background:dn},flammability:0,explosivity:3,attackDamage:10,speed:ie*e,energy:0,range:e})},qn=["message","messageType","processDelay"],Kn=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.message,a=t.messageType,c=void 0===a?Ee.INFORMATION:a,u=t.processDelay,l=void 0===u?50:u,f=Se(t,qn);return s(this,n),(r=e.call(this,o({},f))).message=i,r.messageType=c,r.processDelay=l,r}return u(n,[{key:"perform",value:function(){return this.game.addMessage("".concat(this.actor.name,' says "').concat(this.message,'"'),this.messageType),{success:!0,alternative:null}}}]),n}(Le),Xn=function(){function t(e){var n=e.actor,r=void 0===n?null:n,i=e.repeat,a=void 0===i?1:i,o=e.chainOnSuccess,c=void 0!==o&&o,u=e.chainOnFail,l=void 0!==u&&u,f=e.extraActionParams,h=void 0===f?{}:f;s(this,t),this.actor=r,this.repeat=a,this.repeated=0,this.chainOnSuccess=c,this.chainOnFail=l,this.extraActionParams=h}return u(t,[{key:"isValid",value:function(){return!0}},{key:"reset",value:function(){this.repeated=0}},{key:"shouldRepeat",value:function(){return this.repeated<this.repeat}},{key:"shouldChainToNextBehavior",value:function(){return!(!this.chainOnSuccess||!this.actor.lastActionSucceded())||!(!this.chainOnFail||!this.actor.lastActionFailed())}},{key:"interrupted",value:function(){return!this.shouldChainToNextBehavior()&&!this.shouldRepeat()}},{key:"getDefaultActionParams",value:function(){return{game:this.actor.game,actor:this.actor,interrupt:this.interrupted(),energyCost:100}}},{key:"constructActionClassAndParams",value:function(){return[Kn,{message:"I am behaving"}]}},{key:"getAction",value:function(){var t=M(this.constructActionClassAndParams(),2),e=t[0],n=t[1];return e&&n?new e(o(o(o({},this.getDefaultActionParams()),n),this.extraActionParams)):null}}]),t}(),Yn=["targetPositions","processDelay"],$n=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.targetPositions,a=t.processDelay,c=void 0===a?25:a,u=Se(t,Yn);return s(this,n),(r=e.call(this,o({},u))).targetPositions=i,r.processDelay=c,r}return u(n,[{key:"perform",value:function(){var t=this,e=!1;if(!this.actor.entityTypes.includes("ATTACKING"))return{success:!0,alternative:new Kn({message:"Ooh I don't know how to attack",game:this.game,actor:this.actor})};var n=[],r={x:this.actor.pos.x,y:this.actor.pos.y},i=this.particleTemplate.renderer;return this.targetPositions.forEach((function(r){var i=t.actor.attack(r);n.push(r),i&&(e=!0)})),this.addParticle(n.length+1,r,null,i,Ce,n),e&&(this.actor.energy-=this.energyCost),{success:e,alternative:null}}}]),n}(Le),Qn=function(t){f(n,t);var e=y(n);function n(t){var r=Object.assign({},t);return s(this,n),e.call(this,o({},r))}return u(n,[{key:"isValid",value:function(){return this.actor.getCursorPositions().length}},{key:"constructActionClassAndParams",value:function(){var t=this;return[$n,{targetPositions:this.actor.getCursorPositions(),onAfter:function(){return t.actor.removeAnimations()}}]}}]),n}(Xn),Zn=["message","messageType"],Jn=function(t){f(n,t);var e=y(n);function n(t){t.message,t.messageType;var r,i=Se(t,Zn);return s(this,n),(r=e.call(this,o({},i))).processDelay=0,r}return u(n,[{key:"perform",value:function(){var t=this.actor.reload();return this.game.addMessage("".concat(this.actor.name,' says "RELOADING"'),Ee.INFORMATION),{success:t,alternative:null}}}]),n}(Le),tr=["targetPositions","processDelay"],er=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.targetPositions,a=t.processDelay,c=void 0===a?25:a,u=Se(t,tr);return s(this,n),(r=e.call(this,o({},u))).targetPositions=i,r.processDelay=c,r}return u(n,[{key:"perform",value:function(){var t=this,e=!1;if(!this.actor.entityTypes.includes("RANGED_ATTACKING"))return{success:!0,alternative:new Kn({message:"Ooh I don't know how to attack",game:this.game,actor:this.actor})};var n=this.actor.getEquipedWeapons();if(n.length>0&&n[0].magazine<=0)return Bn.needs_reload.play(),{success:!1,alternative:null};var r=[],i={x:this.actor.pos.x,y:this.actor.pos.y},a=this.particleTemplate.renderer;return this.targetPositions.forEach((function(n){var s=M(t.actor.rangedAttack(n),2),c=s[0],u=s[1];r.push(n),c&&(e=!0,u?t.addParticle(r.length+1,i,null,a,Ce,r):(e=!0,t.addParticle(1,o({},n),{x:0,y:0},xe.fail.renderer)))})),{success:e,alternative:null}}}]),n}(Le),nr=function(t){f(n,t);var e=y(n);function n(t){var r=Object.assign({},t);return s(this,n),e.call(this,o({},r))}return u(n,[{key:"isValid",value:function(){return this.actor.getCursorPositions().length}},{key:"constructActionClassAndParams",value:function(){var t=this;return[er,{targetPositions:this.actor.getCursorPositions(),onAfter:function(){t.actor.removeAnimations(),t.actor.reload()}}]}}]),n}(Xn),rr=["effect","processDelay"],ir=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.effect,a=t.processDelay,c=void 0===a?25:a,u=Se(t,rr);return s(this,n),(r=e.call(this,o({},u))).effect=i,r.processDelay=c,r}return u(n,[{key:"perform",value:function(){var t=this,e=this.game.engine.addStatusEffect(this.effect);return $t(this.actor.pos.x,this.actor.pos.y,4).forEach((function(e){t.addParticle(3,o({},e),{x:-1*Math.sign(e.x-t.actor.pos.x),y:-1*Math.sign(e.y-t.actor.pos.y)})})),{success:e,alternative:null}}}]),n}(Le),ar=["effects","processDelay"],or=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.effects,a=t.processDelay,c=void 0===a?25:a,u=Se(t,ar);return s(this,n),(r=e.call(this,o({},u))).effects=i,r.processDelay=c,r}return u(n,[{key:"addParticleAnimationAt",value:function(t){var e=this,n=t.pos;$t(n.x,n.y,4).forEach((function(t){e.addParticle(3,o({},t),{x:-1*Math.sign(t.x-t.x),y:-1*Math.sign(t.y-t.y)})}))}},{key:"perform",value:function(){var t=this,e=!1;return this.effects.forEach((function(n){var r=t.game.engine.addStatusEffect(n);e=r||e,r&&t.addParticleAnimationAt({pos:n.actor.getPosition()})})),{success:e,alternative:null}}}]),n}(Le),sr=["effectClass","effectDefaults"],cr=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.effectClass,a=t.effectDefaults,c=void 0===a?{}:a,u=Se(t,sr);return s(this,n),(r=e.call(this,o({},u))).effectClass=i,r.effectDefaults=c,r}return u(n,[{key:"isValid",value:function(){return this.actor.getCursorPositions().length}},{key:"getTargetsOnTile",value:function(t){return qt(t.entities)}},{key:"createEffects",value:function(){var t=this,e=[];return this.actor.getCursorPositions().forEach((function(n){var r=t.actor.game.map[Lt(n)];r&&t.getTargetsOnTile(r).forEach((function(n){var r=new t.effectClass(o(o({},t.effectDefaults),{},{actor:n,game:t.actor.game}));e.push(r)}))})),e}},{key:"constructActionClassAndParams",value:function(){var t=this,e=this.createEffects();return[or,{effects:e,onAfter:function(){return t.actor.removeAnimations()}}]}}]),n}(Xn),ur=function(t){f(n,t);var e=y(n);function n(t){var r=Object.assign({},t);return s(this,n),e.call(this,o({},r))}return u(n,[{key:"getTargetsOnTile",value:function(t){var e=this;return t.entities.filter((function(t){return e.actor.isAlly(t)}))}}]),n}(cr),lr=function(t){f(n,t);var e=y(n);function n(t){var r,i=Object.assign({},t);return s(this,n),(r=e.call(this,o({},i))).targetCover=null,r}return u(n,[{key:"isValid",value:function(){return this.enemiesExist()&&!this.actor.isCovered()}},{key:"enemiesExist",value:function(){return this.actor.getEnemies().length>0}},{key:"getDistanceToTarget",value:function(t){return Ft(this.actor.game,t.getPosition(),this.actor.getPosition(),8).length}},{key:"findClosestCover",value:function(){var t=this,e=null;return this.actor.getCoverEntities().forEach((function(n){e||(e=n),t.getDistanceToTarget(n)<t.getDistanceToTarget(e)&&(e=n)})),e}},{key:"constructActionClassAndParams",value:function(){var t=null,e=null,n=null,r=this.actor.getPosition();if(!(n=this.targetCover?this.targetCover:this.findClosestCover()))return[t,e];var i=Ft(this.actor.game,n.getPosition(),this.actor.getPosition());return r=i.length>0?i[0]:null,[t=Ie,e={hidden:!0,targetPos:r}]}}]),n}(Xn),fr=["maintainDistanceOf"],hr=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.maintainDistanceOf,a=void 0===i?1:i,c=Se(t,fr);return s(this,n),(r=e.call(this,o({},c))).chainOnFail=!0,r.maintainDistanceOf=a,r}return u(n,[{key:"isValid",value:function(){return!0}},{key:"getDistanceToTarget",value:function(t){return Ft(this.actor.game,t.getPosition(),this.actor.getPosition(),8).length}},{key:"findClosestEnemy",value:function(){var t=this,e=null;return this.actor.getEnemies().forEach((function(n){e||(e=n),t.getDistanceToTarget(n)<t.getDistanceToTarget(e)&&(e=n)})),e}},{key:"constructActionClassAndParams",value:function(){var t=this.findClosestEnemy();if(!t)return[null,null];var e=Ft(this.actor.game,t.getPosition(),this.actor.getPosition()),n=(e=e.slice(0,-this.maintainDistanceOf)).length>0?e[0]:null;return n?[Ie,{hidden:!0,targetPos:n}]:[null,null]}}]),n}(Xn),dr=["maintainDistanceOf"],pr=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.maintainDistanceOf,a=void 0===i?3:i,c=Se(t,dr);return s(this,n),(r=e.call(this,o({},c))).maintainDistanceOf=a,r}return u(n,[{key:"isValid",value:function(){return!this.enemiesExist()}},{key:"enemiesExist",value:function(){return this.actor.getEnemies().length>0}},{key:"getDistanceToTarget",value:function(t){return Ft(this.actor.game,t.getPosition(),this.actor.getPosition(),8).length}},{key:"constructActionClassAndParams",value:function(){var t=this.actor.game.getFirstPlayer();if(!t)return[null,null];var e=Ft(this.actor.game,t.getPosition(),this.actor.getPosition()),n=(e=e.slice(0,-this.maintainDistanceOf)).length>0?e[0]:null;return n?[Ie,{hidden:!0,targetPos:n}]:[null,null]}}]),n}(Xn),gr=["attackPattern","color"],yr=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.attackPattern,a=void 0===i?we.point:i,c=t.color,u=void 0===c?_n:c,l=Se(t,gr);return s(this,n),(r=e.call(this,o({},l))).attackPattern=a,r.color=u,r.chainOnSuccess=!0,r}return u(n,[{key:"isValid",value:function(){var t=this,e=!1;return Zt(this.attackPattern,this.getTargetPosition()).forEach((function(n){var r=t.actor.game.map[Lt(n)];r&&qt(r.entities).forEach((function(n){t.actor.isEnemy(n)&&(e=!0)}))})),e}},{key:"getTargetPosition",value:function(){return this.actor.getPosition()}},{key:"constructActionClassAndParams",value:function(){var t=Zt(this.attackPattern,this.getTargetPosition());return this.actor.activateCursor(t),this.actor.updateAllCursorNodes([{key:"fill",value:this.color},{key:"stroke",value:"transparent"}]),[Kn,{message:"I am telegraphing my next attack",processDelay:500}]}}]),n}(Xn),vr=["accuracyToAttackThreshold"],mr=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.accuracyToAttackThreshold,a=void 0===i?.1:i,c=Se(t,vr);return s(this,n),(r=e.call(this,o({},c))).accuracyToAttackThreshold=a,r.chainOnSuccess=!0,r}return u(n,[{key:"isValid",value:function(){var t=this.actor.getAttackRange(),e=this.findClosestEnemyInRange(t);return!!e&&!(this.actor.getRangedAttackChance(e.getPosition())<this.accuracyToAttackThreshold)}},{key:"findClosestEnemyInRange",value:function(t){var e=this,n=null;return this.actor.getEnemies().filter((function(n){var r=e.getDistanceToTarget(n);return t>=r})).forEach((function(t){n||(n=t),e.getDistanceToTarget(t)<e.getDistanceToTarget(n)&&(n=t)})),n}},{key:"getDistanceToTarget",value:function(t){var e=t.getPosition();return Nt(this.actor.game,e,this.actor.getPosition(),8).length}},{key:"getTargetPosition",value:function(){return this.findClosestEnemy().getPosition()}},{key:"getEquippedWeapon",value:function(){return this.actor.getEquipedWeapons()[0]}},{key:"constructActionClassAndParams",value:function(){var t=this.getEquippedWeapon(),e=this.getTargetPosition(),n=t.getPositionsInShape(e);return this.actor.activateCursor(n),this.actor.updateAllCursorNodes([{key:"fill",value:_n},{key:"stroke",value:"transparent"}]),[Kn,{message:"I am telegraphing my next attack",processDelay:500}]}}]),n}(hr),_r=function(t){f(n,t);var e=y(n);function n(t){var r,i=Object.assign({},t);return s(this,n),(r=e.call(this,o({},i))).accuracyToAttackThreshold=-1,r.chainOnSuccess=!0,r}return u(n)}(mr),br=function(t){f(n,t);var e=y(n);function n(t){var r=Object.assign({},t);return s(this,n),e.call(this,o({},r))}return u(n,[{key:"isValid",value:function(){return!0}},{key:"constructActionClassAndParams",value:function(){return[Kn,{message:"*breathes*"}]}}]),n}(Xn),wr=["container"],xr=u((function t(e){var n=e.itemType,r=e.items;s(this,t),this.itemType=n,this.items=r})),kr=function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.container,a=void 0===i?[]:i,c=Se(t,wr);return s(this,n),(r=e.call(this,o({},c))).entityTypes=r.entityTypes.concat("CONTAINING"),r.container=a,r}return u(n,[{key:"createSlot",value:function(t){var e=new xr({itemType:t.name,items:[t]});this.container.push(e)}},{key:"contains",value:function(t){var e=this.container.filter((function(e){return e.itemType===t}));return e.length>0&&e[0].items[0]}},{key:"addToContainer",value:function(t){var e=this.container.findIndex((function(e){return e.itemType===t.name}));e>=0?this.container[e].items.push(t):this.createSlot(t)}},{key:"removeFromContainer",value:function(t){var e=this,n=!1;return this.container.forEach((function(r,i){r.items=r.items.filter((function(e){return e.id!==t.id})),r.items.length||e.container.splice(i,1),n=!0})),n}}]),n}(t)},Cr=function(t,e){return new Ra({game:t.game,name:"Gnasher",passable:!0,attackRange:4,magazineSize:2,baseRangedAccuracy:.9,baseRangedDamage:2,attackDamage:1,pos:e,shapePattern:we.square,equipmentType:ve,renderer:{character:"G",color:hn,background:wn},rangedHitSounds:[Bn.boltok_fire_01,Bn.boltok_fire_02],rangedMissSounds:[Bn.bullet_miss_01,Bn.bullet_miss_02,Bn.bullet_miss_03]})},Er=function(t,e){return new Ra({game:t.game,name:"Hammer Burst",passable:!0,attackRange:6,magazineSize:4,baseRangedAccuracy:.65,baseRangedDamage:2,attackDamage:1,pos:e,shapePattern:we.filledClover,equipmentType:ve,renderer:{character:"Hb",color:yn,background:Rn},rangedHitSounds:[Bn.hammerburst_fire_01,Bn.hammerburst_fire_02],rangedMissSounds:[Bn.bullet_miss_01,Bn.bullet_miss_02,Bn.bullet_miss_03]})},Ar=function(t,e){return new Ra({game:t.game,name:"Grenade Thrower",passable:!0,attackRange:10,magazineSize:1,baseRangedAccuracy:.9,baseRangedDamage:0,attackDamage:0,pos:e,shapePattern:we.bigSquare,equipmentType:ve,renderer:{character:"Gb",color:hn,background:wn},rangedHitSounds:[Bn.explosion_01,Bn.explosion_01]})},Sr=function(t){return new La({game:t.game,name:"Ammo",passable:!0,renderer:{character:"|b",sprite:"\ue879",background:Rn,color:_n},flammability:0,explosivity:4})},Tr=function(){function t(e){var n=e.game,r=e.actor,i=e.name,a=void 0===i?"Effect":i,o=e.lifespan,c=void 0===o?100:o,u=e.stepInterval,l=void 0===u?100:u,f=e.allowDuplicates,h=void 0===f||f,d=e.onStart,p=void 0===d?function(){return null}:d,g=e.onStep,y=void 0===g?function(){return null}:g,v=e.onStop,m=void 0===v?function(){return null}:v,_=e.renderer,b=void 0===_?{background:"green",color:"white",character:"*"}:_;s(this,t),this.game=n,this.actor=r,this.name=a,this.lifespan=c,this.timeToLive=c,this.stepInterval=l,this.allowDuplicates=h,this.timeSinceLastStep=0,this.onStart=p,this.onStep=y,this.onStop=m,this.renderer=b}return u(t,null,[{key:"getValidTargetsOnTile",value:function(t,e){return qt(t.entities)}}]),t}();Tr.displayName="Base Effect";var Pr=["buffValue"],Or=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.buffValue,a=void 0===i?1:i,c=Se(t,Pr);return s(this,n),(r=e.call(this,o({},c))).name="Sand Skin",r.allowDuplicates=!1,r.actor_background=r.actor.renderer.background,r.renderer={character:"\u2726\ufe0f",color:"#A89078",background:"#D8C0A8"},r.onStart=function(){r.actor.defense+=a,r.game.addMessage("".concat(r.actor.name," was enveloped in hardened sand."),Ee.INFORMATION),r.actor.renderer.background="#A89078"},r.onStop=function(){r.actor.defense=Math.max(0,r.actor.defense-a),r.game.addMessage("".concat(r.actor.name,"'s hardened sand skin fell away."),Ee.INFORMATION),r.actor.renderer.background=r.actor_background},r}return u(n,null,[{key:"getValidTargetsOnTile",value:function(t,e){return qt(t.entities).filter((function(t){return e.id!==t.id&&e.isAlly(t)}))}}]),n}(Tr);Or.displayName="Sand Skin";var Rr=["buffValue","onStartCallback"],Lr=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.buffValue,a=void 0===i?1:i,c=t.onStartCallback,u=void 0===c?function(){return null}:c,l=Se(t,Rr);return s(this,n),(r=e.call(this,o({},l))).name="Melee Damage",r.allowDuplicates=!1,r.actor_background=r.actor.renderer.background,r.actor_color=r.actor.renderer.color,r.attackDamage=r.actor.attackDamage,r.renderer={color:"#424242",background:"#A89078",character:"\ue888"},r.onStart=function(){u(),r.actor.attackDamage+=a,r.actor.renderer.background=r.actor_color,r.actor.renderer.color=r.actor_background},r.onStop=function(){r.actor.attackDamage=r.attackDamage,r.actor.renderer.color=r.actor_color,r.actor.renderer.background=r.actor_background},r}return u(n,null,[{key:"getValidTargetsOnTile",value:function(t,e){return qt(t.entities).filter((function(t){return e.id!==t.id&&e.isAlly(t)}))}}]),n}(Tr);Lr.displayName="Melee Damage";var Mr=["loadout"];function Ir(t,e){Vr(t,e,zr.wretch())}function Dr(t,e){Vr(t,e,zr.drone())}function Nr(t,e){Vr(t,e,zr.drone_grenadier())}function Fr(t,e){Vr(t,e,zr.hunter())}function jr(t,e){Vr(t,e,zr.scion())}function Wr(t,e){Vr(t,e,zr.scion())}function Gr(t,e){!function(t,e){qr(t,(function(){return Br(t,e)}))}(t,e)}var zr={wretch:function(){return{name:"Wretch",renderer:{character:Pt(["w"]),color:Tn,background:On,sprite:"\ue8d7"},durability:2,attackDamage:1,behaviors:[new hr({repeat:5}),new yr({repeat:1,attackPattern:we.clover}),new Qn({repeat:1,extraActionParams:{onSuccess:function(){Pt([Bn.wretch_melee_01,Bn.wretch_melee_02,Bn.wretch_melee_03]).play()}}})]}},drone:function(){return{name:"Drone",renderer:{character:"d",color:Pn,background:Tn,sprite:"\ue825"},durability:3,attackDamage:1,behaviors:[new hr({repeat:5,maintainDistanceOf:4}),new mr({repeat:1}),new nr({repeat:1})],loadout:{equipmentCreators:[Cr],inventoryCreators:[{amount:100,creator:Hn}]}}},drone_grenadier:function(){return{name:"Grenadier",renderer:{character:"db",color:Pn,background:Tn,sprite:"\ue827"},durability:3,attackDamage:1,behaviors:[new hr({repeat:1,maintainDistanceOf:4}),new _r({repeat:1}),new nr({repeat:1})],loadout:{equipmentCreators:[Ar],inventoryCreators:[{amount:10,creator:Sr}]}}},hunter:function(){return{name:"Hunter",renderer:{character:"h",color:Pn,background:Tn,sprite:"\ue81d"},durability:3,attackDamage:1,behaviors:[new lr({repeat:5}),new br({repeat:1}),new mr({repeat:1}),new nr({repeat:1}),new mr({repeat:1}),new nr({repeat:1})],loadout:{equipmentCreators:[Er],inventoryCreators:[{amount:100,creator:Hn}]}}},scion:function(){return{name:"Scion",renderer:{character:"S",color:Pn,background:Tn,sprite:"\ue8d4"},durability:10,attackDamage:4,behaviors:[new hr({repeat:5}),new yr({repeat:1,attackPattern:we.big_circle,color:bn}),new ur({repeat:1,effectClass:Lr,effectDefaults:{buffValue:1,lifespan:1e3,stepInterval:ie,processDelay:200},extraActionParams:{onSuccess:function(){Pt([Bn.locust_buff_01,Bn.locust_buff_02,Bn.locust_buff_03]).play()}}}),new hr({repeat:5}),new yr({repeat:1,attackPattern:we.big_circle}),new Qn({repeat:1,extraActionParams:{onSuccess:function(){Pt([Bn.scion_melee_01,Bn.scion_melee_02,Bn.scion_melee_03]).play()}}})]}},skorge:function(){return{renderer:{sprite:"\ue8d9",character:"S",color:Tn,background:fn},name:"Skorge",durability:40,attackDamage:5,behaviors:[new hr({repeat:5}),new yr({repeat:1,attackPattern:we.clover}),new Qn({repeat:1})]}}},Ur=function(t,e){return{pos:e,game:t.game,faction:"LOCUST",enemyFactions:["COG","ALL"],equipment:be(),onDestroy:function(e){var n=Math.random();n<=.05?t.addAmmoLoot(e.getPosition()):n<=.1&&t.addGrenadeLoot(e.getPosition())}}};function Br(t,e){var n=Pt(Object.keys(zr).filter((function(t){return"skorge"!==t})).map((function(t){return zr[t]})));return Hr(o(o({},Ur(t,e)),n()))}function Hr(t){var e=t.loadout,n=Se(t,Mr),r=new Pa(o({},n));return e&&function(t,e){var n=e.equipmentCreators,r=e.inventoryCreators,i=t.game.engine,a=r.map((function(t){var e=t.amount,n=t.creator;return function(t,e,n){var r=Array(e).fill("").map((function(){return n(t)}));return new xr({itemType:r[0].name,items:r})}(i,e,n)}));t.container=a,n.forEach((function(e){var n=e(i);t.equip(n.equipmentType,n)}))}(r,e),r}function Vr(t,e,n){qr(t,(function(){return function(t,e,n){return Hr(o(o({},Ur(t,e)),n))}(t,e,n)}))}function qr(t,e){var n=e();t.game.placeActorOnMap(n)&&t.game.engine.addActor(n)}n(9396);var Kr=function(e){f(r,e);var n=y(r);function r(t){var e,i=Object.assign({},t);return s(this,r),(e=n.call(this,o({},i))).createVerticalRoadGoingNorthAndSouth=function(){return function(t){return e.createVerticalRoad(t,e.game.mapHeight)}},e.createVerticalRoadGoingNorth=function(t){return function(n){return e.createVerticalRoad(n,t+1)}},e.createVerticalRoadGoingSouth=function(t){return function(n){return e.createVerticalRoad(n,e.game.mapHeight-t-1,t+1)}},e.data={level:1,highestLevel:null,turnCount:0},e.dataByLevel=[{enemies:U(Array(6).fill("Wretch")),emergenceHoles:0},{enemies:[].concat(U(Array(1).fill("Scion")),U(Array(6).fill("Wretch"))),emergenceHoles:0},{enemies:U(Array(4).fill("Drone")),emergenceHoles:0},{enemies:U(Array(3).fill("Wretch")),emergenceHoles:1},{enemies:[],emergenceHoles:6},{enemies:U(Array(3).fill("DroneGrenadier")),emergenceHoles:0},{enemies:[].concat(U(Array(12).fill("Wretch")),["Skorge"]),emergenceHoles:3}],e}return u(r,[{key:"createHorizontalRoad",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Ye(this.game.tileKey,{x:n,y:t},4,e,"ROAD_EDGE",this.game.map,this.game.mapHeight,this.game.mapWidth),Ye(this.game.tileKey,{x:n,y:t+1},2,e,"ROAD",this.game.map,this.game.mapHeight,this.game.mapWidth)}},{key:"createVerticalRoad",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Ye(this.game.tileKey,{x:t,y:n},e,3,"ROAD_EDGE",this.game.map,this.game.mapHeight,this.game.mapWidth),Ye(this.game.tileKey,{x:t+1,y:n},e,1,"ROAD",this.game.map,this.game.mapHeight,this.game.mapWidth)}},{key:"createCityBlockLevel",value:function(){var t=this,e=Ot(0,2),n=Ot(1,5);this.game.createEmptyLevel(),Ye(this.game.tileKey,{x:0,y:0},this.game.mapHeight,1,"SAFE",this.game.map,this.game.mapHeight,this.game.mapWidth);var r=this.game.mapHeight/4;this.createHorizontalRoad(r,this.game.mapWidth),Array(e).fill("").forEach((function(){var e=Ot(0,t.game.mapWidth);Pt([t.createVerticalRoadGoingNorth(r),t.createVerticalRoadGoingSouth(r),t.createVerticalRoadGoingNorthAndSouth(r)])(e)})),Array(n).fill("").forEach((function(){var e=t.getEmptyGroundTileKeys(),n=Pt(e).split(",").map((function(t){return parseInt(t)})),r=Ot(1,6),i=Pt([3,4,6]);!function(t,e,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:12,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4,a={},o=nn(),s=1e3;o.length<r+1;){var c=rn(o);if(c){var u=sn(c,e,n,i);un(t,u,i,0)&&o.push(c)}if((s-=1)<=0)break}Je(t,o,e,n,i)}(t.game.map,n[0],n[1],r,i)}));for(var i=Ot(2,10),a=Object.keys(this.game.map).filter((function(e){return["ROAD","DOOR","EMERGENCE_GROUND"].includes(t.game.map[e].type)})),o=0;o<i;o++){var s=Pt(a);if(!s)break;var c=s.split(",").map((function(t){return parseInt(t)})),u={x:c[0],y:c[1]};Fn(u,this.game)}}},{key:"initialize",value:function(){var e=this;D(h(r.prototype),"initialize",this).call(this),this.game.tileKey=Ln,this.setWaveData(),this.createCityBlockLevel(),this.game.initializeMapTiles();var n=Object.keys(this.game.map).filter((function(t){return"FLOOR"===e.game.map[t].type})),i=Object.keys(this.game.map).filter((function(t){return"SAFE"==e.game.map[t].type}));this.placeCogInSafeZone(i);var a=this.game.getFirstPlayer();a&&(a.upgrade_points+=1,a.restoreFullEnergy()),Object.keys(this.game.map).filter((function(t){return"COVER_PLACEHOLDER"===e.game.map[t].type})).forEach((function(t){var n=t.split(",").map((function(t){return parseInt(t)}));!function(t,e){Nn(t,e,In.point)}({x:n[0],y:n[1]},e.game)}));for(var o=0;o<this.data.emergenceHoles;o++){var s=Pt(this.getEmptyTileKeys());if(!s)break;var c=s.split(",").map((function(t){return parseInt(t)}));this.addEmerenceHole({x:c[0],y:c[1]})}for(var u=Pt([0,0,0,1]),l=0;l<u;l++){var f=Pt(n);if(!f)break;var d=f.split(",").map((function(t){return parseInt(t)}));this.addCogTagLoot({x:d[0],y:d[1]})}this.data.enemies.forEach((function(n){var r=Pt(e.getEmptyGroundTileKeys()).split(",").map((function(t){return parseInt(t)}));t["add".concat(n)](e,{x:r[0],y:r[1]})}));var p=this.enemies().reduce((function(t,e){return t+e.durability}),0),g=Math.round(p/2*.5),y=Pt(n);if(y){var v=y.split(",").map((function(t){return parseInt(t)}));this.addAmmoLoot({x:v[0],y:v[1]},g)}for(var m=Math.random()>.9?1:0,_=0;_<m;_++){var b=Pt(n);if(!b)break;var w=b.split(",").map((function(t){return parseInt(t)}));this.addGrenadeLoot({x:w[0],y:w[1]})}this.game.draw(),Bn.level_start.play()}},{key:"getEmptyTileKeys",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(this.game.map);return e.filter((function(e){return!t.game.map[e].entities.length}))}},{key:"getEmptyGroundTileKeys",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(this.game.map);return this.getEmptyTileKeys(e).filter((function(e){return"GROUND"===t.game.map[e].type}))}},{key:"getEmptyFloorTileKeys",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(this.game.map);return this.getEmptyTileKeys(e).filter((function(e){return"FLOOR"===t.game.map[e].type}))}},{key:"getPlayers",value:function(){return this.game.engine.actors.filter((function(t){return t.entityTypes.includes("PLAYING")}))}},{key:"updateUI",value:function(){this.createOrUpdateInfoBlock("gameProgress",{text:"".concat(this.data.level-1," of  ").concat(this.dataByLevel.length," city blocks cleared.")})}},{key:"checkCoverAnimations",value:function(){this.game.engine.actors.forEach((function(t){t.entityTypes.includes("USES_COVER")&&t.resetCoverAnimations()}))}},{key:"update",value:function(){D(h(r.prototype),"update",this).call(this),this.checkCoverAnimations(),this.updateUI(),this.hasWon()&&this.game.toWin(),this.hasLost()&&(Gn.lose.play(),this.game.toLose(),this.reset(),this.game.initializeGameData()),this.levelComplete()&&(this.nextLevel(),this.setWaveData(),this.initialize())}},{key:"setLevel",value:function(t){this.data.level=t,this.data.turnCount=0}},{key:"nextLevel",value:function(){this.setLevel(this.data.level+1)}},{key:"reset",value:function(){this.setLevel(1),this.initialize()}},{key:"setWaveData",value:function(){var t=this.data.level-1,e=re.get(this.dataByLevel,t,{});this.data=o(o(o({},this.data),e),{},{hasPlayedEndSound:!1})}},{key:"levelComplete",value:function(){var t=this.playerIsOnExit(),e=this.enemiesDefeated();return e&&(this.activateExitTiles(),this.data.hasPlayedEndSound||(Bn.level_end.play(),this.data.hasPlayedEndSound=!0)),t&&e}},{key:"enemiesDefeated",value:function(){return this.enemies().length<=0}},{key:"enemies",value:function(){return this.game.engine.actors.filter((function(t){return"LOCUST"===t.faction}))}},{key:"hasWon",value:function(){return this.data.level>this.dataByLevel.length}},{key:"hasLost",value:function(){var t=this.getPlayers();return!t.length||!!(t.length&&t[0].durability<=0)}},{key:"addEmerenceHole",value:function(t){var e=this;Ye(this.game.tileKey,{x:t.x-1,y:t.y-1},3,3,"EMERGENCE_GROUND",this.game.map,this.game.mapHeight,this.game.mapWidth);var n=new Da({name:"Hole",pos:t,game:this.game,passable:!0,renderer:{character:"+",sprite:"\ue80a",color:An,background:fn},timeToSpread:1,spreadCount:3,durability:1,faction:"LOCUST",enemyFactions:["COG"],speed:ie,getSpawnedEntity:function(t){return Br(e,t)},onDestroy:function(){e.game.map[Lt(t)].type="EMERGENCE_DESTROYED",Bn.emergence_01.play()},onSpawn:function(){console.log("onSpawn"),Bn.emergence_02.play()}});this.game.placeActorOnMap(n)&&(this.game.engine.addActor(n),this.game.draw())}},{key:"createAmmoStack",value:function(t,e){var n=this;return Array(t).fill("").map((function(t){var r=Hn(n.game.engine);return r.pos=e,r}))}},{key:"addAmmoLoot",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.createAmmoStack(n,t).forEach((function(t){e.game.placeActorOnMap(t)}))}},{key:"addGrenadeLoot",value:function(t){var e=Vn(this.game.engine,6);e.pos=t,this.game.placeActorOnMap(e)}},{key:"addCogTagLoot",value:function(t){var e=function(){var t=!1;return new Aa({name:"Cog Tag",passable:!0,renderer:{character:"o",sprite:"\ue89f",background:xn,color:Cn},pickupEffects:[function(e){t||(t=!0,e.upgrade_points+=1,Bn.cog_tags.play())}]})}();e.pos=t,this.game.placeActorOnMap(e)}},{key:"placePlayersInSafeZone",value:function(t){var e=this;this.getPlayers().forEach((function(n){var r=t.shift();if(r){var i={x:parseInt(r.split(",")[0]),y:parseInt(r.split(",")[1])};n.pos={x:i.x,y:n.pos.y},e.game.placeActorOnMap(n)}}))}},{key:"placeCogInSafeZone",value:function(t){var e=this;this.getCogEntites().forEach((function(n){var r=t.shift();if(r){var i={x:parseInt(r.split(",")[0]),y:parseInt(r.split(",")[1])};n.pos={x:i.x,y:i.y},e.game.placeActorOnMap(n)}}))}},{key:"getCogEntites",value:function(){return this.game.engine.actors.filter((function(t){return t.entityTypes.includes("HAS_FACTION")})).filter((function(t){return"COG"===t.faction}))}},{key:"playerIsOnExit",value:function(){var t=this.game.getFirstPlayer();if(t&&"EXIT"===this.game.map[Lt(t.pos)].type)return!0;return!1}},{key:"activateExitTiles",value:function(){var t=this.game.mapHeight/4;Ye(this.game.tileKey,{x:this.game.mapWidth-3,y:t},4,3,"EXIT",this.game.map,this.game.mapHeight,this.game.mapWidth)}}]),r}(jn),Xr={Jacinto:Kr},Yr=null,$r=function(){function t(e){var n=e.engine,r=void 0===n?null:n,i=e.map,a=void 0===i?{}:i,o=e.entityMap,c=void 0===o?{}:o,u=e.entityDictionary,l=void 0===u?{}:u,f=e.mapInitialized,h=void 0!==f&&f,d=e.tileMap,p=void 0===d?{}:d,g=e.mapWidth,y=void 0===g?28:g,v=e.mapHeight,m=void 0===v?14:v,_=e.cameraWidth,b=void 0===_?28:_,w=e.cameraHeight,x=void 0===w?14:w,k=e.tileWidth,C=void 0===k?26:k,E=e.tileHeight,A=void 0===E?26:E,S=e.tileOffset,T=void 0===S?0:S,P=e.getSelectedCharacter,O=void 0===P?function(){return!1}:P,R=e.spriteMode,L=void 0===R||R,M=e.fovActive,I=void 0!==M&&M,D=e.tileKey,N=void 0===D?he:D,F=e.mode,j=void 0===F?Xr.Flume:F,W=e.messages,G=void 0===W?[]:W;s(this,t),this.engine=r,this.map=a,this.entityMap=c,this.entityDictionary=l,this.mapInitialized=h,this.tileMap=p,this.mapWidth=y,this.mapHeight=m,this.cameraWidth=b,this.cameraHeight=x,this.tileWidth=C,this.tileHeight=A,this.tileOffset=T,this.display=new Ke({containerId:"display",width:728,height:364,tileWidth:C,tileHeight:A,tileOffset:T,game:this,mouseEnabled:!1}),this.spriteMode=L,this.fovActive=I,this.tileKey=N,this.mode=new j({game:this}),this.messages=G,this.getSelectedCharacter=O,Yr=this}return u(t,[{key:"initializeMode",value:function(){this.mode.initialize()}},{key:"updateMode",value:function(){this.mode.update()}},{key:"randomlyPlaceActorOnMap",value:function(t){for(var e=0,n=!1;!n;){var r=Vt(this.map).coordinates;if(this.canOccupyPosition(r,t)){var i=this.map[Lt(r)];t.pos=o({},r),i.entities.push(t),n=!0}(e+=1)>=100&&(n=!0)}return n}},{key:"randomlyPlaceAllActorsOnMap",value:function(){var t=this;this.engine.actors.forEach((function(e){t.randomlyPlaceActorOnMap(e)}))}},{key:"placeActorsOnMap",value:function(){var t=this;this.engine.actors.forEach((function(e){var n=t.map[Lt(e.pos)];n?n.entities.push(e):console.log("could not place ".concat(e.id,": ").concat(e.name," on map"))}))}},{key:"placeActorOnMap",value:function(t){var e=this.map[Lt(t.pos)];return!!e&&(e.entities.push(t),!0)}},{key:"removeActorFromMap",value:function(t){var e=this.map[Lt(t.pos)];return!!e&&(this.map[Lt(t.pos)].entities=e.entities.filter((function(e){return e.id!==t.id})),!0)}},{key:"createLevel",value:function(){var t=new xt.Arena(this.mapWidth,this.mapHeight),e=[];t.create(function(t,n,r){var i=t+","+n,a="GROUND";r&&(a="WALL"),$e({map:this.map,key:i,tileKey:this.tileKey,tileType:a}),e.push(i)}.bind(this))}},{key:"createEmptyLevel",value:function(){for(var t=0;t<this.mapHeight;t++)for(var e=0;e<this.mapWidth;e++){var n="".concat(e,",").concat(t),r=Pt(["GROUND","GROUND_ALT","GROUND_ALT","GROUND_ALT"]);$e({map:this.map,key:n,tileKey:this.tileKey,tileType:r})}}},{key:"createCustomLevel",value:function(t){var e=this;Object.keys(t.tiles).forEach((function(n,r){var i,a=null===(i=t.tiles[n].data)||void 0===i?void 0:i.type;a||(a=Pt(["GROUND","GROUND_ALT","GROUND_ALT","GROUND_ALT"])),$e({map:e.map,key:n,tileKey:e.tileKey,tileType:a})}))}},{key:"canOccupyPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{passable:!1},n=!1,r=this.map[Lt(t)];if(r){var i=r.entities.filter((function(t){return!t.passable})).length>0;if(!i||e.passable){var a=this.map[Lt(t)];this.tileKey[a.type].passable&&(n=!0)}}return n}},{key:"canPassPositionWhenThrown",value:function(t){var e=!1,n=this.map[Lt(t)];if(n){var r=n.entities.filter((function(t){return!t.passable})).length>0;if(!r){var i=this.map[Lt(t)];this.tileKey[i.type].passable&&(e=!0)}}return e}},{key:"rangedCursorCanOccupyPosition",value:function(t){var e=!1,n=this.map[Lt(t)];if(n){var r=this.map[Lt(t)];this.tileKey[r.type].passable&&(e=!0)}return e}},{key:"cursorCanOccupyPosition",value:function(t){var e=!1;return this.map[Lt(t)]&&(e=!0),e}},{key:"show",value:function(t){this.display.initialize(t)}},{key:"getRenderWidth",value:function(){return this.cameraWidth}},{key:"getRenderHeight",value:function(){return this.cameraHeight}},{key:"setRenderWidth",value:function(t){return this.cameraWidth=t}},{key:"setRenderHeight",value:function(t){return this.cameraHeight=t}},{key:"getRenderOffsetX",value:function(){var t=Math.floor(this.getRenderWidth()/2),e=this.getReferencePosition(),n=0;return e&&(n=e.x-t),-1*Tt(n,0,this.mapWidth-this.getRenderWidth())}},{key:"getRenderOffsetY",value:function(){var t=Math.floor(this.getRenderHeight()/2),e=this.getReferencePosition(),n=0;return e&&(n=e.y-t),-1*Tt(n,0,this.mapHeight-this.getRenderHeight())}},{key:"getReferencePosition",value:function(){return this.getPlayerPosition()}},{key:"getRenderMap",value:function(t){var e={};for(var n in t){var r=n.split(","),i=parseInt(r[0]),a=parseInt(r[1]),o=i+this.getRenderOffsetX(),s=a+this.getRenderOffsetY();o>=0&&o<=this.getRenderWidth()&&s>=0&&s<=this.getRenderHeight()&&(e["".concat(o,",").concat(s)]=t[n])}return e}},{key:"processTileMap",value:function(t){var e=this.getRenderMap(this.map),n=null;this.fovActive&&(n=this.getPlayerPosition());for(var r in e){var i=r.split(","),a=parseInt(i[0]),o=parseInt(i[1]),s=e[r];if(this.fovActive){var c=a-this.getRenderOffsetX(),u=o-this.getRenderOffsetY();if(Wt(n,{x:c,y:u})>5){t(r,a,o,"","#000","rgba(0,0,0,0.2)");continue}}var l=this.tileKey[s.type],f=this.animateTile(s,l),h=f.character,d=f.foreground,p=f.background,g=s.entities.filter((function(t){return t.entityTypes.includes("RENDERING")}));if(g.length>0){var y=g[g.length-1];h=(f=this.animateEntity(y)).character,d=f.foreground,f.background&&(p=f.background)}t(r,a,o,h,d,p)}}},{key:"initializeMapTiles",value:function(){var t=this;if(this.mapInitialized)return!1;this.mapInitialized=!0,this.processTileMap((function(e,n,r,i,a,o){var s=t.display.createTile(n,r,i,a,o);t.tileMap[e]=s}))}},{key:"getPlayers",value:function(){return this.engine.actors.filter((function(t){return t.entityTypes.includes("PLAYING")}))}},{key:"getFirstPlayer",value:function(){var t=this.getPlayers();return t.length?t[0]:null}},{key:"getPlayerPosition",value:function(){var t=this.getFirstPlayer();return t?t.getPosition():null}},{key:"draw",value:function(){var t=this;this.processTileMap((function(e,n,r,i,a,o){t.display.updateTile(t.tileMap[e],i,a,o)})),this.display.draw()}},{key:"getEntityRenderer",value:function(t){return this.spriteMode&&t.hasOwnProperty("sprite")?o(o({},t),{},{character:t.sprite,foreground:t.color}):o(o({},t),{},{foreground:t.color})}},{key:"getTileRenderer",value:function(t){return this.spriteMode&&t.hasOwnProperty("sprite")?o(o({},t),{},{character:t.sprite}):t}},{key:"animateEntity",value:function(t){var e=t.getRenderer(),n=this.getEntityRenderer(e),r=n.character,i=n.foreground,a=n.background,o=n.animation;if(o){var s=this.getEntityRenderer(o[t.currentFrame]);r=s.character,i=s.foreground,a=s.background,t.currentFrame=(t.currentFrame+1)%o.length}return{character:r,foreground:i,background:a}}},{key:"animateTile",value:function(t,e){var n=this.getTileRenderer(e),r=n.character,i=n.foreground,a=n.background;if(e.animation){var o=this.getTileRenderer(e.animation[t.currentFrame]);r=o.character,i=o.foreground,a=o.background,t.currentFrame=(t.currentFrame+1)%e.animation.length}return{character:r,foreground:i,background:a}}},{key:"addActor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.engine,n=this.placeActorOnMap(t);return!!n&&(e.actors.push(t),this.draw(),!0)}},{key:"placeAndDrawActor",value:function(t){this.placeActorsOnMap(),this.draw()}},{key:"removeActor",value:function(t){this.engine.actors=this.engine.actors.filter((function(e){return e.id!==t.id})),this.removeActorFromMap(t),this.draw()}},{key:"initializeUI",value:function(t,e){this.show(e),t.current.focus()}},{key:"initializeGameData",value:function(){var t=this;this.engine.game=this;var e=this.getSelectedCharacter();this.engine.actors=[e],this.engine.actors.forEach((function(e){e.game=t})),this.initializeMode(),this.draw()}},{key:"initialize",value:function(t,e){var n=this;this.initializeUI(t,e),this.initializeGameData(),this.spriteMode&&(setTimeout((function(){n.spriteMode=!1,n.draw()}),500),setTimeout((function(){n.spriteMode=!0,n.draw()}),500))}},{key:"addMessage",value:function(t,e){var n=new Ae({text:t,type:e});this.messages.push(n)}}]),t}(),Qr=function(t,e){if(!e.isRunning){var n=e.actors[e.currentActor],r=null;try{r=n.getKeymap()}catch(a){console.log("keypress error"),console.log(a)}if(r){var i=t.key;if(!(i in r))return;(0,r[i])().setAsNextAction(),e.start()}}},Zr=u((function t(e){var n=e.game,r=void 0===n?null:n,i=e.passable,a=void 0!==i&&i,o=e.name,c=void 0===o?"nameless":o;s(this,t);var u=ne()();this.entityTypes=["Entity"],this.id=u,this.name=c,this.game=r||Yr,this.passable=a,this.active=!0})),Jr=["processDelay"],ti=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.processDelay,a=void 0===i?0:i,c=Se(t,Jr);return s(this,n),(r=e.call(this,o({},c))).processDelay=a,r}return u(n,[{key:"perform",value:function(){return this.actor.energy-=this.energyCost,this.actor.destroy(),{success:!0,alternative:null}}}]),n}(Le),ei=["engine"],ni=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.engine,a=Se(t,ei);return s(this,n),(r=e.call(this,o({},a))).engine=i,r}return u(n,[{key:"perform",value:function(){var t=E(S().mark((function t(){var e,n;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=!0,n=null,console.log("".concat(this.actor.name," is cranking its engine.")),t.prev=3,t.next=6,this.engine.start();case 6:this.actor.energy-=this.energyCost,t.next=14;break;case 9:t.prev=9,t.t0=t.catch(3),console.log("EngineCrank"),console.log(t.t0),n=new ti({game:this.game,actor:this.actor,energyCost:ie});case 14:return t.abrupt("return",{success:e,alternative:n});case 15:case"end":return t.stop()}}),t,this,[[3,9]])})));return function(){return t.apply(this,arguments)}}()}]),n}(Le),ri=["children","engine"],ii=function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.children,a=void 0===i?[]:i,c=t.engine,u=void 0===c?new ja({}):c,l=Se(t,ri);return s(this,n),(r=e.call(this,o({},l))).entityTypes=r.entityTypes.concat("PARENT"),r.children=a,r.engine=u,r.isInitialized=!1,r}return u(n,[{key:"destroyChild",value:function(t){t.energy=0;var e=this.game.map[Lt(t.pos)];this.game.map[Lt(t.pos)].entities=e.entities.filter((function(e){return e.id!==t.id})),this.engine.actors=this.engine.actors.filter((function(e){return e.id!==t.id})),this.game.draw()}},{key:"canAttack",value:function(t){return!this.children.map((function(t){return t.id})).includes(t.id)}},{key:"initialize",value:function(){var t=this;this.isInitialized=!0,this.engine.game=this.game,this.engine.actors=this.children,this.engine.actors.forEach((function(e){e.game=t.game,e.destroy=function(){t.destroyChild(e)},e.canAttack=t.canAttack.bind(t),t.game.placeActorOnMap(e),t.engine.addActor(e),t.game.draw()}))}},{key:"getAction",value:function(t){return this.isInitialized||this.initialize(),new ni({game:t,actor:this,engine:this.engine,energyCost:ie,processDelay:10})}}]),n}(t)},ai=["presentingUI"],oi=["initiatedBy","range"],si=function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=Object.assign({},t);return s(this,n),(r=e.call(this,o({},i))).entityTypes=r.entityTypes.concat("HAS_TARGETING_CURSOR"),r.cursorIsActive=!1,r.cursorPositions=[],r.animations=[],r}return u(n,[{key:"setCursorIsActive",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.cursorIsActive=t}},{key:"activateCursor",value:function(t){this.setCursorPositions(t),this.setCursorIsActive(!0),this.resetAnimations()}},{key:"deactivateCursor",value:function(){this.setCursorIsActive(!1),this.removeAnimations()}},{key:"getCursorPositions",value:function(){return this.cursorPositions}},{key:"setCursorPositions",value:function(t){return this.cursorPositions=t,this.getCursorPositions()}},{key:"addAnimations",value:function(){var t=this,e=this.getCursorPositions();e.length&&e.forEach((function(e){var n=t.game.display.addAnimation(Ge.BLINK_BOX,{x:e.x,y:e.y,color:le.base3});if(t.animations.push(n),t.entityTypes.includes("PLAYING")){var r=t.getRangedAttackChance(e),i=t.game.display.addAnimation(Ge.TEXT_OVERLAY,{x:e.x,y:e.y,color:le.base3,text:"".concat(Math.round(100*r),"%")});t.animations.push(i)}}))}},{key:"removeAnimations",value:function(){var t=this;this.animations.length&&this.animations.forEach((function(e){return t.game.display.removeAnimation(e.id)})),this.animations=[]}},{key:"resetAnimations",value:function(){this.removeAnimations(),this.addAnimations()}},{key:"moveCursorToPosition",value:function(t){var e=this.getCursorPositions(),n=t.x-e[0].x,r=t.y-e[0].y,i=e.map((function(t){return{x:t.x+n,y:t.y+r}}));return this.setCursorPositions(i),this.resetAnimations(),i}},{key:"moveCursorInDirection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.getCursorPositions().map((function(n){return{x:n.x+t[0]*e,y:n.y+t[1]*e}}));return this.setCursorPositions(n),this.resetAnimations(),n}},{key:"updateCursorNode",value:function(t,e){var n=this.animations[t];n&&e.forEach((function(t){n.node[t.key](t.value)}))}},{key:"updateCursorNodeByPosition",value:function(t,e){var n=t.x,r=t.y,i=this.animations.find((function(t){return t.x===n&&t.y===r}));i&&e.forEach((function(t){i.node[t.key](t.value)}))}},{key:"updateAllCursorNodes",value:function(t){var e=this;this.getCursorPositions().forEach((function(n,r){var i=e.animations[r];t.forEach((function(t){i.node[t.key](t.value)}))}))}},{key:"destroy",value:function(){this.removeAnimations(),D(h(n.prototype),"destroy",this).call(this)}}]),n}(t)},ci=["shapePattern"],ui=["attackDamage"],li=function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.attackDamage,a=void 0===i?1:i,c=Se(t,ui);return s(this,n),(r=e.call(this,o({},c))).entityTypes=r.entityTypes.concat("ATTACKING"),r.attackDamage=a,r}return u(n,[{key:"getAttackDamage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.attackDamage+t}},{key:"canAttack",value:function(t){return!0}},{key:"attack",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=!1,r=this.game.map[Lt(t)];if(!r)return n;var i=qt(r.entities);if(i.length>0){var a=i[0];if(this.canAttack(a)){var o=this.getAttackDamage(e);this.entityTypes.includes("EQUIPING")&&this.equipment.forEach((function(t){t.item&&t.item.entityTypes.includes("ATTACKING")&&(o+=t.item.getAttackDamage())})),this.game.addMessage("".concat(this.name," does ").concat(o," to ").concat(a.name),Ee.DANGER),a.decreaseDurability(o),this.entityTypes.includes("PLAYING")&&this.game.display.shakeScreen({intensity:1}),n=!0}}return n}}]),n}(t)},fi=["attackRange","baseRangedAccuracy","baseRangedDamage","magazineSize","rangedHitSounds","rangedMissSounds"],hi=[Gn.chop_0,Gn.chop_1],di=[Gn.release_0],pi=function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.attackRange,a=void 0===i?0:i,c=t.baseRangedAccuracy,u=void 0===c?0:c,l=t.baseRangedDamage,f=void 0===l?0:l,h=t.magazineSize,d=void 0===h?0:h,p=t.rangedHitSounds,g=void 0===p?[]:p,y=t.rangedMissSounds,v=void 0===y?[]:y,m=Se(t,fi);return s(this,n),(r=e.call(this,o({},m))).entityTypes=r.entityTypes.concat("RANGED_ATTACKING"),r.attackRange=a,r.baseRangedAccuracy=u,r.baseRangedDamage=f,r.magazineSize=d,r.magazine=d,r.rangedHitSounds=g,r.rangedMissSounds=v,r}return u(n,[{key:"getRangedAttackChance",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.getRangedWeaponAccuracy(),n=t?this.getRangedAttackCoverDebuff(t):0,r=[e,n],i=r.reduce((function(t,e){return t+e}),this.baseRangedAccuracy);return Math.max(i,0)}},{key:"getRangedAttackCoverDebuff",value:function(t){var e=this;return jt(this.getPosition(),t).reduce((function(t,n){var r=e.game.map[Lt(n)];if(!r)return 0;if(Qe({tile:r,tag:"WALL"}))return t-1;var i=Kt(r.entities,"COVERING"),a=0;if(i.length>0){if(e.entityTypes.includes("USES_COVER")&&e.getCoveredByIds().includes(i[0].id))return t;a=i[0].accuracyModifer}return t+a}),0)}},{key:"getRangedAttackDistanceDebuff",value:function(t){return Nt(this.game,t,this.getPosition(),8).length/(3*this.getAttackRange())*-1}},{key:"getAttackRange",value:function(){var t=this.attackRange;return this.entityTypes.includes("EQUIPING")&&this.equipment.forEach((function(e){e.item&&e.item.entityTypes.includes("RANGED_ATTACKING")&&(t+=e.item.attackRange)})),t}},{key:"getRangedWeaponAccuracy",value:function(){var t=0;return this.entityTypes.includes("EQUIPING")&&this.equipment.forEach((function(e){e.item&&e.item.entityTypes.includes("RANGED_ATTACKING")&&(t+=e.item.getRangedAttackChance())})),t}},{key:"getRangedAttackDamage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.baseRangedDamage+this.getRangedWeaponDamage()+t}},{key:"getRangedWeaponDamage",value:function(){var t=0;return this.entityTypes.includes("EQUIPING")&&this.equipment.forEach((function(e){e.item&&e.item.entityTypes.includes("RANGED_ATTACKING")&&(t+=e.item.getRangedAttackDamage())})),t}},{key:"canRangedAttack",value:function(t){return!0}},{key:"getEquipedWeapons",value:function(){return this.entityTypes.includes("EQUIPING")?this.equipment.map((function(t){if(t.item&&t.item.entityTypes.includes("RANGED_ATTACKING"))return t.item})).filter((function(t){return t})):[]}},{key:"decrementMagazine",value:function(){this.magazine=Math.max(0,this.magazine-1)}},{key:"useAmmo",value:function(t){var e=this;this.getEquipedWeapons().forEach((function(n){n.decrementMagazine();var r=e.contains("Ammo");r&&(e.removeFromContainer(r),r.move(t),r.destroy())}))}},{key:"reload",value:function(){var t=this,e=!1;return this.entityTypes.includes("CONTAINING")&&this.getEquipedWeapons().forEach((function(n){for(var r=n.magazineSize-n.magazine,i=0;i<r;i++){t.contains("Ammo")&&(n.magazine+=1,e=!0)}})),!!e&&(Bn.reload.play(),!0)}},{key:"rangedAttack",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=!1,i=!1,a=this.game.map[Lt(t)];if(!a)return[r,i];var o=qt(a.entities);if(o.length>0){var s=o[0];if(this.canRangedAttack(s)){var c=this.getRangedAttackChance(t),u=c+n;i=Math.random()<u;var l=s.getPosition();if(this.useAmmo(l),!i)return this.playMissSound(),this.animateMiss(l),[r=!0,i];var f=this.getRangedAttackDamage(e);this.game.addMessage("".concat(this.name," does ").concat(f," to ").concat(s.name),Ee.DANGER),s.decreaseDurability(f),this.entityTypes.includes("PLAYING")&&this.game.display.shakeScreen({intensity:1}),this.playHitSound(),r=!0}}return[r,i]}},{key:"animateMiss",value:function(t){this.game.display.addAnimation(Ge.TEXT_FLOAT,o(o({},t),{},{color:"#fff",text:"miss"}))}},{key:"playMissSound",value:function(){Pt(this.getMissSounds()).play()}},{key:"playHitSound",value:function(){Pt(this.getHitSounds()).play()}},{key:"getHitSounds",value:function(){var t=this.getWeaponSounds("rangedHitSounds");return t.length>0?t:hi}},{key:"getMissSounds",value:function(){var t=this.getWeaponSounds("rangedMissSounds");return t.length>0?t:di}},{key:"getWeaponSounds",value:function(t){var e=[];return this.getEquipedWeapons().forEach((function(n){e.push.apply(e,U(n[t]))})),e}}]),n}(t)},gi=["name","equipmentType"],yi=function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.name,a=void 0===i?"nameless":i,c=t.equipmentType,u=void 0===c?ve:c,l=Se(t,gi);return s(this,n),(r=e.call(this,o({},l))).entityTypes=r.entityTypes.concat("EQUIPABLE"),r.name=a,r.equipmentType=u,r}return u(n)}(t)},vi=["actions","speed","energy"],mi=function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.actions,a=void 0===i?[]:i,c=t.speed,u=void 0===c?100:c,l=(t.energy,Se(t,vi));return s(this,n),(r=e.call(this,o({},l))).entityTypes=r.entityTypes.concat("ACTING"),r.actions=a,r.speed=u,r.energy=u,r.lastActionResult=null,r}return u(n,[{key:"getLastActionResult",value:function(){return this.lastActionResult}},{key:"resetLastActionResult",value:function(){return this.lastActionResult=null}},{key:"lastActionFailed",value:function(){var t=this.getLastActionResult();return!!t&&!t.success}},{key:"lastActionSucceded",value:function(){return!this.lastActionFailed()}},{key:"getAction",value:function(){var t=Pt(this.actions);if(t)return t}},{key:"gainEnergy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.speed;this.energy+=t}},{key:"restoreFullEnergy",value:function(){this.energy=this.speed}},{key:"hasEnoughEnergy",value:function(){return this.energy>0}}]),n}(t)},_i=["pos","renderer"],bi=function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.pos,a=void 0===i?{x:0,y:0}:i,c=t.renderer,u=Se(t,_i);return s(this,n),(r=e.call(this,o({},u))).entityTypes=r.entityTypes.concat("RENDERING"),r.pos=a,r.renderer=o({},c),r.currentFrame=0,r}return u(n,[{key:"getRenderer",value:function(){return this.renderer}},{key:"getPosition",value:function(){return this.pos}},{key:"move",value:function(t){var e=this,n=!1;if(this.game.canOccupyPosition(t,this)){var r=this.game.map[Lt(this.pos)];this.game.map[Lt(this.pos)]=o(o({},r),{},{entities:r.entities.filter((function(t){return t.id!==e.id}))}),this.pos=t,this.game.map[Lt(t)].entities.push(this),n=!0}return n}},{key:"shove",value:function(t,e){var n=this.game.map[Lt(t)];return n&&n.entities.map((function(t){if(t.entityTypes.includes("PUSHABLE")&&!t.passable&&t.pushable){var n={x:t.pos.x+e[0],y:t.pos.y+e[1]};t.move(n)}})),this.move(t)}}]),n}(t)},wi=["equipment"],xi=function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.equipment,a=void 0===i?_e():i,c=Se(t,wi);return s(this,n),(r=e.call(this,o({},c))).entityTypes=r.entityTypes.concat("EQUIPING"),r.equipment=a,r}return u(n,[{key:"hasItemNameEquipped",value:function(t){return this.equipment.filter((function(e){return!(!e.item||e.item.name!==t)})).length>0}},{key:"getItemInSlot",value:function(t){var e=this.equipment.filter((function(e){return null===e.item&&e.type===t}));if(e.length>0)return!1;var n=this.equipment.find((function(e){return e.type===t}));return!!n&&(!!n.item&&n.item)}},{key:"equip",value:function(t,e){var n=!1;return this.equipment=this.equipment.map((function(r){return n||r.type!==t||null!==r.item||(r.item=e,n=!0,Gn.equip_1.play()),r})),n}},{key:"unequip",value:function(t){this.equipment=this.equipment.map((function(e){return e.item&&e.item.id===t.id&&(e.item=null,Gn.equip_0.play()),e}))}}]),n}(t)},ki=["charge"],Ci=["keymap"],Ei=function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.keymap,a=void 0===i?{}:i,c=Se(t,Ci);return s(this,n),(r=e.call(this,o({},c))).entityTypes=r.entityTypes.concat("PLAYING"),r.nextAction=null,r.keymap=a,r}return u(n,[{key:"setNextAction",value:function(t){this.nextAction=t}},{key:"getAction",value:function(){var t=this.nextAction;return this.nextAction=null,t}}]),n}(t)},Ai=function(t){if(t.energy=0,t.pos){var e=t.game.map[Lt(t.pos)];e&&(e.entities=e.entities.filter((function(e){return e.id!==t.id})))}t.game.engine.removeStatusEffectByActorId(t.id),t.game.draw(),t.active=!1},Si=["cloneLimit"],Ti=["accuracyModifer","damageModifer"],Pi=function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.accuracyModifer,a=void 0===i?0:i,c=t.damageModifer,u=void 0===c?0:c,l=Se(t,Ti);return s(this,n),(r=e.call(this,o({},l))).entityTypes=r.entityTypes.concat("COVERING"),r.providesCover=!0,r.accuracyModifer=a,r.damageModifer=u,r}return u(n,[{key:"isProvidingCover",value:function(){return this.providesCover&&(this.accuracyModifer<0||this.damageModifer<0)}}]),n}(t)},Oi=["targetPos","additionalDamage","processDelay"],Ri=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.targetPos,a=t.additionalDamage,c=void 0===a?0:a,u=t.processDelay,l=void 0===u?100:u,f=Se(t,Oi);return s(this,n),(r=e.call(this,o({},f))).targetPos=i,r.additionalDamage=c,r.processDelay=l,r.particleTemplate=xe.damage,r}return u(n,[{key:"perform",value:function(){var t;if(!this.actor.entityTypes.includes("ATTACKING"))return{success:!0,alternative:new Kn({message:"Ooh I don't know how to attack",game:this.game,actor:this.actor,energyCost:0})};(t=this.actor.attack(this.targetPos,this.additionalDamage))&&(Pt([Gn.chop_0,Gn.chop_1]).play(),this.addParticle(1,o({},this.targetPos),{x:0,y:0}));return{success:t,alternative:null}}}]),n}(Le),Li=["targetPos","processDelay"],Mi=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.targetPos,a=t.processDelay,c=void 0===a?25:a,u=Se(t,Li);return s(this,n),(r=e.call(this,o({},u))).targetPos=i,r.processDelay=c,r}return u(n,[{key:"perform",value:function(){var t=!1,e=null;return this.actor.move(this.targetPos)?t=!0:e=new Ri({targetPos:this.targetPos,game:this.game,actor:this.actor,energyCost:this.energyCost}),{success:t,alternative:e}}}]),n}(Le),Ii=function(t){f(n,t);var e=y(n);function n(t){var r=Object.assign({},t);return s(this,n),e.call(this,o({},r))}return u(n,[{key:"perform",value:function(){var t=!1,e=null;this.actor.passable=!1;var r=D(h(n.prototype),"perform",this).call(this);(r.success&&(this.actor.path.shift(),t=!0),0===this.actor.path.length&&(t=!0,e=new ti({game:this.game,actor:this.actor,energyCost:ie,processDelay:0})),r.alternative)&&(this.actor.attack(this.targetPos)&&(e=new ti({game:this.game,actor:this.actor,energyCost:ie,processDelay:0})));return{success:t,alternative:e}}}]),n}(Mi),Di=["path","targetPos","attackDamage","range"],Ni=["damageToSelf"],Fi=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.damageToSelf,a=Se(t,Ni);return s(this,n),(r=e.call(this,o({},a))).damageToSelf=i,r.onSuccess=function(){r.actor.decreaseDurabilityWithoutDefense(i)},r.onFailure=function(){r.actor.destroy()},r}return u(n)}(Ri),ji=["targetPos","damageToSelf","processDelay"],Wi=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.targetPos,a=t.damageToSelf,c=void 0===a?1:a,u=t.processDelay,l=void 0===u?25:u,f=Se(t,ji);return s(this,n),(r=e.call(this,o({},f))).targetPos=i,r.processDelay=l,r.damageToSelf=c,r}return u(n,[{key:"perform",value:function(){var t=!1,e=null;return this.actor.move(this.targetPos)?(this.actor.energy-=this.energyCost,t=!0):(t=!0,e=new Fi({targetPos:this.targetPos,game:this.game,actor:this.actor,energyCost:ie,damageToSelf:this.damageToSelf})),{success:t,alternative:e}}}]),n}(Le),Gi=["path","direction","attackDamage","range"],zi=function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.path,a=void 0!==i&&i,c=t.direction,u=void 0===c?{x:0,y:0}:c,l=t.attackDamage,f=void 0===l?1:l,h=t.range,d=void 0===h?3:h,p=Se(t,Gi);return s(this,n),(r=e.call(this,o({},p))).entityTypes=r.entityTypes.concat("DIRECTIONAL_PROJECTING"),r.path=a,r.direction=u,r.attackDamage=f,r.range=d,r}return u(n,[{key:"createPath",value:function(t){for(var e=[],n=1;n<this.range+1;n++)e.push({x:this.pos.x+this.direction[0]*n,y:this.pos.y+this.direction[1]*n});this.path=e}},{key:"getAction",value:function(t){var e=this,n={x:this.pos.x+this.direction[0],y:this.pos.y+this.direction[1]};return this.passable=!1,this.range>0?new Wi({targetPos:n,game:t,actor:this,energyCost:ie,damageToSelf:1,onSuccess:function(){return e.range-=1},onAfter:function(){e.energy<=100&&t.engine.setActorToPrevious()}}):new ti({game:t,actor:this,energyCost:0})}}]),n}(t)},Ui=["targetPos","direction"],Bi=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.targetPos,a=t.direction,c=Se(t,Ui);return s(this,n),(r=e.call(this,o({},c))).targetPos=i,r.direction=a,r}return u(n,[{key:"perform",value:function(){var t=!1,e=null;return this.actor.shove(this.targetPos,this.direction)?(this.actor.energy-=this.energyCost,t=!0):(t=!0,e=new Ri({targetPos:this.targetPos,game:this.game,actor:this.actor,energyCost:ie})),{success:t,alternative:e}}}]),n}(Le),Hi=["path","direction","range"],Vi=function(t){f(n,t);var e=y(n);function n(t){var r,i=Object.assign({},t);return s(this,n),(r=e.call(this,o({},i))).processDelay=0,r}return u(n,[{key:"perform",value:function(){var t=!1,e=null;this.actor.passable=!1;var r=D(h(n.prototype),"perform",this).call(this);return r.success&&(this.actor.path.shift(),t=!0),0===this.actor.path.length&&(t=!0,e=new ti({game:this.game,actor:this.actor,energyCost:ie,processDelay:0})),r.alternative&&this.actor.attack(this.targetPos),{success:t,alternative:e}}}]),n}(Mi),qi=["owner_id","path","targetPos","attackDamage","range"],Ki=["isClone","cloneCount","clonePattern"],Xi=["targetEntity"],Yi=function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.targetEntity,a=void 0===i?null:i,c=Se(t,Xi);return s(this,n),(r=e.call(this,o({},c))).entityTypes=r.entityTypes.concat("CHASING"),r.targetEntity=a,r}return u(n,[{key:"getAction",value:function(t){if(this.targetEntity){var e=Nt(t,this.targetEntity.pos,this.pos),n=e.length>0?e[0]:this.pos;return new Mi({targetPos:n,game:t,actor:this,energyCost:ie})}return new Kn({message:"Where are they?",game:t,actor:this,energyCost:ie})}}]),n}(t)},$i=["targetPos","entity","interrupt","forcePlacement"],Qi=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.targetPos,a=t.entity,c=t.interrupt,u=void 0===c||c,l=t.forcePlacement,f=void 0!==l&&l,h=Se(t,$i);return s(this,n),(r=e.call(this,o({},h))).targetPos=i,r.entity=a,r.interrupt=u,r.forcePlacement=f,r}return u(n,[{key:"perform",value:function(){var t=!1,e=!!this.forcePlacement||this.game.canOccupyPosition(this.targetPos,this.entity),n=this.game.map[Lt(this.targetPos)];return e&&n&&(this.entity.pos=this.targetPos,n.entities.push(this.entity),this.game.engine.addActorAsNext(this.entity),t=!0),{success:t,alternative:null}}}]),n}(Le),Zi=["targetEntity","getProjectile"],Ji=["draggedEntity"],ta=["draggable"],ea=function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.draggable,a=void 0===i||i,c=Se(t,ta);return s(this,n),(r=e.call(this,o({},c))).draggable=a,r.entityTypes=r.entityTypes.concat("DRAGGABLE"),r}return u(n)}(t)},na=["pushable"],ra=function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.pushable,a=void 0===i||i,c=Se(t,na);return s(this,n),(r=e.call(this,o({},c))).pushable=a,r.entityTypes=r.entityTypes.concat("PUSHABLE"),r}return u(n)}(t)},ia=["timeToSpread","spreadCount"],aa=["getSpawnedEntity","timeToSpread","spreadCount","onSpawn"],oa=["durability","defense","onDestroy"],sa=function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.durability,a=void 0===i?1:i,c=t.defense,u=void 0===c?0:c,l=t.onDestroy,f=void 0===l?function(){return null}:l,h=Se(t,oa);return s(this,n),(r=e.call(this,o({},h))).entityTypes=r.entityTypes.concat("DESTRUCTABLE"),r.durability=a,r.durabilityMax=a,r.defense=u,r.onDestroy=f,r.actorSprite=r.renderer.sprite,r.actorCharacter=r.renderer.character,r}return u(n,[{key:"getDefense",value:function(){var t=this.defense;return this.entityTypes.includes("EQUIPING")&&this.equipment.forEach((function(e){e.item&&e.item.entityTypes.includes("DESTRUCTABLE")&&(t+=e.item.getDefense())})),t}},{key:"decreaseDurabilityWithoutDefense",value:function(t){this.durability-=t,this.durability<=0&&this.destroy()}},{key:"decreaseDurability",value:function(t){var e=this.durability,n=t-this.getDefense(),r=e-n;this.durability=Math.min(e,r),this.addAnimation(-n),this.updateActorRenderer(),this.entityTypes.includes("PLAYING")&&this.shakePlayer(t),this.durability<=0&&this.destroy()}},{key:"shakePlayer",value:function(){var t=Lt(this.getPosition()),e=this.game.tileMap[t];this.game.display.shakeNode({node:e,intensity:2})}},{key:"increaseDurability",value:function(t){this.durability+=t,this.addAnimation(+t),this.updateActorRenderer()}},{key:"updateActorRenderer",value:function(){this.durability===this.durabilityMax?(this.renderer.sprite=this.actorSprite,this.renderer.character=this.actorCharacter):(this.renderer.sprite=this.durability,this.renderer.character=this.durability),this.game.draw()}},{key:"addAnimation",value:function(t){var e="",n="#dc322f";t>=0&&(e="+",n="#3e7dc9");var r=e+t;this.game.display.addAnimation(Ge.TEXT_FLOAT,o(o({},this.getPosition()),{},{color:n,text:r}))}},{key:"destroy",value:function(){this.onDestroy(this),Ai(this)}}]),n}(t)},ca=["pos","direction","life","speed","type","path"],ua=["messages","messageType"],la=function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=Object.assign({},t);return s(this,n),(r=e.call(this,o({},i))).entityTypes=r.entityTypes.concat("BURNABLE"),r.canBurn=!0,r.willResetCanBurn=!1,r}return u(n,[{key:"resetCanBurn",value:function(){this.willResetCanBurn=!1,this.canBurn=!0}},{key:"burn",value:function(){return!!this.canBurn&&(this.decreaseDurability(2),!0)}}]),n}(t)},fa=["flammability","explosivity"],ha=function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.flammability,a=void 0===i?1:i,c=t.explosivity,u=void 0===c?1:c,l=Se(t,fa);return s(this,n),(r=e.call(this,o({},l))).entityTypes=r.entityTypes.concat("EXPLODING"),r.flammability=a,r.explosivity=u,r}return u(n,[{key:"enflame",value:function(){var t=this;Array(this.flammability).fill("").map((function(e){return new Ia({name:"Pyro",pos:o({},t.pos),game:t.game,renderer:{character:"*",color:le.base3,background:le.red},timeToSpread:1,spreadCount:1,durability:1,attackDamage:1,speed:100})})).forEach((function(e){t.game.placeActorOnMap(e),t.game.engine.addActor(e)}))}},{key:"explode",value:function(){var t=this,e={x_offset:0,y_offset:0,positions:Qt({x:0,y:0},this.explosivity)};e.positions.forEach((function(n){var r={x:t.pos.x+n.x+e.x_offset,y:t.pos.y+n.y+e.y_offset},i=t.game.map[Lt(r)];if(i){i.type="BURNT";var a=qt(i.entities.filter((function(e){return e.id!==t.id})));a.length>0&&a.forEach((function(e){var n=t.attackDamage?t.attackDamage:t.explosivity;t.game.addMessage("".concat(t.name," does ").concat(n," to ").concat(e.name),Ee.DANGER),e.decreaseDurability(n)}))}})),this.explosivity>0&&Gn.explosion_0.play()}},{key:"destroy",value:function(){this.explode(),this.enflame(),D(h(n.prototype),"destroy",this).call(this)}}]),n}(t)},da=["initializeKeymap"],pa=function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.initializeKeymap,a=Se(t,da);s(this,n),(r=e.call(this,o({},a))).entityTypes=r.entityTypes.concat("HAS_KEYMAP"),r.keymapStack=[],r.initializeKeymap=i;var c=i(r.game.engine,p(r));return r.addKeymap(c),r}return u(n,[{key:"getKeymap",value:function(){return re.get(this.keymapStack,"0",null)}},{key:"addKeymap",value:function(t){this.keymapStack.unshift(t)}},{key:"removeKeymap",value:function(){this.keymapStack.shift()}},{key:"reinitializeKeymap",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.keymapStack=[];var e=this.initializeKeymap(this.game.engine,this);t.forEach((function(t){return delete e[t]})),this.addKeymap(e)}},{key:"setKeymap",value:function(t){return this.addKeymap(t),this.getKeymap}},{key:"goToPreviousKeymap",value:function(){return this.removeKeymap(),this.getKeymap()}}]),n}(t)},ga=["upgrade_points","upgrade_tree"],ya=function(t){var e=t.activate,n=void 0===e?function(t){return null}:e,r=t.canUpgrade,i=void 0===r?function(t){return!0}:r,a=t.cost,o=void 0===a?1:a,s=t.name,c=void 0===s?"upgrade":s,u=t.removeOnActivate;return{activate:n,canUpgrade:i,cost:o,name:c,removeOnActivate:void 0!==u&&u}},va=["faction","enemyFactions"],ma=function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.faction,a=void 0===i?null:i,c=t.enemyFactions,u=void 0===c?[]:c,l=Se(t,va);return s(this,n),(r=e.call(this,o({},l))).entityTypes=r.entityTypes.concat("HAS_FACTION"),r.faction=a,r.enemyFactions=u,r}return u(n,[{key:"canAttack",value:function(t){return!this.isAlly(t)}},{key:"canRangedAttack",value:function(t){return!this.isAlly(t)}},{key:"getEnemies",value:function(){var t=this;return this.game.engine.actors.filter((function(e){return t.isEnemy(e)}))}},{key:"isEnemy",value:function(t){return!this.isAlly(t)&&(this.considersAllAsEnemy()||this.isEnemyFaction(t))}},{key:"considersAllAsEnemy",value:function(){return this.enemyFactions.includes("ALL")}},{key:"isEnemyFaction",value:function(t){return this.enemyFactions.includes(t.faction)}},{key:"isAlly",value:function(t){return t.faction===this.faction}}]),n}(t)},_a=function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=Object.assign({},t);return s(this,n),(r=e.call(this,o({},i))).entityTypes=r.entityTypes.concat("USES_COVER"),r.coverAnimations=[],r.showCoverAnimations=!0,r.coveredBy=[],r}return u(n,[{key:"isCovered",value:function(){return this.coveredBy.length}},{key:"getCoverEntities",value:function(){var t=this,e=Object.keys(this.game.map),n=[];return e.forEach((function(e){var r=t.game.map[e].entities.filter((function(t){return t.entityTypes.includes("COVERING")}));n=[].concat(U(n),U(r))})),n}},{key:"getCoveredByIds",value:function(){return this.coveredBy.map((function(t){return t.id}))}},{key:"setCoverAnimations",value:function(){var t=this;if(this.showCoverAnimations){var e=function(t,e){return[{x:0,y:1},{x:1,y:1},{x:1,y:0},{x:1,y:-1},{x:0,y:-1},{x:-1,y:-1},{x:-1,y:0},{x:-1,y:1}].map((function(n){var r={x:e.x+n.x,y:e.y+n.y},i=t[Lt(r)];if(i)return i})).filter((function(t){return Boolean(t)}))}(this.game.map,this.getPosition()),n=!1;if(e.forEach((function(e){if(e.entities.length){var r=e.entities[0];if(r.entityTypes.includes("COVERING")&&r.isProvidingCover()){var i=r.getPosition(),a=t.game.display.addAnimation(Ge.BLINK_BOX,{x:i.x,y:i.y,color:"#3e7dc9"});t.coverAnimations.push(a),n=!0,t.coveredBy.push(r)}}})),n){var r=this.getPosition(),i=this.game.display.addAnimation(Ge.BLINK_BOX,{x:r.x,y:r.y,color:"#3e7dc9"});this.coverAnimations.push(i)}}}},{key:"removeCoverAnimations",value:function(){var t=this;this.coverAnimations.length&&(this.coverAnimations.forEach((function(e){t.game.display.removeAnimation(e.id)})),this.coverAnimations=[])}},{key:"removeCoveredBy",value:function(){this.coveredBy=[]}},{key:"resetCoverAnimations",value:function(){this.removeCoverAnimations(),this.removeCoveredBy(),this.setCoverAnimations()}},{key:"destroy",value:function(){this.showCoverAnimations=!1,this.removeCoverAnimations(),this.removeCoveredBy(),D(h(n.prototype),"destroy",this).call(this)}}]),n}(t)},ba=["availableStatusEffects","statusEffectRange"],wa=["behaviors"],xa=["spawnStructure","spawnedEntityClass","spawnedEntityOptions"],ka=u((function t(e){var n=e.game,r=e.actor,i=e.name,a=void 0===i?"Effect":i,o=e.lifespan,c=void 0===o?100:o,u=e.stepInterval,l=void 0===u?100:u,f=e.allowDuplicates,h=void 0===f||f,d=e.onStart,p=void 0===d?function(){return null}:d,g=e.onStep,y=void 0===g?function(){return null}:g,v=e.onStop,m=void 0===v?function(){return null}:v,_=e.renderer,b=void 0===_?{background:"green",color:"white",character:"*"}:_;s(this,t),this.game=n,this.actor=r,this.name=a,this.lifespan=c,this.timeToLive=c,this.stepInterval=l,this.allowDuplicates=h,this.timeSinceLastStep=0,this.onStart=p,this.onStep=y,this.onStop=m,this.renderer=b})),Ca=["damagePerTick"],Ea=["pickupEffects","dropEffects"],Aa=(te()(mi,bi,Ei,pa,(function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.initiatedBy,a=void 0===i?null:i,c=t.range,u=void 0===c?null:c,l=Se(t,oi);return s(this,n),(r=e.call(this,o({},l))).entityTypes=r.entityTypes.concat("UI"),r.initiatedBy=a,r.active=!0,r.range=u,r}return u(n,[{key:"hasEnoughEnergy",value:function(){return this.active}}]),n}(t)}))(Zr),te()(mi,bi)(Zr),te()(bi)(Zr),te()(bi,(function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.pickupEffects,a=void 0===i?[]:i,c=t.dropEffects,u=void 0===c?[]:c,l=Se(t,Ea);return s(this,n),(r=e.call(this,o({},l))).pickupEffects=a,r.dropEffects=u,r.entityTypes=r.entityTypes.concat("HAS_PICKUP_EFFECTS"),r}return u(n,[{key:"processPickupEffects",value:function(t){var e=this;this.pickupEffects.forEach((function(n){return n(t,e)}))}}]),n}(t)}))(Zr)),Sa=(te()(mi,bi,sa,(function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.messages,a=void 0===i?["I have nothing to say."]:i,c=t.messageType,u=Se(t,ua);return s(this,n),(r=e.call(this,o({},u))).entityTypes=r.entityTypes.concat("SPEAKING"),r.messages=a,r.messageType=c,r}return u(n,[{key:"getAction",value:function(t){var e=this.messages.shift();return this.messages.push(e),new Kn({actor:this,game:t,message:e,messageType:this.messageType,processDelay:0})}}]),n}(t)}),ea,ra,la,(function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=Object.assign({},t);return s(this,n),(r=e.call(this,o({},i))).entityTypes=r.entityTypes.concat("HELPLESS"),r.saved=!1,r}return u(n,[{key:"save",value:function(){this.saved=!0,Gn.save.play()}},{key:"destroy",value:function(){Pt([Gn.scream_0,Gn.scream_1,Gn.scream_2]).play(),D(h(n.prototype),"destroy",this).call(this)}}]),n}(t)}))(Zr),te()(bi,sa)(Zr),te()(bi,sa,ma)(Zr)),Ta=te()(bi,Pi,sa)(Zr),Pa=(te()(bi,Pi,sa,(function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.damagePerTick,a=void 0===i?1:i,c=Se(t,Ca);return s(this,n),(r=e.call(this,o({},c))).entityTypes=r.entityTypes.concat("TIME_BOMBING"),r.damagePerTick=a,r.addStatusEffect(),r}return u(n,[{key:"createTimeBombStatusEffect",value:function(){var t=this;return new ka({game:this.game,actor:this,name:"Dying",lifespan:-1,stepInterval:500,allowDuplicates:!1,onStep:function(){t.decreaseDurability(t.damagePerTick)}})}},{key:"addStatusEffect",value:function(){var t=this.createTimeBombStatusEffect();this.game.engine.addStatusEffect(t)}}]),n}(t)}))(Zr),te()(bi,kr,ea,la,sa,ha,ra)(Zr),te()(mi,bi,(function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.path,a=void 0!==i&&i,c=t.direction,u=void 0===c?{x:0,y:0}:c,l=t.range,f=void 0===l?3:l,h=Se(t,Hi);return s(this,n),(r=e.call(this,o({},h))).entityTypes=r.entityTypes.concat("DIRECTIONAL_PUSHING"),r.path=a,r.direction=u,r.range=f,r}return u(n,[{key:"getAction",value:function(t){var e=this,n={x:this.pos.x+this.direction[0],y:this.pos.y+this.direction[1]};return this.passable=!1,this.range>0?new Bi({targetPos:n,direction:this.direction,game:t,actor:this,energyCost:ie,onSuccess:function(){return e.range-=1}}):new ti({game:t,actor:this,energyCost:0})}}]),n}(t)}),sa)(Zr),te()(mi,bi,Yi,sa)(Zr),te()(mi,bi,sa,li,ra,xi,kr,pi,ma,_a,si,(function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.behaviors,a=void 0===i?[new Xn]:i,c=Se(t,wa);return s(this,n),(r=e.call(this,o({},c))).entityTypes=r.entityTypes.concat("CYCLES_BEHAVIORS"),r.behaviors=a.map((function(t){return t.actor=p(r),t})),r.activeBehaviorIndex=0,r.energy=1/0,r}return u(n,[{key:"getActiveBehavior",value:function(){return this.selectedBehavior()}},{key:"selectedBehavior",value:function(){return this.behaviors[this.activeBehaviorIndex]}},{key:"shouldCycleToNextBehavior",value:function(t){return!t.isValid()||!t.shouldRepeat()}},{key:"getDefaultAction",value:function(){return new Kn({message:"*whistles*",game:this.game,actor:this,interrupt:!0,energyCost:100})}},{key:"setBehaviorIndex",value:function(t){this.activeBehaviorIndex=t}},{key:"setNextBehaviorIndex",value:function(){var t=(this.activeBehaviorIndex+1)%this.behaviors.length;this.setBehaviorIndex(t)}},{key:"selectNextBehavior",value:function(){return this.setNextBehaviorIndex(),this.selectedBehavior()}},{key:"getAction",value:function(){for(var t=null,e=this.selectedBehavior(),n=this.behaviors.length;this.shouldCycleToNextBehavior(e)&&(e.reset(),e=this.selectNextBehavior(),this.resetLastActionResult(),!((n-=1)<0)););for(var r=this.behaviors.length;null===t&&(e.repeated+=1,t=e.getAction(),!((r-=1)<0)););return t||(t=this.getDefaultAction()),t}}]),n}(t)}))(Zr)),Oa=(te()(mi,bi,Yi,sa,li,ra,ma,_a)(Zr),te()(mi,bi,(function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.targetEntity,a=void 0===i?null:i,c=t.getProjectile,u=void 0===c?function(){return null}:c,l=Se(t,Zi);return s(this,n),(r=e.call(this,o({},l))).entityTypes=r.entityTypes.concat("RANGED_CHASING"),r.targetEntity=a,r.getProjectile=u,r}return u(n,[{key:"targetInPath",value:function(t,e){var n=!1;return t.forEach((function(t){t.x===e.x&&t.y===e.y&&(n=!0)})),n}},{key:"getAction",value:function(t){if(!this.targetEntity)return new Kn({message:"Where are they?",game:t,actor:this,energyCost:ie});var e={x:Math.sign(this.targetEntity.pos.x-this.pos.x),y:Math.sign(this.targetEntity.pos.y-this.pos.y)},n=this.getProjectile({pos:{x:this.pos.x,y:this.pos.y},targetPos:o({},this.targetEntity.pos),direction:[e.x,e.y],range:10});if(n.createPath(t),this.targetInPath(n.path,this.targetEntity.pos))return t.canOccupyPosition(n.pos,n)?new Qi({targetPos:o({},n.pos),entity:n,game:t,actor:this,energyCost:ie}):new Kn({message:"I'll get you with this kunai!",game:t,actor:this,energyCost:ie});var r=Nt(t,this.targetEntity.pos,this.pos),i=r.length>0?r[0]:this.pos;return new Mi({targetPos:i,game:t,actor:this,energyCost:ie})}}]),n}(t)}),sa,li,ra,ma,_a)(Zr),te()(mi,bi,(function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.presentingUI,a=void 0!==i&&i,c=Se(t,ai);return s(this,n),(r=e.call(this,o({},c))).entityTypes=r.entityTypes.concat("PRESENTING_UI"),r.presentingUI=a,r}return u(n)}(t)}),si,pa,(function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.draggedEntity,a=void 0===i?null:i,c=Se(t,Ji);return s(this,n),(r=e.call(this,o({},c))).entityTypes=r.entityTypes.concat("DRAGGING"),r.draggedEntity=a,r}return u(n,[{key:"grab",value:function(t){var e=this.game.map[Lt(t)];if(!e)return!1;if(e.entities.length>0){var n=e.entities[0];if(n.entityTypes.includes("DRAGGABLE")&&!this.draggedEntity&&!0===n.draggable)return this.draggedEntity=n,!0}return!1}},{key:"release",value:function(){if(!this.draggedEntity)return!1;var t=o({},this.draggedEntity);return this.draggedEntity=null,t}},{key:"drag",value:function(t){var e=this,n=this.draggedEntity.pos,r=this.game.map[Lt(n)];this.game.map[Lt(n)]=o(o({},r),{},{entities:r.entities.filter((function(t){return t.id!==e.draggedEntity.id}))}),this.draggedEntity.pos=t,this.game.map[Lt(t)].entities.push(this.draggedEntity)}},{key:"move",value:function(t){var e=o({},this.pos);if(this.draggedEntity){var r=D(h(n.prototype),"move",this).call(this,t);return r?(this.drag(e),!0):r}return D(h(n.prototype),"move",this).call(this,t)}}]),n}(t)}),(function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.charge,a=void 0===i?2:i,c=Se(t,ki);return s(this,n),(r=e.call(this,o({},c))).entityTypes=r.entityTypes.concat("CHARGING"),r.charge=a,r.chargeMax=a,r}return u(n,[{key:"decreaseCharge",value:function(t){this.charge=Math.max(0,this.charge-t)}},{key:"increaseCharge",value:function(t){this.charge=Math.min(this.chargeMax,this.charge+t)}}]),n}(t)}),(function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=Object.assign({},t);return s(this,n),(r=e.call(this,o({},i))).entityTypes=r.entityTypes.concat("SIGNING"),r.signHistory=[],r}return u(n,[{key:"addSign",value:function(t){this.signHistory.length>=4&&this.signHistory.shift(),this.signHistory.push(t)}},{key:"clearSigns",value:function(){this.signHistory=[]}}]),n}(t)}),kr,xi,li,pi,sa,(function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.cloneLimit,a=void 0===i?1:i,c=Se(t,Si);return s(this,n),(r=e.call(this,o({},c))).entityTypes=r.entityTypes.concat("CLONING"),r.cloneLimit=a,r.clones=[],r}return u(n,[{key:"destroy",value:function(){this.clones&&this.clones.map((function(t){Ai(t)})),Ai(this)}},{key:"destroyClone",value:function(t){var e=this.clones.findIndex((function(e){return e.id===t}));e>=0&&(this.clones[e].super__destroy(),this.clones.splice(e,1))}},{key:"createClone",value:function(t){var e=this;if(this.clones.length<this.cloneLimit){var n=(0,re.cloneDeep)(this);if(n.name="Clone",n.game=this.game,n.id=ne()(),n.entityTypes.includes("HAS_KEYMAP")){var r=(0,re.find)(t,{attribute:"ignoredKeys"});n.reinitializeKeymap(r?r.value:[])}if(delete n.clones,n.super__destroy=n.destroy,n.destroy=function(){e.destroyClone(n.id)},t.forEach((function(t){n[t.attribute]=t.value})),this.game.placeActorOnMap(n))return this.game.engine.addActorAsNext(n),this.game.draw(),this.clones.push(n),!0}return!1}}]),n}(t)}),Ei,la,(function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.upgrade_points,a=void 0===i?0:i,c=t.upgrade_tree,u=void 0===c?[]:c,l=Se(t,ga);return s(this,n),(r=e.call(this,o({},l))).entityTypes=r.entityTypes.concat("UPGRADABLE"),r.upgrade_points=a,r.upgrade_tree=u,r}return u(n,[{key:"upgrade",value:function(t){if(t.canUpgrade(this)){if(t.activate(this),t.removeOnActivate){var e=this.upgrade_tree.filter((function(e){return e.name!==t.name}));this.upgrade_tree=e}return!0}return!1}}]),n}(t)}),ma,(function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.availableStatusEffects,a=void 0===i?[]:i,c=t.statusEffectRange,u=void 0===c?2:c,l=Se(t,ba);return s(this,n),(r=e.call(this,o({},l))).entityTypes=r.entityTypes.concat("CAN_ACTIVATE_STATUS_EFFECTS"),r.statusEffectRange=u,r.statusEffectRangeMax=10,r.availableStatusEffects=a,r}return u(n,[{key:"getAvailableStatusEffects",value:function(){return this.availableStatusEffects}},{key:"addAvailableStatusEffect",value:function(t){this.availableStatusEffects.push(t)}},{key:"getStatusEffectRange",value:function(){return this.statusEffectRange}},{key:"decreaseStatusEffectRange",value:function(t){this.statusEffectRange=Math.max(0,this.statusEffectRange-t)}},{key:"increaseStatusEffectRange",value:function(t){this.statusEffectRange=Math.min(this.statusEffectRangeMax,this.statusEffectRange+t)}}]),n}(t)}),_a)(Zr)),Ra=(te()(bi,yi,li)(Zr),te()(bi,yi,pi,li,(function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.shapePattern,a=void 0===i?we.point:i,c=Se(t,ci);return s(this,n),(r=e.call(this,o({},c))).shapePattern=a,r.entityTypes=r.entityTypes.concat("HAS_SHAPE_PATTERN"),r}return u(n,[{key:"getPositionsInShape",value:function(t){return Zt(this.shapePattern,t)}}]),n}(t)}))(Zr)),La=(te()(bi,yi,sa)(Zr),te()(bi,sa,ha)(Zr)),Ma=(te()(mi,bi,li,(function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.path,a=void 0!==i&&i,c=t.targetPos,u=void 0===c?null:c,l=t.attackDamage,f=void 0===l?1:l,h=t.range,d=void 0===h?3:h,p=Se(t,Di);return s(this,n),(r=e.call(this,o({},p))).entityTypes=r.entityTypes.concat("DESTRUCTIVE_PROJECTING"),r.path=a,r.targetPos=u,r.attackDamage=f,r.range=d,r}return u(n,[{key:"createPath",value:function(t){var e=Ht(t,this.targetPos,this.pos,8,this.range);this.path=e}},{key:"getAction",value:function(t){this.path||this.createPath(t);var e=this.path.length>0?this.path[0]:this.pos;return new Ii({targetPos:e,game:t,actor:this,energyCost:ie})}}]),n}(t)}),sa)(Zr),te()(mi,bi,li,zi,sa)(Zr),te()(mi,bi,li,zi,sa,ha)(Zr)),Ia=(te()(mi,bi,li,zi,sa,(function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.spawnStructure,a=void 0===i?we.clover:i,c=t.spawnedEntityClass,u=t.spawnedEntityOptions,l=Se(t,xa);return s(this,n),(r=e.call(this,o({},l))).entityTypes=r.entityTypes.concat("SPAWNING_WITH_STRUCTURE"),r.spawnStructure=a,r.spawnedEntityClass=c,r.spawnedEntityOptions=u,r}return u(n,[{key:"createEntitiesToSpawn",value:function(){var t=this;return Zt(this.spawnStructure,this.getPosition()).map((function(e){return new t.spawnedEntityClass(o({pos:o({},e),game:t.game},t.spawnedEntityOptions))}))}},{key:"spawnEntities",value:function(){var t=this;this.createEntitiesToSpawn().forEach((function(e){e.entityTypes.includes("ACTING")&&t.game.engine.addActor(e),t.game.placeActorOnMap(e)}))}}]),n}(t)}))(Zr),te()(mi,bi,li,(function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.owner_id,a=void 0===i?null:i,c=t.path,u=void 0!==c&&c,l=t.targetPos,f=void 0===l?null:l,h=t.attackDamage,d=void 0===h?1:h,p=t.range,g=void 0===p?3:p,y=Se(t,qi);return s(this,n),(r=e.call(this,o({},y))).entityTypes=r.entityTypes.concat("GASEOUS_DESTRUCTIVE_PROJECTING"),r.path=u,r.targetPos=f,r.attackDamage=d,r.range=g,r.owner_id=a,r}return u(n,[{key:"canAttack",value:function(t){var e=D(h(n.prototype),"canAttack",this).call(this);return e&&(e=null===this.owner_id||t.owner_id!==this.owner_id),e}},{key:"createPath",value:function(t){var e=Ht(t,this.targetPos,this.pos,8,this.range);this.path=e}},{key:"getAction",value:function(t){this.path||this.createPath(t);var e=this.path.length>0?this.path[0]:this.pos;return new Vi({targetPos:e,game:t,actor:this,energyCost:ie})}}]),n}(t)}),sa,(function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.isClone,a=void 0!==i&&i,c=t.cloneCount,u=void 0===c?0:c,l=t.clonePattern,f=void 0===l?we.square:l,h=Se(t,Ki);return s(this,n),(r=e.call(this,o({},h))).entityTypes=r.entityTypes.concat("GASEOUS"),r.isClone=a,r.cloneCount=u,r.clonePattern=(0,re.cloneDeep)(f),r}return u(n,[{key:"getAction",value:function(t){var e=this.clonePattern.positions.find((function(t){return!t.taken}));if(!this.isClone&&e){e.taken=!0;var r=(0,re.cloneDeepWith)(this,(function(t,e){switch(e){case"id":case"game":case"engine":case"clones":return null;default:return}}));if(r.game=t,r.id=ne()(),this.hasOwnProperty("pos")){var i=this.pos;r.pos={x:i.x+e.x,y:i.y+e.y}}r.hasOwnProperty("path")&&(r.path=r.path.map((function(t){return{x:t.x+e.x,y:t.y+e.y}}))),r.isClone=!0,this.cloneCount+=1,t.placeActorOnMap(r),t.engine.addActor(r),t.draw()}return D(h(n.prototype),"getAction",this).call(this,t)}}]),n}(t)}))(Zr),te()(mi,sa,ii)(Zr),te()(mi,bi,sa,li,(function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.timeToSpread,a=void 0===i?5:i,c=t.spreadCount,u=void 0===c?1:c,l=Se(t,ia);return s(this,n),(r=e.call(this,o({},l))).entityTypes=r.entityTypes.concat("SPREADING"),r.timeToSpreadMax=a,r.timeToSpread=a,r.spreadCountMax=u,r.spreadCount=u,r}return u(n,[{key:"getAction",value:function(t){var e=this;if(this.spreadCount<=0)return new ti({game:t,actor:this,energyCost:ie,processDelay:0,onAfter:function(){t.map[Lt(e.pos)].type="BURNT"}});if(this.timeToSpread<=0){for(var n=[{x:this.pos.x+0,y:this.pos.y+0},{x:this.pos.x+1,y:this.pos.y+0},{x:this.pos.x+-1,y:this.pos.y+0},{x:this.pos.x+0,y:this.pos.y+1},{x:this.pos.x+0,y:this.pos.y+-1}],r=null,i=100;i>0;){var a=Pt(n),s=Ze({map:this.game.map,position:a}),c=Boolean(s),u=!0,l=!1;if(s&&(u="BURNT"!==s.type,l=Qe({tile:s,tag:"BURNABLE"})),c&&u&&l){r=a;break}i-=1}if(r){var f=new Ia({name:"Pyro",pos:{x:0,y:0},game:t,renderer:o({},this.renderer),timeToSpread:this.timeToSpreadMax,spreadCount:this.spreadCountMax,durability:this.durability,attackDamage:this.attackDamage,speed:this.speed});return this.timeToSpread=this.timeToSpreadMax,this.spreadCount-=1,new Qi({targetPos:r,entity:f,game:t,actor:this,interrupt:!1,energyCost:ie,processDelay:0,forcePlacement:!0})}this.timeToSpread=this.timeToSpreadMax,this.spreadCount-=1}return this.timeToSpread-=1,new Kn({message:"burning",game:t,actor:this,processDelay:0})}}]),n}(t)}))(Zr)),Da=te()(mi,bi,sa,(function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.getSpawnedEntity,a=t.timeToSpread,c=void 0===a?5:a,u=t.spreadCount,l=void 0===u?1:u,f=t.onSpawn,h=void 0===f?function(){return null}:f,d=Se(t,aa);return s(this,n),(r=e.call(this,o({},d))).entityTypes=r.entityTypes.concat("SPAWNING"),r.timeToSpreadMax=c,r.timeToSpread=c,r.spreadCountMax=l,r.spreadCount=l,r.getSpawnedEntity=i,r.onSpawn=h,r}return u(n,[{key:"getAction",value:function(t){if(this.spreadCount<=0)return new ti({game:t,actor:this,energyCost:ie,processDelay:0});if(this.timeToSpread<=0){for(var e=[{x:this.pos.x+1,y:this.pos.y+0},{x:this.pos.x+-1,y:this.pos.y+0},{x:this.pos.x+0,y:this.pos.y+1},{x:this.pos.x+0,y:this.pos.y+-1}],n=null,r=100;r>0;){var i=Pt(e),a=this.game.map[Lt(i)];if(Boolean(a)&&t.canOccupyPosition(i)){n=i;break}r-=1}if(n)return this.timeToSpread=this.timeToSpreadMax,this.spreadCount-=1,this.onSpawn(),new Qi({targetPos:n,entity:this.getSpawnedEntity(n),game:t,actor:this,interrupt:!1,energyCost:ie,processDelay:0,forcePlacement:!0});this.timeToSpread=this.timeToSpreadMax,this.spreadCount-=1}return this.timeToSpread-=1,new Kn({message:"boom boom",game:t,actor:this,processDelay:0})}}]),n}(t)}),ma)(Zr),Na=te()(mi,bi,(function(t){return function(t){f(n,t);var e=y(n);function n(t){var r,i=t.pos,a=void 0===i?{x:1,y:1}:i,c=t.direction,u=void 0===c?{x:0,y:0}:c,l=t.life,f=void 0===l?1:l,h=t.speed,d=void 0===h?1:h,p=t.type,g=void 0===p?ke:p,y=t.path,v=void 0===y?null:y,m=Se(t,ca);return s(this,n),(r=e.call(this,o({},m))).pos=a,r.direction=u,r.life=f,r.speed=d,r.type=g,r.path=v,r.entityTypes=r.entityTypes.concat("PARTICLE"),r}return u(n,[{key:"getNextPos",value:function(t){switch(this.type){case ke:return{x:this.pos.x+this.direction.x*this.speed*t,y:this.pos.y+this.direction.y*this.speed*t};case Ce:var e=this.path.shift();return o({},e||this.pos)}}},{key:"update",value:function(t){this.life-=t,this.life>0&&(this.pos=this.getNextPos(t))}}]),n}(t)}))(Zr),Fa=(te()(mi,sa,ii)(Zr),function(){function t(e){var n=e.statusEffects,r=void 0===n?[]:n,i=e.actors,a=void 0===i?[]:i,o=e.currentActor,c=void 0===o?0:o,u=e.isRunning,l=void 0!==u&&u,f=e.game,h=void 0===f?null:f;s(this,t),this.statusEffects=r,this.actors=a,this.currentActor=c,this.isRunning=l,this.game=h}return u(t,[{key:"processV1",value:function(){var t=E(S().mark((function t(){var e,n,r;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((e=this.actors[this.currentActor]).gainEnergy(e.speed),!e.hasEnoughEnergy()){t.next=18;break}if(n=e.getAction(this.game)){t.next=6;break}return t.abrupt("return",!1);case 6:return r=n.perform(),this.game.draw(),t.next=11,St(n.processDelay);case 11:if(r.success){t.next=13;break}return t.abrupt("return",!1);case 13:if(null!==r.alternative){t.next=15;break}return t.abrupt("break",18);case 15:n=r.alternative,t.next=6;break;case 18:return this.currentActor=(this.currentActor+1)%this.actors.length,t.abrupt("return",!0);case 20:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"processV2",value:function(){var t=E(S().mark((function t(){var e,n,r,i,a;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.actors[this.currentActor],null!==this.game.getFirstPlayer()){t.next=3;break}return t.abrupt("return",!1);case 3:n=!0;case 4:if(!n){t.next=53;break}if(e){t.next=7;break}return t.abrupt("return",!1);case 7:if(e.active){t.next=9;break}return t.abrupt("break",53);case 9:if(r=0,!e.hasEnoughEnergy()){t.next=49;break}if(i=e.getAction(this.game)){t.next=14;break}return t.abrupt("return",!1);case 14:r+=i.getEnergyCost();case 15:if(a={success:!1,alternative:null},!i.canPayRequiredResources()){t.next=25;break}return i.onBefore(),t.next=21,i.perform();case 21:a=t.sent,e.lastActionResult=a,a.success?(i.onSuccess(),i.payRequiredResources()):i.onFailure(),i.onAfter();case 25:return t.next=27,this.processActionFX(i,a.success);case 27:if(t.sent){t.next=36;break}if(!this.shouldAutoRun()){t.next=33;break}return t.next=31,St(25);case 31:t.next=35;break;case 33:return t.next=35,St(i.processDelay);case 35:this.game.draw();case 36:if(e.active){t.next=38;break}return t.abrupt("break",43);case 38:if(null!==a.alternative){t.next=40;break}return t.abrupt("break",43);case 40:i=a.alternative,t.next=15;break;case 43:if(this.processStatusEffects(r),!i.interrupt){t.next=47;break}return n=!1,t.abrupt("break",53);case 47:t.next=51;break;case 49:e.gainEnergy(e.speed),n=!1;case 51:t.next=4;break;case 53:return this.actors=this.actors.filter((function(t){return t.active})),this.currentActor+=1,this.currentActor>=this.actors.length&&(this.currentActor=0),t.abrupt("return",!0);case 57:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"processV3",value:function(){var t=E(S().mark((function t(){var e,n,r,i;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.actors[this.currentActor]){t.next=3;break}return t.abrupt("return",!1);case 3:if(n=0,!e.hasEnoughEnergy()){t.next=29;break}if(r=e.getAction(this.game)){t.next=8;break}return t.abrupt("return",!1);case 8:n+=r.energyCost;case 9:return t.next=12,r.perform();case 12:return i=t.sent,t.next=15,this.processActionFX(r,i.success);case 15:if(t.sent){t.next=19;break}return t.next=18,St(r.processDelay);case 18:this.game.draw();case 19:if(i.success){t.next=21;break}return t.abrupt("return",!1);case 21:if(null!==i.alternative){t.next=23;break}return t.abrupt("break",26);case 23:r=i.alternative,t.next=9;break;case 26:this.processStatusEffects(n),t.next=30;break;case 29:e.gainEnergy(e.speed);case 30:return this.currentActor=(this.currentActor+1)%this.actors.length,0===this.currentActor&&this.sortActorsByEnergy(),t.abrupt("return",!0);case 33:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"start",value:function(){var t=E(S().mark((function t(){var e;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.isRunning=!0;case 1:if(!this.isRunning){t.next=7;break}return t.next=4,this.processV2();case 4:this.isRunning=t.sent,t.next=1;break;case 7:if(e=this.actors[this.currentActor]){t.next=10;break}return t.abrupt("return",!1);case 10:return this.setVisibleKeymap(e),this.game.updateMode(),t.next=14,this.game.updateReact(this.game);case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"stop",value:function(){this.isRunning=!1}},{key:"setVisibleKeymap",value:function(t){if(t.entityTypes.includes("HAS_KEYMAP")){var e=t.getKeymap();e&&(this.game.visibleKeymap=e)}}},{key:"sortActorsByEnergy",value:function(){this.actors=this.actors.sort((function(t,e){return e.energy-t.energy}))}},{key:"shouldAutoRun",value:function(){return!this.actors.filter((function(t){return t.entityTypes.includes("PLAYING")})).length}},{key:"addStatusEffect",value:function(t){return!t.allowDuplicates&&this.statusEffects.filter((function(e){return e.actor.id===t.actor.id&&e.name===t.name})).length>0?(console.log("".concat(t.name," cannot be applied twice to ").concat(t.actor.name)),!1):(t.onStart(),this.statusEffects.push(t),!0)}},{key:"removeStatusEffectById",value:function(t){this.statusEffects=this.statusEffects.filter((function(e){return e.id!==t||(e.onStop(),!1)}))}},{key:"removeStatusEffectByActorId",value:function(t){this.statusEffects=this.statusEffects.filter((function(e){return e.actor.id!==t||(e.onStop(),!1)}))}},{key:"removeDeadStatusEffects",value:function(){this.statusEffects=this.statusEffects.filter((function(t){return!(t.lifespan>=0&&t.timeToLive<=0)||(t.onStop(),!1)}))}},{key:"getStatusEffectsByActorId",value:function(t){return this.statusEffects.filter((function(e){return e.actor.id===t}))}},{key:"processStatusEffects",value:function(t){this.statusEffects.forEach((function(e){e.timeSinceLastStep+=t,e.timeToLive-=t,e.timeSinceLastStep>=e.stepInterval&&(e.onStep(),e.timeSinceLastStep=0)})),this.removeDeadStatusEffects()}},{key:"processActionFX",value:function(){var t=E(S().mark((function t(e,n){var r,i=this;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=11;break}return r=new Na({game:this.game,name:"particle",passable:!0,pos:o({},e.actor.pos),renderer:xe.fail.renderer}),this.game.placeActorOnMap(r),this.game.draw(),t.next=6,St(100);case 6:return this.game.removeActorFromMap(r),r.update(1),this.game.draw(),e.removeDeadParticles(),t.abrupt("return",!0);case 11:if(!e.particles.length){t.next=23;break}case 12:if(!(e.particles.length>0)){t.next=22;break}return e.particles.forEach((function(t){i.game.placeActorOnMap(t)})),this.game.draw(),t.next=17,St(e.processDelay);case 17:e.particles.forEach((function(t){i.game.removeActorFromMap(t),t.update(1)})),this.game.draw(),e.removeDeadParticles(),t.next=12;break;case 22:return t.abrupt("return",!0);case 23:return t.abrupt("return",!1);case 24:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"addActor",value:function(t){this.actors.push(t)}},{key:"addActorAsPrevious",value:function(t){this.actors.splice(this.currentActor,0,t)}},{key:"addActorAsNext",value:function(t){this.actors.splice(this.currentActor+1,0,t)}},{key:"setActorToPrevious",value:function(t){this.currentActor-=1,this.currentActor<=-1&&(this.currentActor=this.actors.length-1)}},{key:"setActorToNext",value:function(t){this.currentActor=(this.currentActor+1)%this.actors.length}}]),t}()),ja=function(t){f(n,t);var e=y(n);function n(){return s(this,n),e.apply(this,arguments)}return u(n,[{key:"process",value:function(){var t=E(S().mark((function t(){var e,n,r,i;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.actors[this.currentActor],n=!0;case 2:if(!n){t.next=26;break}if(!e.hasEnoughEnergy()){t.next=23;break}if(r=e.getAction(this.game)){t.next=7;break}return t.abrupt("return",!1);case 7:return this.game.draw(),t.next=11,r.perform();case 11:return i=t.sent,t.next=14,St(r.processDelay);case 14:if(i.success){t.next=16;break}return t.abrupt("return",!1);case 16:if(null!==i.alternative){t.next=18;break}return t.abrupt("break",21);case 18:r=i.alternative,t.next=7;break;case 21:t.next=24;break;case 23:n=!1;case 24:t.next=2;break;case 26:if(this.currentActor+=1,!(this.currentActor+1>=this.actors.length)){t.next=31;break}return this.currentActor=0,this.actors.forEach((function(t){return t.gainEnergy(t.speed)})),t.abrupt("return",!1);case 31:return t.abrupt("return",!0);case 32:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"start",value:function(){var t=E(S().mark((function t(){var e;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.isRunning=!0;case 1:if(!this.isRunning){t.next=7;break}return t.next=4,this.process();case 4:this.isRunning=t.sent,t.next=1;break;case 7:return e=this.actors[this.currentActor],this.setVisibleKeymap(e),this.game.mode.update(),t.next=12,this.game.updateReact(this.game);case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),n}(Fa),Wa=function(t){f(r,t);var n=y(r);function r(){return s(this,r),n.apply(this,arguments)}return u(r,[{key:"render",value:function(){var t=this,n=re.get(this.props.game,"mode.infoHeader",null);re.get(this.props.game,"mode.infoBlocks",{});return e.createElement("div",{className:"Instructions UI"},n&&e.createElement("p",{className:"flow-text"},n),e.createElement("div",{className:"flow-text"},e.createElement("div",{className:"Instructions__block",onClick:function(){return window.location.reload()}},e.createElement("button",{className:"btn btn-main"},"Restart")),e.createElement("div",{className:"Instructions__block",onClick:function(){return t.props.toggleSpriteMode()}},e.createElement("button",{className:"btn btn-main"},this.props.spriteMode?"ASCII mode":"Sprite mode")),e.createElement("div",{className:"Instructions__block"},e.createElement("button",{"data-target":"jacinto_help",className:"btn btn-main modal-trigger"},"Help"))))}}]),r}(e.Component),Ga=Wa;var za=function(t){var n=t.color;return n||(n="grey"),e.createElement("button",{onClick:t.onClick,className:"Button btn ".concat(n)},t.children)};e.Component;var Ua=function(t){var n=t.title,r=void 0===n?"Effect":n,i=t.text,a=void 0===i?"":i,o=t.children;return e.createElement("div",{className:"Tooltip"},o,e.createElement("div",{className:"top"},e.createElement("h3",null,r),e.createElement("p",null,a),e.createElement("i",null)))};function Ba(t){var n=t.resource,r=t.superScript,i=t.canPay,a=n.renderer.sprite?n.renderer.sprite:n.renderer.character;return e.createElement("div",{className:"ResourceBlock",style:{backgroundColor:i?n.renderer.background:"#616161",color:i?n.renderer.color:"#bdbdbd",borderColor:i?n.renderer.color:"#bdbdbd",fontFamily:"scroll-o-script",width:r?"auto":20}},"".concat(r?r+" ":"").concat(a))}e.Component;function Ha(t){var n=t.resource,r=t.superScript,i=t.canPay;n.renderer.sprite?n.renderer.sprite:n.renderer.character;return e.createElement("div",{className:"ResourceBlock",style:{backgroundColor:i?n.renderer.background:"#616161",color:i?n.renderer.color:"#bdbdbd",borderColor:i?n.renderer.color:"#bdbdbd",fontFamily:"scroll-o-script",width:r?"auto":20}},r)}var Va=function(t){var n=t.keymap,r=t.game;return e.createElement("div",{className:"Jacinto__ActionMenu"},e.createElement("div",{className:"Jacinto__ActionMenu__Actions"},n&&Object.entries(n).map((function(t,n){var i=M(t,2),a=i[0],o=(0,i[1])(),s=re.get(o,"hidden",!1),c=re.get(o,"renderer",null),u=o.listPayableResources();if(!s)return e.createElement("div",{key:"".concat(n,"-label"),className:"Jacinto__ActionMenu__Actions__item",onClick:function(){o.setAsNextAction(),r.engine.isRunning||r.engine.start(),r.refocus()}},e.createElement("div",{className:"Jacinto__ActionMenu__Actions__item__label"},a),e.createElement("div",{className:"Jacinto__ActionMenu__Actions__item__content",style:c&&{backgroundColor:c.background,color:c.color,borderColor:c.color}},o.label),e.createElement("div",{className:"Jacinto__ActionMenu__Actions__item__resources"},u.map((function(t,n){var r=t.getResourceCostDisplay();return r>0&&e.createElement(Ha,{key:"".concat(n,"-").concat(t.name,"-resource-block"),superScript:r,resource:t,canPay:t.canPay})}))))}))))};function qa(t){var n=t.actor;return e.createElement("div",{className:"Portrait",style:{backgroundColor:n.renderer.background,color:n.renderer.color,borderColor:n.renderer.color}},n.renderer.sprite?n.renderer.sprite:n.renderer.character)}function Ka(t){var n=t.effect;return e.createElement("div",{className:"StatusEffects__effect",style:{backgroundColor:n.renderer.background,color:n.renderer.color,borderColor:n.renderer.color}},n.renderer.sprite?n.renderer.sprite:n.renderer.character)}function Xa(t){var n=t.actor;return e.createElement("div",{className:"StatusEffects"},n.game.engine.getStatusEffectsByActorId(n.id).map((function(t,n){return e.createElement(Ua,{key:n,title:t.name,text:t.name},e.createElement(Ka,{effect:t}))})))}function Ya(t){var n=t.actor;return e.createElement("div",{className:"NamePlate"},n.name)}function $a(t){var n=t.actor,r=t.label,i=t.colorFilled,a=void 0===i?"red":i,o=t.colorEmpty,s=void 0===o?"gray":o,c=t.attributePathMax,u=t.attributePath,l=t.unit,f=re.get(n,c,0)/l,h=re.get(n,u,0)/l;return e.createElement("div",{className:"ProgressBar"},e.createElement("div",null,e.createElement("span",{className:"ProgressBar__label"},r)),e.createElement("div",null,e.createElement("div",{className:"ProgressBar__blips"},Array(f).fill(!0).map((function(t,n){return e.createElement("span",{key:n,className:"ProgressBar__blips__blip",style:{backgroundColor:h>n?a:s}})})))))}var Qa=function(t){var n=t.actor,r=t.game;return e.createElement("div",{className:"CharacterCard"},e.createElement("div",null,e.createElement(Ya,{actor:n}),e.createElement(qa,{actor:n}),e.createElement($a,{label:"Action Points",attributePath:"energy",attributePathMax:"speed",colorFilled:"#ff9926",unit:100,actor:n}),e.createElement($a,{label:"Health Points",attributePath:"durability",attributePathMax:"durabilityMax",colorFilled:"#dc322f",unit:1,actor:n}),e.createElement($a,{label:"Upgrade Points",attributePath:"upgrade_points",attributePathMax:"upgrade_points",colorFilled:"#3e7dc9",unit:1,actor:n}),e.createElement(Xa,{actor:n})),e.createElement("div",null,e.createElement(Va,{keymap:n.getKeymap(),game:r})))},Za=function(t){var n=t.game,r=n.engine.actors.filter((function(t){return t.entityTypes.includes("PRESENTING_UI")})).filter((function(t){return t.presentingUI}));return e.createElement("div",{className:"PlayerInformation Information UI"},e.createElement("div",{className:"CharacterCard_Container"},r.map((function(t,r){return e.createElement(Qa,{key:r,actor:t,game:n})}))))};e.Component;function Ja(t){return e.createElement("div",{className:"Message",style:{color:t.color,backgroundColor:t.backgroundColor,borderColor:t.color}},t.children)}var to=function(t){f(r,t);var n=y(r);function r(){return s(this,r),n.apply(this,arguments)}return u(r,[{key:"render",value:function(){return e.createElement("div",{className:"Messages UI"},e.createElement("div",{className:"flow-text"},"Messages"),this.props.messages&&this.props.messages.map((function(t,n){return e.createElement(Ja,{key:n,color:t.type.color,backgroundColor:t.type.backgroundColor},"".concat(t.text))})))}}]),r}(e.Component),eo=to;var no=function(t){return e.createElement("div",null,re.map(re.get(t.game,"mode.infoBlocks",{}),(function(t,n){return e.createElement("div",{key:n,className:"Instructions__block Instructions__block--Jacinto"},t.text)})))},ro={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},io=e.createContext&&e.createContext(ro),ao=function(){return ao=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},ao.apply(this,arguments)},oo=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function so(t){return t&&t.map((function(t,n){return e.createElement(t.tag,ao({key:n},t.attr),so(t.child))}))}function co(t){return function(n){return e.createElement(uo,ao({attr:ao({},t.attr)},n),so(t.child))}}function uo(t){var n=function(n){var r,i=t.attr,a=t.size,o=t.title,s=oo(t,["attr","size","title"]),c=a||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",ao({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:ao(ao({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&e.createElement("title",null,o),t.children)};return void 0!==io?e.createElement(io.Consumer,null,(function(t){return n(t)})):n(ro)}function lo(t){return co({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M21.97 18.22C33.98 35.186 46.79 52.53 60.25 70.187l-20.5 41.156L77.5 92.53c12.847 16.405 26.235 33.033 40.094 49.814L94.03 189.656l44.564-22.22c15.17 17.934 30.83 36.032 46.906 54.158l-28.47 57.156 55.157-27.47c16.596 18.27 33.554 36.568 50.813 54.782l-27.28 54.75 53.968-26.875c21.59 22.316 43.56 44.45 65.75 66.282-38.372 1.44-74.363-2.4-107.125-10.72 65.27 60.235 151.623 99.225 246.593 103.688-4.313-95.196-43.473-181.33-103.687-246.594 7.904 31.405 11.808 65.622 10.874 102.125-5.587-5.622-11.185-11.248-16.844-16.908-15.622-15.62-31.41-31.093-47.28-46.406l26.655-53.5-54.313 27.063c-18.653-17.625-37.395-34.933-56.125-51.876L279.5 156.28l-52.75 26.282c-18.68-16.527-37.304-32.64-55.78-48.218l21.436-43.063-45.75 22.782C129.6 100.008 112.72 86.45 96.062 73.44l18.282-36.688-40 19.938c-17.8-13.548-35.308-26.4-52.375-38.47z"}}]})(t)}function fo(t){return co({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M162.322 17.943l-28.316 105.682 18.053 4.838 4.194-15.654 169.764 45.487 11.28-42.088-169.872-45.105 4.838-18.052 169.87 45.103 4.038-15.066L176.404 37.6l3.97-14.82-18.052-4.837zM361.336 98.7l-14.453 53.943c53.99 13.97 102.986 20.59 150.95 10.964-37.1-32.648-82.453-50.034-136.497-64.906zM128.676 145l-41.82 101.104 17.27 7.142 6.216-15.023L272.75 305.4l16.36-39.556-162.43-67.12 7.142-17.27 162.432 67.118 6.254-15.12-162.406-67.18 5.843-14.13-17.27-7.142zm186.818 105.95l-21.344 51.605c51.717 20.872 99.435 33.81 148.24 30.502-32.538-37.196-75.244-60.332-126.896-82.106zM77.107 266.067l-54.705 94.752 16.186 9.346 8.133-14.086 152.23 87.893 20.472-35.452L66.988 320.97l9.344-16.183 152.434 87.545 9.117-15.79L85.65 288.647l7.643-13.238-16.186-9.344zM248.46 395.594l-27.92 48.363c48.526 27.46 94.13 46.532 142.942 49.647-27.38-41.132-66.678-69.662-115.02-98.01z",fillRule:"evenodd"}}]})(t)}function ho(t){return co({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M53.813 48.094c69.06 40.8 122.263 96.67 124.937 153.312-49.83.664-72.508-14.408-101.97-51 17.725 93.07 55.393 143.855 100.72 156.563-22.006 26.968-60.902 30.456-97.625 25.342 35.897 33.924 95.12 70.913 149.094 84.75-17.05 15.34-38.742 24.516-68 29.157 269.316 114.287 386.556 10.27 295.217-277.376-12.035 25.526-29.11 41.112-60.343 57.5-7.906-55.298-31.41-152.12-95.656-171.75 24.362 41.713 21.98 99.445-4 138.937C268.363 122.72 161.85 54.283 53.813 48.095zm308.28 236.656c26.127-.13 52.073 11.014 70.157 32.72 32.15 38.584 26.96 95.63-11.625 127.78-38.586 32.15-95.632 26.96-127.78-11.625-32.15-38.586-26.962-95.632 11.624-127.78 16.88-14.067 37.303-20.994 57.624-21.095z",fillRule:"evenodd"}}]})(t)}function po(t){return co({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M234.875 18.78c-26.087 2.367-51.557 8.56-74.875 18.782 15.37 32.763 14.222 66.706-6.72 82.407-20.835 15.617-54.055 7.965-81.124-15.69-16.246 19.452-29.336 41.36-38.875 65.626 33.83 12.333 56.635 37.665 52.94 63.5-3.698 25.835-32.697 43.74-68.626 46.094 2.338 25.796 8.91 50.778 18.937 73.875 17.81-8.182 35.793-11.09 51.095-8.938 13.032 1.87 23.927 7.015 31.156 16.657 15.817 21.097 7.603 54.713-16.78 81.97 19.516 16.35 42.216 29.444 66.594 39.03 12.33-33.828 37.655-56.634 63.5-52.938 25.844 3.697 43.74 32.696 46.094 68.625 26.087-2.365 51.557-8.555 74.875-18.78-15.766-32.997-14.26-67.588 6.843-83.406 9.64-7.23 22.568-9.022 35.594-7.125 15.112 2.16 31.19 10.25 45.563 22.78 16.088-19.345 29.4-41.51 38.875-65.594-33.83-12.332-56.635-37.653-52.938-63.5 3.697-25.846 32.665-43.772 68.594-46.125-2.36-25.944-8.774-50.663-18.906-73.874-32.612 15.117-66.66 13.145-82.282-7.687-15.696-20.944-7.252-53.86 16.688-81-19.52-16.352-42.248-29.447-66.625-39.032-12.332 33.828-37.657 56.66-63.5 52.968-25.846-3.693-43.744-32.696-46.095-68.625zm21.656 95.126c79.626 0 144.376 64.752 144.376 144.375 0 79.626-64.75 144.376-144.375 144.376-79.624 0-144.374-64.75-144.374-144.375 0-79.624 64.75-144.374 144.375-144.374zm0 18.688c-69.524 0-125.686 56.162-125.686 125.687 0 69.526 56.162 125.69 125.687 125.69 69.526 0 125.69-56.164 125.69-125.69 0-69.522-56.164-125.686-125.69-125.686zm.033 15.125c61.094 0 110.625 49.53 110.625 110.624 0 61.095-49.53 110.625-110.625 110.625s-110.625-49.53-110.625-110.626c0-61.095 49.53-110.625 110.625-110.625z"}}]})(t)}function go(t){return co({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M247 32v23.21C143.25 59.8 59.798 143.25 55.21 247H32v18h23.21C59.8 368.75 143.25 452.202 247 456.79V480h18v-23.21C368.75 452.2 452.202 368.75 456.79 265H480v-18h-23.21C452.2 143.25 368.75 59.798 265 55.21V32h-18zm0 41.223V128h18V73.223C359 77.76 434.24 153 438.777 247H384v18h54.777C434.24 359 359 434.24 265 438.777V384h-18v54.777C153 434.24 77.76 359 73.223 265H128v-18H73.223C77.76 153 153 77.76 247 73.223zM247 224v23h-23v18h23v23h18v-23h23v-18h-23v-23h-18z"}}]})(t)}function yo(t){return co({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M316.74 14.79l-72.326 88.94-73.234-50.673 67.095 115.537c7.713-2.512 15.938-3.887 24.49-3.887 15.338 0 29.648 4.384 41.768 11.947l81.64-88.6-62.187 17.454-7.246-90.717zM137.47 32.224l28.73 136.144L41.04 121.13l98.753 106.235-61.215 48.266 105.524-24.304c-.24-2.5-.366-5.03-.366-7.592 0-28.415 15.004-53.317 37.514-67.244L137.47 32.223zm318.692 36.185l-35.71 10.024-101.307 109.945c14 14.258 22.644 33.795 22.644 55.357 0 .708-.01 1.412-.028 2.116l81.088-4.762-41.465-23.08 74.777-149.6zM232.744 229.533c-13.443 0-24.342 10.897-24.342 24.342 0 13.445 10.898 24.344 24.342 24.344 13.445 0 24.344-10.9 24.344-24.345 0-13.445-10.9-24.342-24.344-24.342zm59.27 0c-13.443 0-24.342 10.897-24.342 24.342 0 13.445 10.897 24.344 24.342 24.344 13.444 0 24.343-10.9 24.343-24.345 0-13.445-10.9-24.342-24.343-24.342zm161.26 28.488l-114.327 6.714c-2.23 8.113-5.716 15.703-10.246 22.547l72.39 92.962 69.146 30.496-94.18-119.16 120.217-9.623-43-23.934zM188.085 269.59l-143.87 33.137-25.673 20.242 139.123 19.654-68.54 112.775 124.546-52.27 10.193-37.738h19.358l-10.313 38.18 42.035 88.947 24.178-81.15-18.803-45.977h20.192l17.517 42.834L389.51 462.6l-11.94-82.14-61.238-78.642c-2.81 2.593-5.814 4.974-8.977 7.14v41.233h-18.69v-31.78c-5.076 1.763-10.395 3.004-15.884 3.7v28.08h-18.687v-27.913c-6.25-.682-12.28-2.094-18.004-4.148v32.06h-18.688v-41.762c-13.457-9.46-23.836-23.003-29.318-38.84zm73.94 4.75l-16.72 27.87h33.442l-16.72-27.87z"}}]})(t)}var vo=["item"],mo=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.item,a=Se(t,vo);return s(this,n),(r=e.call(this,o({},a))).item=i,r}return u(n,[{key:"perform",value:function(){var t=!1;if(this.item.equipmentType){var e=this.actor.getItemInSlot(this.item.equipmentType);e&&(this.actor.addToContainer(e),this.actor.unequip(e)),this.actor.removeFromContainer(this.item),this.actor.equip(this.item.equipmentType,this.item),this.game.addMessage("".concat(this.actor.name," equips ").concat(this.item.name,"."),Ee.ACTION),t=!0}return{success:t,alternative:null}}}]),n}(Le);function _o(t){var n=t.stat,r=n.value,i=(n.name,n.abbreviatedName),a={color:n.renderer.background,marginRight:10};return e.createElement("div",{className:"StatBlock--simple"},e.createElement("span",{style:a},i),e.createElement("span",null,r))}var bo=function(t){var n=t.game,r=t.player,i=t.data,a=i.item,o=i.equipped,s=i.amount,c=i.equipable,u=n.refocus();if(c){var l=new mo({item:a,game:n,energyCost:0,actor:r,label:"Equip ".concat(a.name)});u=function(){n.refocus(),l.immediatelyExecuteAction()}}var f=!1;return a.hasOwnProperty("magazine")&&a.magazine<=0&&(f=!0),e.createElement("div",{className:"SimpleEquipmentCard EquipmentCard ".concat(o?"EquipmentCard--selected":""," ").concat(c?"EquipmentCard--equipable":""),onClick:u},e.createElement("div",{className:"EquipmentCard__item"},e.createElement("div",{className:"EquipmentCard__item__label--simple"},e.createElement("span",{className:"EquipmentCard__item__label__amount"},c&&"equip"," ",s||1,"\xa0"),e.createElement("span",null,a.name,"\xa0"),e.createElement("span",{style:{color:"#6d7886"}},f&&"(reload)"))))},wo=function(t){var n=t.game,r=t.player,i=t.data,a=i.item,o=i.equipped,s=i.amount,c=!1,u=function(){return n.refocus()};if(i.equipable){var l=new mo({item:a,game:n,energyCost:0,actor:r,label:"Equip ".concat(a.name)});u=function(){n.refocus(),l.immediatelyExecuteAction()}}var f=[];return s&&f.push({name:"amount left",value:s,renderer:Mn.amount}),a.hasOwnProperty("attackRange")&&f.push({name:"attack range",abbreviatedName:"range",value:a.attackRange,renderer:Mn.attackRange,getIcon:function(){return e.createElement(lo,null)}}),a.hasOwnProperty("magazine")&&(f.push({name:"shots before reload",abbreviatedName:"ammo",value:a.magazine,renderer:Mn.magazine,getIcon:function(){return e.createElement(fo,null)}}),a.magazine<=0&&(c=!0)),a.hasOwnProperty("baseRangedAccuracy")&&f.push({name:"base accuracy",abbreviatedName:"ranged chance",value:"".concat(Math.round(100*a.baseRangedAccuracy),"%"),renderer:Mn.baseRangedAccuracy,getIcon:function(){return e.createElement(go,null)}}),a.hasOwnProperty("baseRangedDamage")&&f.push({name:"base damage",abbreviatedName:"ranged dmg",value:a.baseRangedDamage,renderer:Mn.baseRangedDamage,getIcon:function(){return e.createElement(ho,null)}}),a.hasOwnProperty("attackDamage")&&f.push({name:"base melee damage",abbreviatedName:"melee dmg",value:a.attackDamage,renderer:Mn.meleeDamage}),e.createElement("div",{className:"EquipmentCard ".concat(o?"EquipmentCard--selected":""),onClick:u},c&&e.createElement("div",{className:"EquipmentCard__reload_overlay"},e.createElement("div",{className:"EquipmentCard__reload_overlay__text"},"Reload")),e.createElement("div",{className:"EquipmentCard__item"},e.createElement("div",{className:"EquipmentCard__item__label"},a.name),e.createElement("div",{className:"EquipmentCard__item__content",style:a.renderer&&{backgroundColor:a.renderer.background,color:a.renderer.color,borderColor:a.renderer.color}},a.renderer.sprite?a.renderer.sprite:a.renderer.character)),e.createElement("div",{className:"EquipmentCard__item__stats"},f.map((function(t,n){return e.createElement(_o,{key:"".concat(n,"-").concat(t.name,"-resource-block"),stat:t})}))))},xo=function(t){f(r,t);var n=y(r);function r(){return s(this,r),n.apply(this,arguments)}return u(r,[{key:"render",value:function(){if(!this.props.player)return null;var t=this.props.player,n=this.props.game,r=[];return t.equipment.forEach((function(t){t.item&&r.push({item:t.item,equipped:!0})})),t.container.forEach((function(t){if(t.items.length){var e=t.items[0],n=e.entityTypes.includes("EQUIPABLE");r.push({item:e,amount:t.items.length,equipable:n,equipped:!1})}})),r.sort((function(t,e){return Number(e.equipable)-Number(t.equipable)})),e.createElement("div",{className:"Equipment UI"},e.createElement("div",null,e.createElement("div",{className:"flow-text"},"Equipment"),e.createElement("div",null,r.map((function(r,i){return r.equipped?e.createElement(wo,{key:i,game:n,player:t,data:r}):e.createElement(bo,{key:i,game:n,player:t,data:r})})))))}}]),r}(e.Component),ko=xo;var Co=function(){return e.createElement("div",{className:"Jacinto_Help"},e.createElement("div",{className:"modal-content"},e.createElement("div",{className:"row"},e.createElement("div",{className:"col s12 m6"},e.createElement("div",{className:"Jacinto_Help__section_header"},"Goal"),e.createElement("div",{className:"Jacinto_Help__section_body"},"Defend Jacinto, the last human bastion on Sera. Move block by block and clear the city of",e.createElement("span",{className:"red-text"},"\xa0Grubs")," until you can locate and defeat their leader,",e.createElement("span",{className:"red-text"},"\xa0Skorge"),".")),e.createElement("div",{className:"col s12 m6"},e.createElement("div",{className:"Jacinto_Help__section_header"},"Hints"),e.createElement("div",{className:"Jacinto_Help__section_body"},e.createElement("div",null,"Destroy ",e.createElement("span",{className:"red-text"},"Emergence Holes")," ASAP."),e.createElement("div",null,"Spend ",e.createElement("span",{className:"blue-text"},"Upgrade Points"),"."),e.createElement("div",null,"Weapon ",e.createElement("span",{className:"blue-text"},"accuracy")," decreases over distance."),e.createElement("div",null,e.createElement("span",{className:"blue-text"},"Grenades")," can destroy walls as well as grubs, but be wary.")))),e.createElement("div",{className:"row"},e.createElement("div",{className:"col s12"},e.createElement("div",{className:"Jacinto_Help__section_header"},"Controls"),e.createElement("div",{className:"Jacinto_Help__section_body"},e.createElement("div",null,"Movement: WASD"),e.createElement("div",null,"Actions: click or key press"))))))},Eo=30;var Ao=function(t){return e.useLayoutEffect((function(){var e=document.querySelectorAll("#".concat(t.id));window.M.Modal.init(e)})),e.createElement("div",{id:t.id,className:"modal"},e.createElement(Co,null),e.createElement("div",{className:"range-field"},e.createElement("input",{id:"volume",type:"range",min:"0",max:"100",defaultValue:Eo,step:"1",onChange:function(t){var e=t.target.value;Eo=e,Un(e/100)}}),e.createElement("label",{htmlFor:"volume"},"Master Volume")),e.createElement("div",{className:"modal-footer"},e.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn-flat"},"Close")))},So=function(t){f(r,t);var n=y(r);function r(t){var i;s(this,r),i=n.call(this,t);var a=new Fa({}),o=new $r({engine:a,getSelectedCharacter:function(){return i.props.selectedCharacter.initialize(a)},mode:i.props.selectedMode.class});return i.state={game:o,activeTab:0,spriteMode:o.spriteMode},i.presserRef=e.createRef(),i}return u(r,[{key:"componentDidMount",value:function(){var t=E(S().mark((function t(){var e=this;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.state.game.initialize(this.presserRef,document),this.state.game.backToTitle=function(){return e.props.setActiveScreen(_)},this.state.game.toLose=function(){e.props.setActiveScreen(w)},this.state.game.toWin=function(){e.props.setActiveScreen(x)},this.state.game.refocus=function(){return e.refocus()},this.state.game.updateReact=function(t){e.setState({game:t})},this.state.game.engine.start();case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"refocus",value:function(){this.presserRef&&this.presserRef.current.focus()}},{key:"toggleSpriteMode",value:function(){this.state.game.spriteMode=!this.state.game.spriteMode,this.state.game.draw(),this.refocus(),this.setState({spriteMode:this.state.game.spriteMode})}},{key:"render",value:function(){return e.createElement("div",{className:"Level"},e.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},e.createElement("div",{style:{flex:2}},e.createElement(Za,{game:this.state.game})),e.createElement("div",{style:{flex:5}},e.createElement("div",{className:"game_display_container"},function(t,n,r){return e.createElement("div",{id:"display",ref:t,onKeyDown:function(t){return n(t,r)},tabIndex:"0"})}(this.presserRef,Qr,this.state.game.engine)),e.createElement(Ao,{id:"jacinto_help"}),e.createElement(Ga,{game:this.state.game,spriteMode:this.state.game.spriteMode,setActiveScreen:this.props.setActiveScreen,toggleSpriteMode:this.toggleSpriteMode.bind(this)})),e.createElement("div",{style:{flex:2,paddingRight:16}},e.createElement(no,{game:this.state.game}),e.createElement(eo,{messages:this.state.game.messages.slice(-5).reverse()}),e.createElement(ko,{game:this.state.game,player:this.state.game.getFirstPlayer()}))))}}]),r}(e.Component),To=So,Po=function(t){f(r,t);var n=y(r);function r(t){var e;return s(this,r),(e=n.call(this,t)).state={},e}return u(r,[{key:"render",value:function(){var t=this;return e.createElement("div",{className:"Title"},e.createElement("div",{className:"Title__content",style:{width:"100vw",height:"100vh",backgroundColor:"#07111Dff"}},e.createElement(Co,null),e.createElement("h2",{className:"Title__header"},e.createElement(po,null)),e.createElement("button",{style:{margin:"initial"},className:"CharacterSelect__button btn btn-main",onClick:function(){t.props.setActiveScreen(k)}},"Defend Jacinto"),e.createElement("h2",{className:"Title__header"},e.createElement(yo,null))))}}]),r}(e.Component),Oo=function(t){f(r,t);var n=y(r);function r(t){var e;return s(this,r),(e=n.call(this,t)).state={},e}return u(r,[{key:"render",value:function(){return e.createElement("div",{className:"Title"},e.createElement("div",{className:"Title__content",style:{width:"100vw",height:"100vh",backgroundColor:"#222"}},e.createElement("h2",{className:"Title__header"},e.createElement(yo,null),e.createElement(yo,null),e.createElement(yo,null)),e.createElement("button",{style:{margin:"initial"},className:"CharacterSelect__button btn btn-main",onClick:function(){return window.location.reload()}},"Restart"),e.createElement("h2",{className:"Title__header"},e.createElement(yo,null),e.createElement(yo,null),e.createElement(yo,null))))}}]),r}(e.Component),Ro=function(t){f(r,t);var n=y(r);function r(t){var e;return s(this,r),(e=n.call(this,t)).state={},e}return u(r,[{key:"render",value:function(){return e.createElement("div",{className:"Title"},e.createElement("div",{className:"Title__content",style:{width:"100vw",height:"100vh",backgroundColor:"#3e7dc9"}},e.createElement("h2",{className:"Title__header"},e.createElement(po,null),e.createElement(po,null),e.createElement(po,null)),e.createElement("button",{style:{margin:"initial"},className:"CharacterSelect__button btn btn-main",onClick:function(){return window.location.reload()}},"Victory"),e.createElement("h2",{className:"Title__header"},e.createElement(po,null),e.createElement(po,null),e.createElement(po,null))))}}]),r}(e.Component),Lo=function(t){return e.createElement("div",{className:"CharacterSelect"},t.characters.map((function(n,r){return t.selectedCharacter&&(t.selectedCharacter.name===n.name?"red":""),e.createElement("button",{key:r,className:"CharacterSelect__button btn btn-main",onClick:function(){t.setSelectedCharacter(n),t.setActiveScreen(b)}},"Play as ",n.name)})))},Mo=function(t){f(r,t);var n=y(r);function r(t){var e;return s(this,r),(e=n.call(this,t)).state={},e}return u(r,[{key:"render",value:function(){return e.createElement("div",{className:"Title"},e.createElement("div",{className:"Title__content",style:{width:"100vw",height:"100vh",backgroundColor:"#07111Dff"}},e.createElement("h2",{className:"Title__header"},e.createElement(po,null)),e.createElement(Lo,{characters:this.props.characters,selectedCharacter:this.props.selectedCharacter,setSelectedCharacter:this.props.setSelectedCharacter,setActiveScreen:this.props.setActiveScreen}),e.createElement("h2",{className:"Title__header"},e.createElement(yo,null))))}}]),r}(e.Component),Io=Mo,Do=function(t){return e.createElement("div",{className:"CharacterSelect"},t.modes.map((function(n,r){return t.selectedMode&&(t.selectedMode.name===n.name?"red":""),e.createElement("button",{key:r,style:{position:"relative",top:"280px"},className:"CharacterSelect__button btn btn-main",onClick:function(){console.log(n),t.setSelectedMode(n),t.setActiveScreen(k)}},n.name)})))},No=function(t){f(r,t);var n=y(r);function r(t){var e;return s(this,r),(e=n.call(this,t)).state={},e}return u(r,[{key:"render",value:function(){return e.createElement("div",{className:"Title"},e.createElement("div",{style:{width:"100vw",height:"100vh",backgroundColor:"rgb(4, 49, 61)",backgroundImage:'url("'.concat(window.PUBLIC_URL,'/fire_man_blue.jpg")'),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundPositionY:"10px"}},e.createElement(Do,{modes:this.props.modes,selectedMode:this.props.selectedMode,setSelectedMode:this.props.setSelectedMode,setActiveScreen:this.props.setActiveScreen})))}}]),r}(e.Component),Fo={Level:To,Title:Po,Win:Ro,Lose:Oo,CharacterSelect:Io,ModeSelect:No},jo=function(t){f(n,t);var e=y(n);function n(t){var r,i=Object.assign({},t);return s(this,n),(r=e.call(this,o({},i))).label="Close",r.processDelay=0,r.energyCost=0,r}return u(n,[{key:"perform",value:function(){return this.actor.goToPreviousKeymap(),{success:!0,alternative:null}}}]),n}(Le),Wo=["passThroughEnergyCost","passThroughRequiredResources","projectileType"],Go=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.passThroughEnergyCost,a=void 0===i?ie:i,c=t.passThroughRequiredResources,u=void 0===c?[]:c,l=t.projectileType,f=void 0===l?Xe:l,h=Se(t,Wo);return s(this,n),(r=e.call(this,o({},h))).passThroughEnergyCost=a,r.passThroughRequiredResources=u,r.projectileType=f,r.processDelay=0,r.energyCost=0,r}return u(n,[{key:"perform",value:function(){var t=this,e=this.actor.contains(this.projectileType);if(!e)return{success:!1,alternative:null};e.game=this.game,e.pos={x:this.actor.pos.x,y:this.actor.pos.y};var n=this.actor.getPosition(),r=[],i=[];[de.N,de.S,de.E,de.W].forEach((function(a,o){for(var s=function(o){var s=!1,c=!1,u=null;if(o>0){var l=Bt(n,a.map((function(t){return t*o}))),f=Bt(n,a.map((function(t){return t*(o-1)})));if(t.game.canPassPositionWhenThrown(l,e,!0)?o===e.range&&(u=l,c=!0):(u=f,s=!0),s||c){var h=Qt(u,e.explosivity);return i=i.concat(h),(r=r.concat(h)).push(u),"break"}r.push(l)}},c=0;c<e.range+1;c++){if("break"===s(c))break}})),this.actor.activateCursor(r),i.forEach((function(e){t.actor.updateCursorNodeByPosition(e,[{key:"fill",value:fe.red},{key:"stroke",value:"transparent"}])}));var a=new jo({actor:this.actor,game:this.game,onAfter:function(){return t.actor.deactivateCursor()}}),s={Escape:function(){return a},w:function(){return new Qi({targetPos:o({},e.pos),actor:t.actor,game:t.game,entity:e,energyCost:t.passThroughEnergyCost,requiredResources:t.passThroughRequiredResources,label:"throw N",onBefore:function(){e.direction=de.N},onSuccess:function(){t.actor.deactivateCursor(),t.actor.removeFromContainer(e),t.actor.setNextAction(a)}})},d:function(){return new Qi({targetPos:o({},e.pos),actor:t.actor,game:t.game,entity:e,energyCost:t.passThroughEnergyCost,requiredResources:t.passThroughRequiredResources,label:"throw E",onBefore:function(){e.direction=de.E},onSuccess:function(){t.actor.deactivateCursor(),t.actor.removeFromContainer(e),t.actor.setNextAction(a)}})},s:function(){return new Qi({targetPos:o({},e.pos),actor:t.actor,game:t.game,entity:e,energyCost:t.passThroughEnergyCost,requiredResources:t.passThroughRequiredResources,label:"throw S",onBefore:function(){e.direction=de.S},onSuccess:function(){t.actor.deactivateCursor(),t.actor.removeFromContainer(e),t.actor.setNextAction(a)}})},a:function(){return new Qi({targetPos:o({},e.pos),actor:t.actor,game:t.game,entity:e,energyCost:t.passThroughEnergyCost,requiredResources:t.passThroughRequiredResources,label:"throw W",onBefore:function(){e.direction=de.W},onSuccess:function(){t.actor.deactivateCursor(),t.actor.removeFromContainer(e),t.actor.setNextAction(a)}})}};return this.actor.setKeymap(s),{success:!0,alternative:null}}}]),n}(Le),zo=["passThroughEnergyCost","passThroughRequiredResources"],Uo=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.passThroughEnergyCost,a=void 0===i?ie:i,c=t.passThroughRequiredResources,u=void 0===c?[]:c,l=Se(t,zo);return s(this,n),(r=e.call(this,o({},l))).passThroughEnergyCost=a,r.passThroughRequiredResources=u,r.processDelay=0,r.energyCost=0,r}return u(n,[{key:"updateCursors",value:function(t,e){var n=this.actor.getCursorPositions(),r=jt(e,this.actor.getCursorPositions()[0]);this.removeLastVisibleAnimations(t);var i=r.slice(1).filter((function(t){return!(0,re.find)(n,{x:t.x,y:t.y})}));this.addNewAnimations(i).forEach((function(e){return t.push(e)})),this.updateCursorColor(n)}},{key:"removeLastVisibleAnimations",value:function(t){var e=this;t.forEach((function(t){e.game.display.removeAnimation(t.id)}))}},{key:"addNewAnimations",value:function(t){var e=this,n=[];return t.forEach((function(t){var r=e.game.display.addAnimation(e.game.display.animationTypes.BLINK_TILE,{x:t.x,y:t.y,color:le.base3});n.push(r)})),n}},{key:"updateCursorColor",value:function(t){var e=this;t.forEach((function(t,n){var r=e.actor.getRangedAttackChance(t);r<=0&&e.actor.updateCursorNode(n,[{key:"fill",value:"transparent"},{key:"stroke",value:"white"}]),r>0&&r<=.5&&e.actor.updateCursorNode(n,[{key:"fill",value:le.red},{key:"stroke",value:"transparent"}]),r>.5&&r<=.7&&e.actor.updateCursorNode(n,[{key:"fill",value:le.yellow},{key:"stroke",value:"transparent"}]),r>=.7&&e.actor.updateCursorNode(n,[{key:"fill",value:le.green},{key:"stroke",value:"transparent"}])}))}},{key:"perform",value:function(){var t=this,e=this.actor.getPosition(),n=this.actor.getAttackRange(),r=this.actor.getItemInSlot(ve),i=[],a=[],s=function(e){return e.forEach((function(e){t.game.display.removeAnimation(e.id)}))},c=Qt(e,n),u=[],l=0;c.forEach((function(e){a.push(t.game.display.addAnimation(t.game.display.animationTypes.BLINK_BOX,{x:e.x,y:e.y,color:le.base3,isBlinking:!1,strokeWidth:1}));var n=t.game.map[Lt(e)];if(n){var r=n.entities.filter((function(e){return t.actor.isEnemy(e)})),i=r.length?r[0]:null;i&&u.push(i)}}));var f=[];u.length?(f.push(u[0].getPosition()),u.length>1&&(l=1)):f.push(o({},e)),r&&(f=r.getPositionsInShape(f[0])),this.actor.activateCursor(f),this.updateCursors(i,e);var h=new jo({actor:this.actor,game:this.game,onAfter:function(){t.actor.deactivateCursor(),s(i),s(a)}}),d={Escape:function(){return h},e:function(){return new Ne({actor:t.actor,game:t.game,label:"Next Target",targetPos:u.length?u[l].getPosition():null,range:n,availablePositions:c,onSuccess:function(){l=(l+1)%u.length,t.updateCursors(i,e)}})},q:function(){return new Ne({actor:t.actor,game:t.game,label:"Previous Target",targetPos:u.length?u[l].getPosition():null,range:n,availablePositions:c,onSuccess:function(){0===l?l=u.length-1:l-=1,t.updateCursors(i,e)}})},w:function(){return new Ne({actor:t.actor,game:t.game,label:"move N",direction:de.N,range:n,availablePositions:c,onSuccess:function(){t.updateCursors(i,e)}})},a:function(){return new Ne({actor:t.actor,game:t.game,label:"move W",direction:de.W,range:n,availablePositions:c,onSuccess:function(){t.updateCursors(i,e)}})},s:function(){return new Ne({actor:t.actor,game:t.game,label:"move S",direction:de.S,range:n,availablePositions:c,onSuccess:function(){t.updateCursors(i,e)}})},d:function(){return new Ne({actor:t.actor,game:t.game,label:"move E",direction:de.E,range:n,availablePositions:c,onSuccess:function(){t.updateCursors(i,e)}})},m:function(n){return new Ne({hidden:!0,actor:t.actor,game:t.game,targetPos:n,availablePositions:c,onSuccess:function(){t.updateCursors(i,e)}})},f:function(){return new er({label:"Fire",targetPositions:U(t.actor.getCursorPositions()),game:t.game,actor:t.actor,energyCost:t.passThroughEnergyCost,requiredResources:t.passThroughRequiredResources,onSuccess:function(){t.actor.deactivateCursor(),s(i),s(a),t.actor.setNextAction(h)}})},r:function(){return new Jn({label:"Reload",game:t.game,actor:t.actor,energyCost:ie})}};return this.actor.setKeymap(d),{success:!0,alternative:null}}}]),n}(Le),Bo=function(t){f(n,t);var e=y(n);function n(t){var r,i=Object.assign({},t);return s(this,n),(r=e.call(this,o({},i))).processDelay=0,r.energyCost=0,r}return u(n,[{key:"perform",value:function(){var t=this;this.game.visibleInventory=this.actor.container;var e=new jo({actor:this.actor,game:this.game}),n={Escape:function(){return e}};return this.actor.container.forEach((function(r,i){var a=r.items[0];n[i]=function(){return new mo({item:a,game:t.game,actor:t.actor,label:"Equip ".concat(a.name),energyCost:0,onSuccess:function(){t.game.visibleInventory=null,t.actor.setNextAction(e)}})}})),this.actor.setKeymap(n),{success:!0,alternative:null}}}]),n}(Le),Ho=["upgrade"],Vo=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.upgrade,a=Se(t,Ho);return s(this,n),(r=e.call(this,o({},a))).upgrade=i,r.particleTemplate={renderer:{sprite:"\ue8b5",character:"^",color:"white",background:"#3e7dc9"}},r}return u(n,[{key:"perform",value:function(){var t=this,e=!1;this.actor.upgrade(this.upgrade)&&(e=!0,$t(this.actor.pos.x,this.actor.pos.y,5).forEach((function(e){t.addParticle(4,o({},e),{x:-1*Math.sign(e.x-t.actor.pos.x),y:-1*Math.sign(e.y-t.actor.pos.y)})})),Gn.save.play());return{success:e,alternative:null}}}]),n}(Le),qo=function(t){f(n,t);var e=y(n);function n(t){var r,i=Object.assign({},t);return s(this,n),(r=e.call(this,o({},i))).name="Upgrade Points",r.actorResourcePath="upgrade_points",r.renderer={color:"white",background:"#3e7dc9",character:"^",sprite:"\ue8b5"},r}return u(n)}(Oe),Ko=function(t){f(n,t);var e=y(n);function n(t){var r,i=Object.assign({},t);return s(this,n),(r=e.call(this,o({},i))).processDelay=0,r.energyCost=0,r}return u(n,[{key:"perform",value:function(){var t=this,e=new jo({actor:this.actor,game:this.game}),n={Escape:function(){return e}};return this.actor.upgrade_tree.forEach((function(r,i){n[i]=function(){return new Vo({upgrade:r,game:t.game,actor:t.actor,label:"".concat(r.name),energyCost:0,requiredResources:[new qo({getResourceCost:function(){return r.cost}})],onSuccess:function(){t.actor.setNextAction(e)}})}})),this.actor.setKeymap(n),{success:!0,alternative:null}}}]),n}(Le),Xo=function(t){f(n,t);var e=y(n);function n(t){var r=Object.assign({},t);return s(this,n),e.call(this,o({},r))}return u(n,[{key:"perform",value:function(){var t=this,e=!1,n=this.game.map[Lt(this.actor.pos)].entities.filter((function(e){return e.id!==t.actor.id}));return n.length&&(n.forEach((function(n){t.game.addMessage("".concat(t.actor.name," picks up ").concat(n.name,"."),Ee.ACTION),t.actor.addToContainer(n),t.processPickupEffects(n,t.actor);var r=t.game.map[Lt(t.actor.pos)].entities;t.game.map[Lt(t.actor.pos)].entities=r.filter((function(t){return t.id!==n.id})),e=!0})),Gn.grab_0.play()),{success:e,alternative:null}}},{key:"processPickupEffects",value:function(t,e){(null===t||void 0===t?void 0:t.processPickupEffects)&&(null===t||void 0===t||t.processPickupEffects(e))}}]),n}(Le),Yo=function(t,e){return new Ra({game:t.game,name:"Lancer",passable:!0,attackRange:8,magazineSize:4,baseRangedAccuracy:.7,baseRangedDamage:2,attackDamage:1,pos:e,equipmentType:ve,renderer:{character:"L",color:yn,background:Rn},rangedHitSounds:[Bn.cog_rifle_fire_01,Bn.cog_rifle_fire_02,Bn.cog_rifle_fire_03,Bn.cog_rifle_fire_04],rangedMissSounds:[Bn.bullet_miss_01,Bn.bullet_miss_02,Bn.bullet_miss_03]})},$o=function(t,e){return new Ra({game:t.game,name:"Snub",passable:!0,attackRange:6,magazineSize:10,baseRangedAccuracy:.7,baseRangedDamage:1,attackDamage:1,pos:e,equipmentType:ve,renderer:{character:"S",color:yn,background:pn},rangedHitSounds:[Bn.pistol_fire_01,Bn.pistol_fire_02],rangedMissSounds:[Bn.bullet_miss_01,Bn.bullet_miss_02,Bn.bullet_miss_03]})},Qo=["buffValue"],Zo=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.buffValue,a=void 0===i?1:i,c=Se(t,Qo);return s(this,n),(r=e.call(this,o({},c))).name="Take Aim",r.allowDuplicates=!1,r.lifespan=-1,r.particleTemplate={renderer:{character:"+",sprite:"+",background:Rn,color:yn}},r.setWeapon=function(){var t=r.actor.getEquipedWeapons();return 0===t.length?null:(r.weapon=t[0],t[0])},r.actor_position=o({},r.actor.getPosition()),r.onStart=function(){var t=r.setWeapon();t&&(t.baseRangedAccuracy+=a,r.actor_background=t.renderer.background,r.actor_color=t.renderer.color,t.renderer.background=r.actor_color,t.renderer.color=r.actor_background)},r.onStep=function(){r.weapon&&Rt(r.actor.getPosition(),r.actor_position)||(r.lifespan=0)},r.onStop=function(){var t=r.weapon;t&&(t.baseRangedAccuracy-=a,t.renderer.color=r.actor_color,t.renderer.background=r.actor_background)},r}return u(n)}(Tr);function Jo(t){var e=Yo(t),n=new Oa({pos:{x:23,y:7},renderer:{sprite:"\ue819",character:"G",color:yn,background:kn},name:"The Scout",actions:[],speed:400,durability:5,attackDamage:0,baseRangedAccuracy:0,baseRangedDamage:0,upgrade_points:0,upgrade_tree:[ya({cost:1,name:"+1 Health",activate:function(t){t.durabilityMax+=1,t.increaseDurability(1)}}),ya({cost:1,name:"+10% Lancer Accuracy",activate:function(t){return e.baseRangedAccuracy+=.1}}),ya({cost:3,name:"+1 Actions",activate:function(t){t.speed+=ie,t.energy+=ie},removeOnActivate:!0}),ya({cost:3,name:"Full Health",canUpgrade:function(t){return t.durability<t.durabilityMax},activate:function(t){return t.increaseDurability(t.durabilityMax-t.durability)}})],equipment:be(),game:t.game,presentingUI:!0,faction:"COG",enemyFactions:["LOCUST"],initializeKeymap:function(t,n){return{Escape:function(){return new Kn({label:"Pass",message:"pass turn...",game:t.game,actor:n,interrupt:!0,energyCost:0})},w:function(){var e=de.N,r=n.pos.x+e[0],i=n.pos.y+e[1];return new Mi({hidden:!0,targetPos:{x:r,y:i},game:t.game,actor:n,energyCost:ie})},s:function(){var e=de.S,r=n.pos.x+e[0],i=n.pos.y+e[1];return new Mi({hidden:!0,targetPos:{x:r,y:i},game:t.game,actor:n,energyCost:ie})},a:function(){var e=de.W,r=n.pos.x+e[0],i=n.pos.y+e[1];return new Mi({hidden:!0,targetPos:{x:r,y:i},game:t.game,actor:n,energyCost:ie})},d:function(){var e=de.E,r=n.pos.x+e[0],i=n.pos.y+e[1];return new Mi({hidden:!0,targetPos:{x:r,y:i},game:t.game,actor:n,energyCost:ie})},p:function(){return new Kn({label:"Stay",message:"standing still...",game:t.game,actor:n,energyCost:ie})},f:function(){return new Uo({label:"Fire Weapon",game:t.game,actor:n,passThroughEnergyCost:ie,passThroughRequiredResources:[]})},r:function(){return new Jn({label:"Reload",game:t.game,actor:n,energyCost:ie})},i:function(){return new Bo({label:"Inventory",game:t.game,actor:n})},u:function(){return new Ko({label:"Upgrade",game:t.game,actor:n})},g:function(){return new Xo({label:"Pickup",game:t.game,actor:n})},t:function(){return new Go({label:"Grenade",projectileType:"Grenade",game:t.game,actor:n,passThroughEnergyCost:ie})},y:function(){return new Go({label:"Smoke",projectileType:"Smoke Grenade",game:t.game,actor:n,passThroughEnergyCost:ie})},c:function(){return new ir({label:"Rev Lancer Chainsaw",game:t.game,actor:n,energyCost:ie,effect:new Lr({buffValue:12,game:t.game,actor:e,lifespan:300,stepInterval:ie,onStartCallback:function(){Pt([Bn.chainsaw_01,Bn.chainsaw_02]).play()}}),particleTemplate:{renderer:{color:"#424242",background:"#e6e6e6",character:"\ue888"}}})},v:function(){return new ir({label:"Take Aim",game:t.game,actor:n,energyCost:200,effect:new Zo({buffValue:10,game:t.game,actor:n})})}}}}),r=Array(10).fill("").map((function(){return Hn(t)})),i=Array(2).fill("").map((function(){return Vn(t,6)})),a=$o(t);return n.container=[new xr({itemType:a.name,items:[a]}),new xr({itemType:r[0].name,items:r}),new xr({itemType:i[0].name,items:i})],n.equip(e.equipmentType,e),n}Zo.displayName="Take Aim";var ts=["direction","stepCount","processDelay"],es=["direction","processDelay"],ns=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.direction,a=t.processDelay,c=void 0===a?25:a,u=Se(t,es);return s(this,n),(r=e.call(this,o({},u))).direction=i,r.stepCount=0,r.processDelay=c,r}return u(n,[{key:"perform",value:function(){var t=null,e={x:this.actor.pos.x+this.direction[0],y:this.actor.pos.y+this.direction[1]};if((t=new Ri({targetPos:e,additionalDamage:this.stepCount,game:this.game,actor:this.actor,energyCost:0}),this.actor.energy>ie)&&this.actor.shove(e,this.direction)){this.stepCount+=1,t=this;for(var n=0;n<3;n++)this.addParticle(1,{x:this.actor.pos.x-this.direction[0]*n,y:this.actor.pos.y-this.direction[1]*n},{x:0,y:0})}return{success:!0,alternative:t}}}]),n}(function(t){f(n,t);var e=y(n);function n(t){var r,i=t.direction,a=t.stepCount,c=t.processDelay,u=void 0===c?25:c,l=Se(t,ts);return s(this,n),(r=e.call(this,o({},l))).direction=i,r.stepCount=a,r.processDelay=u,r}return u(n,[{key:"perform",value:function(){var t=!1,e=null,n={x:this.actor.pos.x+this.direction[0],y:this.actor.pos.y+this.direction[1]};return this.stepCount>0&&this.actor.move(n)?(this.stepCount-=1,this.actor.setNextAction(this),t=!0):(t=!0,e=new Ri({targetPos:n,game:this.game,actor:this.actor,energyCost:ie})),{success:t,alternative:e}}}]),n}(Le)),rs=["passThroughEnergyCost","passThroughRequiredResources"],is=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.passThroughEnergyCost,a=void 0===i?ie:i,c=t.passThroughRequiredResources,u=void 0===c?[]:c,l=Se(t,rs);return s(this,n),(r=e.call(this,o({},l))).passThroughEnergyCost=a,r.passThroughRequiredResources=u,r.processDelay=0,r.energyCost=0,r}return u(n,[{key:"perform",value:function(){var t=this,e=this.actor.getPosition(),n=[];[de.N,de.S,de.E,de.W].forEach((function(r,i){Array(t.actor.energy/ie).fill("").forEach((function(t,i){i>0&&n.push(Bt(e,r.map((function(t){return t*i}))))}))})),this.actor.activateCursor(n);var r=new jo({actor:this.actor,game:this.game,onAfter:function(){return t.actor.deactivateCursor()}}),i={Escape:function(){return r},w:function(){return new ns({actor:t.actor,game:t.game,energyCost:t.passThroughEnergyCost,requiredResources:t.passThroughRequiredResources,label:"tackle N",direction:de.N,particleTemplate:xe.leaf,onSuccess:function(){t.actor.deactivateCursor(),t.actor.setNextAction(r)}})},d:function(){return new ns({actor:t.actor,game:t.game,energyCost:t.passThroughEnergyCost,requiredResources:t.passThroughRequiredResources,label:"tackle E",direction:de.E,particleTemplate:xe.leaf,onSuccess:function(){t.actor.deactivateCursor(),t.actor.setNextAction(r)}})},s:function(){return new ns({actor:t.actor,game:t.game,energyCost:t.passThroughEnergyCost,requiredResources:t.passThroughRequiredResources,label:"tackle S",direction:de.S,particleTemplate:xe.leaf,onSuccess:function(){t.actor.deactivateCursor(),t.actor.setNextAction(r)}})},a:function(){return new ns({actor:t.actor,game:t.game,energyCost:t.passThroughEnergyCost,requiredResources:t.passThroughRequiredResources,label:"tackle W",direction:de.W,particleTemplate:xe.leaf,onSuccess:function(){t.actor.deactivateCursor(),t.actor.setNextAction(r)}})}};return this.actor.setKeymap(i),{success:!0,alternative:null}}}]),n}(Le),as=function(t,e){return new Ra({game:t.game,name:"Boltok",passable:!0,attackRange:4,magazineSize:2,baseRangedAccuracy:.8,baseRangedDamage:3,attackDamage:1,pos:e,equipmentType:ve,renderer:{character:"B",color:yn,background:En},rangedHitSounds:[Bn.boltok_fire_01,Bn.boltok_fire_02],rangedMissSounds:[Bn.bullet_miss_01,Bn.bullet_miss_02,Bn.bullet_miss_03]})},os=["buffValue"],ss=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.buffValue,a=void 0===i?1:i,c=Se(t,os);return s(this,n),(r=e.call(this,o({},c))).name="Extra Round Reload",r.allowDuplicates=!1,r.lifespan=-1,r.particleTemplate={renderer:{character:"||",sprite:"\ue891",background:Rn,color:yn}},r.setWeapon=function(){var t=r.actor.getEquipedWeapons();return 0===t.length?null:(r.weapon=t[0],t[0])},r.onStart=function(){var t=r.setWeapon();t&&(t.baseRangedDamage+=a,t.reload(),t.magazine+=a,r.actor_background=t.renderer.background,r.actor_color=t.renderer.color,t.renderer.background=r.actor_color,t.renderer.color=r.actor_background)},r.onStep=function(){console.log("step");var t=r.weapon;t&&t.magazine<=t.magazineSize&&(r.lifespan=0)},r.onStop=function(){var t=r.weapon;t&&(t.baseRangedDamage-=a,t.renderer.color=r.actor_color,t.renderer.background=r.actor_background)},r}return u(n)}(Tr);function cs(t){var e=function(t,e){return new Ra({game:t.game,name:"Retro Lancer",passable:!0,attackRange:6,magazineSize:3,baseRangedAccuracy:.7,baseRangedDamage:2,attackDamage:2,pos:e,equipmentType:ve,renderer:{character:"R",color:yn,background:xn},rangedHitSounds:[Bn.cog_rifle_fire_01,Bn.cog_rifle_fire_02,Bn.cog_rifle_fire_03,Bn.cog_rifle_fire_04],rangedMissSounds:[Bn.bullet_miss_01,Bn.bullet_miss_02,Bn.bullet_miss_03]})}(t),n=new Oa({pos:{x:23,y:7},renderer:{sprite:"\ue819",character:"G",color:yn,background:kn},name:"The Veteran",speed:300,durability:7,baseRangedAccuracy:0,baseRangedDamage:0,attackDamage:0,upgrade_points:0,upgrade_tree:[ya({cost:1,name:"+1 Health",activate:function(t){t.durabilityMax+=1,t.increaseDurability(1)}}),ya({cost:1,name:"+1 Melee Damage",activate:function(t){return e.attackDamage+=1}}),ya({cost:3,name:"Full Health",canUpgrade:function(t){return t.durability<t.durabilityMax},activate:function(t){return t.increaseDurability(t.durabilityMax-t.durability)}})],equipment:be(),game:t.game,presentingUI:!0,faction:"COG",enemyFactions:["LOCUST"],initializeKeymap:function(t,e){return{Escape:function(){return new Kn({label:"Pass",message:"pass turn...",game:t.game,actor:e,interrupt:!0,energyCost:0})},w:function(){var n=de.N,r=e.pos.x+n[0],i=e.pos.y+n[1];return new Mi({hidden:!0,targetPos:{x:r,y:i},game:t.game,actor:e,energyCost:ie})},s:function(){var n=de.S,r=e.pos.x+n[0],i=e.pos.y+n[1];return new Mi({hidden:!0,targetPos:{x:r,y:i},game:t.game,actor:e,energyCost:ie})},a:function(){var n=de.W,r=e.pos.x+n[0],i=e.pos.y+n[1];return new Mi({hidden:!0,targetPos:{x:r,y:i},game:t.game,actor:e,energyCost:ie})},d:function(){var n=de.E,r=e.pos.x+n[0],i=e.pos.y+n[1];return new Mi({hidden:!0,targetPos:{x:r,y:i},game:t.game,actor:e,energyCost:ie})},p:function(){return new Kn({label:"Stay",message:"standing still...",game:t.game,actor:e,energyCost:ie})},f:function(){return new Uo({label:"Fire Weapon",game:t.game,actor:e,passThroughEnergyCost:ie,passThroughRequiredResources:[]})},r:function(){return new Jn({label:"Reload",game:t.game,actor:e,energyCost:ie})},v:function(){return new ir({label:"Extra Round Reload",game:t.game,actor:e,energyCost:200,effect:new ss({buffValue:2,game:t.game,actor:e})})},i:function(){return new Bo({label:"Inventory",game:t.game,actor:e})},u:function(){return new Ko({label:"Upgrade",game:t.game,actor:e})},g:function(){return new Xo({label:"Pickup",game:t.game,actor:e})},t:function(){return new Go({label:"Grenade",projectileType:"Grenade",game:t.game,actor:e,passThroughEnergyCost:ie})},c:function(){return new is({label:"Bayonet Charge",game:t.game,actor:e,passThroughEnergyCost:ie})}}}}),r=Array(10).fill("").map((function(){return Hn(t)})),i=Array(2).fill("").map((function(){return Vn(t,6)})),a=Cr(t);return n.container=[new xr({itemType:a.name,items:[a]}),new xr({itemType:r[0].name,items:r}),new xr({itemType:i[0].name,items:i})],n.equip(e.equipmentType,e),n}ss.displayName="Extra Round Reload";var us=["item","itemName","targetPos"],ls=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.item,a=void 0===i?null:i,c=t.itemName,u=void 0===c?null:c,l=t.targetPos,f=void 0===l?null:l,h=Se(t,us);return s(this,n),(r=e.call(this,o({},h))).item=a,r.itemName=u,r.targetPos=f,r}return u(n,[{key:"getitem",value:function(){return this.item?this.item:this.itemName?this.actor.contains(this.itemName):null}},{key:"newItemPosition",value:function(){return this.targetPos||this.actor.getPosition()}},{key:"perform",value:function(){var t=this.getitem();if(this.game.addMessage("".concat(this.actor.name," drops ").concat(t.name,"."),Ee.ACTION),!this.actor.removeFromContainer(t))return{success:!1,alternative:null};var e=this.newItemPosition();return t.pos=e,this.game.map[Lt(e)].entities.push(t),{success:!0,alternative:null}}}]),n}(Le),fs=["damage","useCount"],hs=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.damage,a=void 0===i?1:i,c=t.useCount,u=void 0===c?3:c,l=Se(t,fs);return s(this,n),(r=e.call(this,o({},l))).name="Trap Damage",r.allowDuplicates=!1,r.timeToLive=1/0,r.renderer={color:yn,background:Pn,character:"^"},r.damage=a,r.uses=u,r.onStep=r.handleStep,r}return u(n,[{key:"handleStep",value:function(){var t=this.actor.getPosition();if(!ds(t)){var e=this.getEnemiesAtCurrentPosition();0!=e.length&&(e[0].decreaseDurability(this.damage),this.uses-=1,this.playDamageSound(),this.uses<=0&&(this.actor.destroy(),this.playDestroyedSound()))}}},{key:"playDamageSound",value:function(){Pt([Gn.chop_0,Gn.chop_1]).play()}},{key:"playDestroyedSound",value:function(){Gn.grab_0.play()}},{key:"getEnemiesAtCurrentPosition",value:function(){var t=this,e=It(this.game,this.actor.getPosition());return e?qt(e.entities).filter((function(e){return t.actor.id!==e.id&&t.actor.isEnemy(e)})):[]}}]),n}(Tr);hs.displayName="Trap Damage";var ds=function(t){return Rt({x:0,y:0},t)},ps=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,i=new Sa({game:t.game,name:"Trap",passable:!0,renderer:{character:"*",sprite:"\ue8c8",color:yn,background:Pn},enemyFactions:e.enemyFactions}),a=new hs({actor:i,game:t.game,damage:n,useCount:r});return t.addStatusEffect(a),i},gs=["passThroughEnergyCost","passThroughRequiredResources","itemName"],ys=["N","S","E","W"],vs=ys.map((function(t){return de[t]})),ms={N:"w",S:"s",E:"d",W:"a"},_s=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.passThroughEnergyCost,a=void 0===i?ie:i,c=t.passThroughRequiredResources,u=void 0===c?[]:c,l=t.itemName,f=Se(t,gs);return s(this,n),(r=e.call(this,o({},f))).passThroughEnergyCost=a,r.passThroughRequiredResources=u,r.processDelay=0,r.energyCost=0,r.itemName=l,r}return u(n,[{key:"perform",value:function(){var t=this,e=this.actor.getPosition(),n=vs.map((function(t){return Bt(e,t)}));this.actor.activateCursor(n);var r=new jo({actor:this.actor,game:this.game,onAfter:function(){return t.actor.deactivateCursor()}}),i={Escape:function(){return r}};return ys.forEach((function(n){i[ms[n]]=function(){return new ls({actor:t.actor,game:t.game,interrupt:!1,energyCost:t.passThroughEnergyCost,requiredResources:t.passThroughRequiredResources,label:"target ".concat(n),itemName:t.itemName,targetPos:Bt(e,de[n]),onSuccess:function(){t.actor.deactivateCursor(),t.actor.setNextAction(r)}})}})),this.actor.setKeymap(i),{success:!0,alternative:null}}}]),n}(Le);function bs(t){var e=function(t,e){return new Ra({game:t.game,name:"Longshot",passable:!0,attackRange:14,magazineSize:1,baseRangedAccuracy:1,baseRangedDamage:10,attackDamage:1,pos:e,equipmentType:ve,renderer:{character:"L",color:gn,background:fn},rangedHitSounds:[Bn.longshot_fire_01,Bn.longshot_fire_02,Bn.longshot_fire_03],rangedMissSounds:[Bn.bullet_miss_01,Bn.bullet_miss_02,Bn.bullet_miss_03]})}(t),n=as(t),r=new Oa({pos:{x:23,y:7},renderer:{sprite:"\ue819",character:"G",color:yn,background:kn},name:"The Stranded",speed:300,durability:4,baseRangedAccuracy:0,baseRangedDamage:0,attackDamage:0,upgrade_points:0,upgrade_tree:[ya({cost:1,name:"+1 Health",activate:function(t){t.durabilityMax+=1,t.increaseDurability(1)}}),ya({cost:1,name:"+5% Longshot Accuracy",activate:function(t){return e.baseRangedAccuracy+=.05}}),ya({cost:1,name:"+5% Boltok Accuracy",activate:function(t){return n.baseRangedAccuracy+=.05}}),ya({cost:1,name:"Craft 2 Grenades",activate:function(e){Array(2).fill("").map((function(){return e.addToContainer(Vn(t,6))}))}}),ya({cost:1,name:"Craft 6 Traps",activate:function(e){Array(6).fill("").map((function(){return e.addToContainer(ps(t,e))}))}}),ya({cost:1,name:"Craft 10 Ammo",activate:function(e){Array(10).fill("").map((function(){return e.addToContainer(Hn(t))}))}}),ya({cost:3,name:"Full Health",canUpgrade:function(t){return t.durability<t.durabilityMax},activate:function(t){return t.increaseDurability(t.durabilityMax-t.durability)}})],equipment:be(),game:t.game,presentingUI:!0,faction:"COG",enemyFactions:["LOCUST"],initializeKeymap:function(t,e){return{Escape:function(){return new Kn({label:"Pass",message:"pass turn...",game:t.game,actor:e,interrupt:!0,energyCost:0})},w:function(){var n=de.N,r=e.pos.x+n[0],i=e.pos.y+n[1];return new Mi({hidden:!0,targetPos:{x:r,y:i},game:t.game,actor:e,energyCost:ie})},s:function(){var n=de.S,r=e.pos.x+n[0],i=e.pos.y+n[1];return new Mi({hidden:!0,targetPos:{x:r,y:i},game:t.game,actor:e,energyCost:ie})},a:function(){var n=de.W,r=e.pos.x+n[0],i=e.pos.y+n[1];return new Mi({hidden:!0,targetPos:{x:r,y:i},game:t.game,actor:e,energyCost:ie})},d:function(){var n=de.E,r=e.pos.x+n[0],i=e.pos.y+n[1];return new Mi({hidden:!0,targetPos:{x:r,y:i},game:t.game,actor:e,energyCost:ie})},p:function(){return new Kn({label:"Stay",message:"standing still...",game:t.game,actor:e,energyCost:ie})},f:function(){return new Uo({label:"Fire Weapon",game:t.game,actor:e,passThroughEnergyCost:ie,passThroughRequiredResources:[]})},r:function(){return new Jn({label:"Reload",game:t.game,actor:e,energyCost:ie})},i:function(){return new Bo({label:"Inventory",game:t.game,actor:e})},u:function(){return new Ko({label:"Upgrade",game:t.game,actor:e})},g:function(){return new Xo({label:"Pickup",game:t.game,actor:e})},t:function(){return new Go({label:"Grenade",projectileType:"Grenade",game:t.game,actor:e,passThroughEnergyCost:ie})},y:function(){return new _s({label:"Place Trap",itemName:"Trap",game:t.game,actor:e})}}}}),i=Array(15).fill("").map((function(){return Hn(t)})),a=Array(2).fill("").map((function(){return Vn(t,6)})),o=Array(4).fill("").map((function(){return ps(t,r)}));return r.container=[new xr({itemType:n.name,items:[n]}),new xr({itemType:i[0].name,items:i}),new xr({itemType:a[0].name,items:a}),new xr({itemType:o[0].name,items:o})],r.equip(e.equipmentType,e),r}var ws=["loadout"],xs=function(t,e){return Es(t,e,ks.basic_cog())},ks={basic_cog:function(){return{name:"Cog",renderer:{character:"c",color:kn,background:xn,sprite:"\ue819"},durability:3,attackDamage:1,behaviors:[new lr({repeat:5}),new _r({repeat:1}),new nr({repeat:1}),new pr({repeat:5})],loadout:{equipmentCreators:[Yo],inventoryCreators:[{amount:100,creator:Hn}]}}}},Cs=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Da({name:"Pod",game:t.game,passable:!0,renderer:{character:"+",sprite:"\ue80a",color:xn,background:fn},timeToSpread:1,spreadCount:e,durability:1,faction:"COG",enemyFactions:["LOCUST"],speed:ie,getSpawnedEntity:function(e){return xs(t,e)}})};function Es(t,e,n){return function(t){var e=t.loadout,n=Se(t,ws),r=new Pa(o({},n));e&&function(t,e){var n=e.equipmentCreators,r=e.inventoryCreators,i=t.game.engine,a=r.map((function(t){var e=t.amount,n=t.creator;return function(t,e,n){var r=Array(e).fill("").map((function(){return n(t)}));return new xr({itemType:r[0].name,items:r})}(i,e,n)}));t.container=a,n.forEach((function(e){var n=e(i);t.equip(n.equipmentType,n)}))}(r,e);return r}(o(o({},function(t,e){return{pos:e,game:t.game,faction:"COG",enemyFactions:["LOCUST"],equipment:be(),onDestroy:function(e){var n=Math.random();n<=.05?t.addAmmoLoot(e.getPosition()):n<=.1&&t.addGrenadeLoot(e.getPosition())}}}(t,e)),n))}var As=["passThroughEnergyCost","passThroughRequiredResources"],Ss=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.passThroughEnergyCost,a=void 0===i?ie:i,c=t.passThroughRequiredResources,u=void 0===c?[]:c,l=Se(t,As);return s(this,n),(r=e.call(this,o({},l))).passThroughEnergyCost=a,r.passThroughRequiredResources=u,r.processDelay=0,r.energyCost=0,r}return u(n,[{key:"getReinforcementCount",value:function(){return this.actor.reinforcementCount||1}},{key:"perform",value:function(){var t=this,e=this.actor.getPosition(),n=[de.N,de.S,de.E,de.W].map((function(t){return Bt(e,t)}));this.actor.activateCursor(n);var r=new jo({actor:this.actor,game:this.game,onAfter:function(){return t.actor.deactivateCursor()}}),i=Cs(this.game.mode,this.getReinforcementCount()),a={Escape:function(){return r},w:function(){return new Qi({actor:t.actor,game:t.game,interrupt:!1,energyCost:t.passThroughEnergyCost,requiredResources:t.passThroughRequiredResources,label:"target N",entity:i,targetPos:Bt(e,de.N),onSuccess:function(){t.actor.deactivateCursor(),t.actor.setNextAction(r)}})},d:function(){return new Qi({actor:t.actor,game:t.game,interrupt:!1,energyCost:t.passThroughEnergyCost,requiredResources:t.passThroughRequiredResources,label:"target E",entity:i,targetPos:Bt(e,de.E),onSuccess:function(){t.actor.deactivateCursor(),t.actor.setNextAction(r)}})},s:function(){return new Qi({actor:t.actor,game:t.game,interrupt:!1,energyCost:t.passThroughEnergyCost,requiredResources:t.passThroughRequiredResources,label:"target S",entity:i,targetPos:Bt(e,de.S),onSuccess:function(){t.actor.deactivateCursor(),t.actor.setNextAction(r)}})},a:function(){return new Qi({actor:t.actor,game:t.game,interrupt:!1,energyCost:t.passThroughEnergyCost,requiredResources:t.passThroughRequiredResources,label:"target W",entity:i,targetPos:Bt(e,de.W),onSuccess:function(){t.actor.deactivateCursor(),t.actor.setNextAction(r)}})}};return this.actor.setKeymap(a),{success:!0,alternative:null}}}]),n}(Le),Ts=["passThroughEnergyCost","passThroughRequiredResources","effectClass","effectDefaults"],Ps=function(t){f(n,t);var e=y(n);function n(t){var r,i=t.passThroughEnergyCost,a=void 0===i?ie:i,c=t.passThroughRequiredResources,u=void 0===c?[]:c,l=t.effectClass,f=t.effectDefaults,h=void 0===f?{}:f,d=Se(t,Ts);return s(this,n),(r=e.call(this,o({},d))).passThroughEnergyCost=a,r.passThroughRequiredResources=u,r.effectClass=l,r.effectDefaults=h,r.processDelay=0,r.energyCost=0,r}return u(n,[{key:"createEffects",value:function(){var t=this,e=[];return this.actor.getCursorPositions().forEach((function(n){var r=t.actor.game.map[Lt(n)];r&&t.effectClass.getValidTargetsOnTile(r,t.actor).forEach((function(n){var r=new t.effectClass(o(o({},t.effectDefaults),{},{actor:n,game:t.actor.game}));e.push(r)}))})),e}},{key:"createAddStatusEffectsAction",value:function(){var t=this,e=this.createEffects();return new or({label:"Activate",effects:e,game:this.game,actor:this.actor,energyCost:this.passThroughEnergyCost,requiredResources:this.passThroughRequiredResources,onSuccess:function(){return t.actor.setNextAction(t.createGoToPreviousKeymapAction())}})}},{key:"createGoToPreviousKeymapAction",value:function(){var t=this;return new jo({actor:this.actor,game:this.game,onAfter:function(){t.actor.deactivateCursor()}})}},{key:"perform",value:function(){var t=this,e=this.actor.getPosition(),n=this.actor.getStatusEffectRange(),r=Qt(e,n);this.actor.activateCursor(r),r.forEach((function(e,n){var r=t.game.map[Lt(e)];if(r){var i=t.effectClass.getValidTargetsOnTile(r,t.actor);(i.length?i[0]:null)&&t.actor.updateCursorNode(n,[{key:"fill",value:fe.cog1},{key:"stroke",value:"transparent"}])}}));var i={Escape:function(){return t.createGoToPreviousKeymapAction()},b:function(){return t.createAddStatusEffectsAction()}};return this.actor.setKeymap(i),{success:!0,alternative:null}}}]),n}(Le),Os=function(t){f(n,t);var e=y(n);function n(t){var r,i=Object.assign({},t);return s(this,n),(r=e.call(this,o({},i))).processDelay=0,r.energyCost=0,r}return u(n,[{key:"perform",value:function(){var t=this,e=new jo({actor:this.actor,game:this.game}),n={Escape:function(){return e}};return this.actor.getAvailableStatusEffects().forEach((function(e,r){n[r]=function(){return new Ps({label:e.displayName,game:t.game,actor:t.actor,passThroughEnergyCost:100,effectClass:e,effectDefaults:{buffValue:1,lifespan:1e3,stepInterval:ie,processDelay:200}})}})),this.actor.setKeymap(n),{success:!0,alternative:null}}}]),n}(Le),Rs=["buffValue"],Ls=function(t){f(n,t);var e=y(n);function n(t){t.buffValue;var r,i=Se(t,Rs);return s(this,n),(r=e.call(this,o({},i))).name="Melee Damage Debuff",r.allowDuplicates=!1,r.actor_background=r.actor.renderer.background,r.actor_color=r.actor.renderer.color,r.attackDamage=r.actor.attackDamage,r.onStart=function(){r.actor.attackDamage=Math.min(0,r.actor.attackDamage-1),r.actor.renderer.background=r.actor_color,r.actor.renderer.color=r.actor_background},r.onStop=function(){r.actor.attackDamage=r.attackDamage,r.actor.renderer.color=r.actor_color,r.actor.renderer.background=r.actor_background},r}return u(n,null,[{key:"getValidTargetsOnTile",value:function(t,e){return qt(t.entities).filter((function(t){return e.id!==t.id&&e.isEnemy(t)}))}}]),n}(Tr);function Ms(t){var e=$o(t),n=new Oa({pos:{x:23,y:7},renderer:{sprite:"\ue819",character:"G",color:yn,background:kn},name:"The Commander",speed:300,durability:5,baseRangedAccuracy:0,baseRangedDamage:0,attackDamage:0,upgrade_points:0,upgrade_tree:[ya({cost:1,name:"Gain Melee Debuff Action",removeOnActivate:!0,activate:function(t){return t.addAvailableStatusEffect(Ls)}}),ya({cost:1,name:"+1 Effect Range",canUpgrade:function(t){return t.getStatusEffectRange()<t.statusEffectRangeMax},activate:function(t){return t.increaseStatusEffectRange(1)}}),ya({cost:1,name:"+1 Reinforcements",activate:function(t){return t.reinforcementCount+=1}}),ya({cost:3,name:"Full Health",canUpgrade:function(t){return t.durability<t.durabilityMax},activate:function(t){return t.increaseDurability(t.durabilityMax-t.durability)}})],availableStatusEffects:[Or],equipment:be(),game:t.game,presentingUI:!0,faction:"COG",enemyFactions:["LOCUST"],initializeKeymap:function(t,e){return{Escape:function(){return new Kn({label:"Pass",message:"pass turn...",game:t.game,actor:e,interrupt:!0,energyCost:0})},w:function(){var n=de.N,r=e.pos.x+n[0],i=e.pos.y+n[1];return new Mi({hidden:!0,targetPos:{x:r,y:i},game:t.game,actor:e,energyCost:ie})},s:function(){var n=de.S,r=e.pos.x+n[0],i=e.pos.y+n[1];return new Mi({hidden:!0,targetPos:{x:r,y:i},game:t.game,actor:e,energyCost:ie})},a:function(){var n=de.W,r=e.pos.x+n[0],i=e.pos.y+n[1];return new Mi({hidden:!0,targetPos:{x:r,y:i},game:t.game,actor:e,energyCost:ie})},d:function(){var n=de.E,r=e.pos.x+n[0],i=e.pos.y+n[1];return new Mi({hidden:!0,targetPos:{x:r,y:i},game:t.game,actor:e,energyCost:ie})},p:function(){return new Kn({label:"Stay",message:"standing still...",game:t.game,actor:e,energyCost:ie})},f:function(){return new Uo({label:"Fire Weapon",game:t.game,actor:e,passThroughEnergyCost:ie,passThroughRequiredResources:[]})},r:function(){return new Jn({label:"Reload",game:t.game,actor:e,energyCost:ie})},i:function(){return new Bo({label:"Inventory",game:t.game,actor:e})},u:function(){return new Ko({label:"Upgrade",game:t.game,actor:e})},g:function(){return new Xo({label:"Pickup",game:t.game,actor:e})},t:function(){return new Go({label:"Grenade",projectileType:"Grenade",game:t.game,actor:e,passThroughEnergyCost:ie})},c:function(){return new Ss({label:"Call Reinforcments",game:t.game,actor:e,passThroughEnergyCost:300,passThroughRequiredResources:[new qo({getResourceCost:function(){return 1}})]})},b:function(){return new Os({label:"Buff/Debuff",game:t.game,actor:e})}}}});n.reinforcementCount=1;var r=Array(10).fill("").map((function(){return Hn(t)})),i=Array(2).fill("").map((function(){return Vn(t,6)})),a=as(t);return n.container=[new xr({itemType:a.name,items:[a]}),new xr({itemType:r[0].name,items:r}),new xr({itemType:i[0].name,items:i})],n.equip(e.equipmentType,e),n}Ls.displayName="Melee Damage Debuff";var Is=function(){return{The_Scout:Jo,The_Veteran:cs,The_Commander:Ms,The_Stranded:bs}},Ds=function(t){f(r,t);var n=y(r);function r(){var t;s(this,r),t=n.call(this);var e=Is(),i=Object.keys(e).map((function(t,n){return{initialize:e[t],selected:!1,name:t.split("_").join(" ")}})),a=Object.keys(Xr).map((function(t,e){return{class:Xr[t],selected:!1,name:t.split("_").join(" ")}}));return t.state={activeScreen:_,characters:i,modes:a,selectedCharacter:null,selectedMode:a[0]},t}return u(r,[{key:"setActiveScreen",value:function(t){t===_&&Object.keys(Gn).forEach((function(t){Gn[t].stop()})),this.setState({activeScreen:t})}},{key:"setSelectedCharacter",value:function(t){this.setState({selectedCharacter:o({},t)})}},{key:"setSelectedMode",value:function(t){this.setState({selectedMode:t})}},{key:"getActiveScreen",value:function(){var t=e.createElement(Fo.CharacterSelect,{key:k,setActiveScreen:this.setActiveScreen.bind(this),setSelectedCharacter:this.setSelectedCharacter.bind(this),selectedCharacter:this.state.selectedCharacter,characters:this.state.characters}),n=e.createElement(Fo.Title,{key:_,setActiveScreen:this.setActiveScreen.bind(this),setSelectedCharacter:this.setSelectedCharacter.bind(this),selectedCharacter:this.state.selectedCharacter,characters:this.state.characters}),r=e.createElement(Fo.Lose,{key:w,setActiveScreen:this.setActiveScreen.bind(this),setSelectedCharacter:this.setSelectedCharacter.bind(this),selectedCharacter:this.state.selectedCharacter,characters:this.state.characters}),i=e.createElement(Fo.Win,{key:x,setActiveScreen:this.setActiveScreen.bind(this),setSelectedCharacter:this.setSelectedCharacter.bind(this),selectedCharacter:this.state.selectedCharacter,characters:this.state.characters}),a=e.createElement(Fo.Level,{key:b,setActiveScreen:this.setActiveScreen.bind(this),selectedCharacter:this.state.selectedCharacter,selectedMode:this.state.selectedMode});switch(this.state.activeScreen){case k:return t;case _:return n;case w:return r;case x:return i;case b:return a;default:return n}}},{key:"render",value:function(){var t=this.getActiveScreen();return e.createElement("div",{className:"Nystrum"},e.createElement(m(),{transitionName:"fade",transitionAppear:!0,transitionEnter:!0,transitionLeave:!0,transitionAppearTimeout:500,transitionEnterTimeout:500,transitionLeaveTimeout:300},t))}}]),r}(e.Component);var Ns=function(){return e.createElement("div",{className:"App container-fluid"},e.createElement(Ds,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.render(e.createElement(Ns,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}()}();
//# sourceMappingURL=main.ea181360.js.map